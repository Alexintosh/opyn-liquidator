(this["webpackJsonpweb-liquidate"]=this["webpackJsonpweb-liquidate"]||[]).push([[1],{453:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,o=r(612),i=(n=o)&&n.__esModule?n:{default:n};var s="function"===typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,i.default)(t):t},e.isAsync=a},464:function(t,e,r){var n=r(41).EventEmitter,o=r(179).inherits,i=r(510),s=r(585),a=r(588),u=r(616),c=r(619),f=(r(620),r(476));function l(t){n.call(this),this.setMaxListeners(30),t=t||{};var e={sendAsync:this._handleAsync.bind(this)},r=t.blockTrackerProvider||e;this._blockTracker=t.blockTracker||new s({provider:r,pollingInterval:t.pollingInterval||4e3,setSkipCacheFlag:!0}),this._ready=new c,this.currentBlock=null,this._providers=[]}function p(t){return{number:i.toBuffer(t.number),hash:i.toBuffer(t.hash),parentHash:i.toBuffer(t.parentHash),nonce:i.toBuffer(t.nonce),mixHash:i.toBuffer(t.mixHash),sha3Uncles:i.toBuffer(t.sha3Uncles),logsBloom:i.toBuffer(t.logsBloom),transactionsRoot:i.toBuffer(t.transactionsRoot),stateRoot:i.toBuffer(t.stateRoot),receiptsRoot:i.toBuffer(t.receiptRoot||t.receiptsRoot),miner:i.toBuffer(t.miner),difficulty:i.toBuffer(t.difficulty),totalDifficulty:i.toBuffer(t.totalDifficulty),size:i.toBuffer(t.size),extraData:i.toBuffer(t.extraData),gasLimit:i.toBuffer(t.gasLimit),gasUsed:i.toBuffer(t.gasUsed),timestamp:i.toBuffer(t.timestamp),transactions:t.transactions}}t.exports=l,o(l,n),l.prototype.start=function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this);e._ready.go(),e._blockTracker.on("latest",(function(r){e._getBlockByNumberWithRetry(r,(function(r,n){if(r)t.emit("error",r);else{if(!n)return console.log(n),void t.emit("error",new Error("Could not find block"));var o=p(n);e._setCurrentBlock(o),e.emit("rawBlock",n),e.emit("latest",n)}}))})),e._blockTracker.on("sync",e.emit.bind(e,"sync")),e._blockTracker.on("error",e.emit.bind(e,"error")),e._running=!0,e.emit("start")},l.prototype.stop=function(){this._blockTracker.removeAllListeners(),this._running=!1,this.emit("stop")},l.prototype.isRunning=function(){return this._running},l.prototype.addProvider=function(t,e){"number"===typeof e?this._providers.splice(e,0,t):this._providers.push(t),t.setEngine(this)},l.prototype.removeProvider=function(t){var e=this._providers.indexOf(t);if(e<0)throw new Error("Provider not found.");this._providers.splice(e,1)},l.prototype.send=function(t){throw new Error("Web3ProviderEngine does not support synchronous requests.")},l.prototype.sendAsync=function(t,e){var r=this;r._ready.await((function(){Array.isArray(t)?a(t,r._handleAsync.bind(r),e):r._handleAsync(t,e)}))},l.prototype._getBlockByNumberWithRetry=function(t,e){var r=this,n=5;return void o();function o(){r._getBlockByNumber(t,i)}function i(t,r){return t?e(t):r?void e(null,r):n>0?(n--,void setTimeout((function(){o()}),1e3)):void e(null,null)}},l.prototype._getBlockByNumber=function(t,e){var r=f({method:"eth_getBlockByNumber",params:[t,!1],skipCache:!0});this._handleAsync(r,(function(t,r){return t?e(t):e(null,r.result)}))},l.prototype._handleAsync=function(t,e){var r=this,n=-1,o=null,i=null,s=[];function a(r,n){i=r,o=n,u(s,(function(t,e){t?t(i,o,e):e()}),(function(){var r={id:t.id,jsonrpc:t.jsonrpc,result:o};null!=i?(r.error={message:i.stack||i.message||i,code:-32e3},e(i,r)):e(null,r)}))}!function e(o){if(n+=1,s.unshift(o),n>=r._providers.length)a(new Error('Request for method "'+t.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{r._providers[n].handleRequest(t,e,a)}catch(i){a(i)}}()},l.prototype._setCurrentBlock=function(t){this.currentBlock=t,this.emit("block",t)}},465:function(t,e){t.exports=function(){}},466:function(t,e,r){(function(e){var n=e.browser?r(184):r(492),o=r(179).inherits,i=r(476),s=r(493),a=r(477),u=a.ethErrors,c=a.serializeError;function f(t){this.rpcUrl=t.rpcUrl}t.exports=f,o(f,s),f.prototype.handleRequest=function(t,e,r){var o=this.rpcUrl,s=i(t);n({uri:o,method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s),rejectUnauthorized:!1,timeout:2e4},(function(t,e,n){if(t)return r(c(t));switch(e.statusCode){case 405:return r(u.rpc.methodNotFound());case 504:return function(){var t=new Error("Gateway timeout. The request took too long to process. This can happen when querying logs over too wide a block range.");return r(c(t))}();case 429:return function(){var t=new Error("Too Many Requests");return r(c(t))}();default:if(200!=e.statusCode){var o="Unknown Error: "+e.body,i=new Error(o);return r(c(i))}}var s;try{s=JSON.parse(n)}catch(t){return console.error(t.stack),r(c(t))}if(s.error)return r(s.error);r(null,s.result)}))}}).call(this,r(11))},467:function(t,e,r){var n=r(630),o=r(631),i=r(179).inherits,s=r(510),a=r(633),u=r(95),c=r(643),f=r(493),l=r(644),p=/^[0-9A-Fa-f]+$/g;function h(t){this.nonceLock=c(1),t.getAccounts&&(this.getAccounts=t.getAccounts),t.processTransaction&&(this.processTransaction=t.processTransaction),t.processMessage&&(this.processMessage=t.processMessage),t.processPersonalMessage&&(this.processPersonalMessage=t.processPersonalMessage),t.processTypedMessage&&(this.processTypedMessage=t.processTypedMessage),this.approveTransaction=t.approveTransaction||this.autoApprove,this.approveMessage=t.approveMessage||this.autoApprove,this.approvePersonalMessage=t.approvePersonalMessage||this.autoApprove,this.approveDecryptMessage=t.approveDecryptMessage||this.autoApprove,this.approveEncryptionPublicKey=t.approveEncryptionPublicKey||this.autoApprove,this.approveTypedMessage=t.approveTypedMessage||this.autoApprove,t.signTransaction&&(this.signTransaction=t.signTransaction||m("signTransaction")),t.signMessage&&(this.signMessage=t.signMessage||m("signMessage")),t.signPersonalMessage&&(this.signPersonalMessage=t.signPersonalMessage||m("signPersonalMessage")),t.decryptMessage&&(this.decryptMessage=t.decryptMessage||m("decryptMessage")),t.encryptionPublicKey&&(this.encryptionPublicKey=t.encryptionPublicKey||m("encryptionPublicKey")),t.signTypedMessage&&(this.signTypedMessage=t.signTypedMessage||m("signTypedMessage")),t.recoverPersonalSignature&&(this.recoverPersonalSignature=t.recoverPersonalSignature),t.publishTransaction&&(this.publishTransaction=t.publishTransaction),this.estimateGas=t.estimateGas||this.estimateGas,this.getGasPrice=t.getGasPrice||this.getGasPrice}function d(t){return t.toLowerCase()}function v(t){var e=s.addHexPrefix(t);return s.isValidAddress(e)}function y(t){var e=s.addHexPrefix(t);return!s.isValidAddress(e)&&g(t)}function g(t){return"string"===typeof t&&("0x"===t.slice(0,2)&&t.slice(2).match(p))}function m(t){return function(e,r){r(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+t+'" fn in constructor options'))}}t.exports=h,i(h,f),h.prototype.handleRequest=function(t,e,r){var o,i,s,a,c,f=this;switch(f._parityRequests={},f._parityRequestCount=0,t.method){case"eth_coinbase":return void f.getAccounts((function(t,e){if(t)return r(t);var n=e[0]||null;r(null,n)}));case"eth_accounts":return void f.getAccounts((function(t,e){if(t)return r(t);r(null,e)}));case"eth_sendTransaction":return o=t.params[0],void n([function(t){return f.validateTransaction(o,t)},function(t){return f.processTransaction(o,t)}],r);case"eth_signTransaction":return o=t.params[0],void n([function(t){return f.validateTransaction(o,t)},function(t){return f.processSignTransaction(o,t)}],r);case"eth_sign":return c=t.params[0],a=t.params[1],s=t.params[2]||{},i=u(s,{from:c,data:a}),void n([function(t){return f.validateMessage(i,t)},function(t){return f.processMessage(i,t)}],r);case"personal_sign":return function(){var e=t.params[0];if(y(t.params[1])&&v(e)){"[message, address]. This was previously handled incorrectly, ","and has been corrected automatically. ","Please switch this param order for smooth behavior in the future.",console.warn("The eth_personalSign method requires params ordered [message, address]. This was previously handled incorrectly, and has been corrected automatically. Please switch this param order for smooth behavior in the future."),c=t.params[0],a=t.params[1]}else a=t.params[0],c=t.params[1];s=t.params[2]||{},i=u(s,{from:c,data:a}),n([function(t){return f.validatePersonalMessage(i,t)},function(t){return f.processPersonalMessage(i,t)}],r)}();case"eth_decryptMessage":return function(){var e=t.params[0];if(y(t.params[1])&&v(e)){"[message, address]. This was previously handled incorrectly, ","and has been corrected automatically. ","Please switch this param order for smooth behavior in the future.",console.warn("The eth_decryptMessage method requires params ordered [message, address]. This was previously handled incorrectly, and has been corrected automatically. Please switch this param order for smooth behavior in the future."),c=t.params[0],a=t.params[1]}else a=t.params[0],c=t.params[1];s=t.params[2]||{},i=u(s,{from:c,data:a}),n([function(t){return f.validateDecryptMessage(i,t)},function(t){return f.processDecryptMessage(i,t)}],r)}();case"encryption_public_key":return function(){var e=t.params[0];n([function(t){return f.validateEncryptionPublicKey(e,t)},function(t){return f.processEncryptionPublicKey(e,t)}],r)}();case"personal_ecRecover":return function(){a=t.params[0];var e=t.params[1];s=t.params[2]||{},i=u(s,{sig:e,data:a}),f.recoverPersonalSignature(i,r)}();case"eth_signTypedData":return a=t.params[0],c=t.params[1],s=t.params[2]||{},i=u(s,{from:c,data:a}),void n([function(t){return f.validateTypedMessage(i,t)},function(t){return f.processTypedMessage(i,t)}],r);case"parity_postTransaction":return o=t.params[0],void f.parityPostTransaction(o,r);case"parity_postSign":return c=t.params[0],a=t.params[1],void f.parityPostSign(c,a,r);case"parity_checkRequest":return function(){var e=t.params[0];f.parityCheckRequest(e,r)}();case"parity_defaultAccount":return void f.getAccounts((function(t,e){if(t)return r(t);var n=e[0]||null;r(null,n)}));default:return void e()}},h.prototype.getAccounts=function(t){t(null,[])},h.prototype.processTransaction=function(t,e){var r=this;n([function(e){return r.approveTransaction(t,e)},function(t,e){return r.checkApproval("transaction",t,e)},function(e){return r.finalizeAndSubmitTx(t,e)}],e)},h.prototype.processSignTransaction=function(t,e){var r=this;n([function(e){return r.approveTransaction(t,e)},function(t,e){return r.checkApproval("transaction",t,e)},function(e){return r.finalizeTx(t,e)}],e)},h.prototype.processMessage=function(t,e){var r=this;n([function(e){return r.approveMessage(t,e)},function(t,e){return r.checkApproval("message",t,e)},function(e){return r.signMessage(t,e)}],e)},h.prototype.processPersonalMessage=function(t,e){var r=this;n([function(e){return r.approvePersonalMessage(t,e)},function(t,e){return r.checkApproval("message",t,e)},function(e){return r.signPersonalMessage(t,e)}],e)},h.prototype.processDecryptMessage=function(t,e){var r=this;n([function(e){return r.approveDecryptMessage(t,e)},function(t,e){return r.checkApproval("decryptMessage",t,e)},function(e){return r.decryptMessage(t,e)}],e)},h.prototype.processEncryptionPublicKey=function(t,e){var r=this;n([function(e){return r.approveEncryptionPublicKey(t,e)},function(t,e){return r.checkApproval("encryptionPublicKey",t,e)},function(e){return r.encryptionPublicKey(t,e)}],e)},h.prototype.processTypedMessage=function(t,e){var r=this;n([function(e){return r.approveTypedMessage(t,e)},function(t,e){return r.checkApproval("message",t,e)},function(e){return r.signTypedMessage(t,e)}],e)},h.prototype.autoApprove=function(t,e){e(null,!0)},h.prototype.checkApproval=function(t,e,r){r(e?null:new Error("User denied "+t+" signature."))},h.prototype.parityPostTransaction=function(t,e){var r=this,n=r._parityRequestCount,o="0x".concat(n.toString(16));r._parityRequestCount++,r.emitPayload({method:"eth_sendTransaction",params:[t]},(function(t,e){if(t)r._parityRequests[o]={error:t};else{var n=e.result;r._parityRequests[o]=n}})),e(null,o)},h.prototype.parityPostSign=function(t,e,r){var n=this,o=n._parityRequestCount,i="0x".concat(o.toString(16));n._parityRequestCount++,n.emitPayload({method:"eth_sign",params:[t,e]},(function(t,e){if(t)n._parityRequests[i]={error:t};else{var r=e.result;n._parityRequests[i]=r}})),r(null,i)},h.prototype.parityCheckRequest=function(t,e){var r=this._parityRequests[t]||null;return r?r.error?e(r.error):void e(null,r):e(null,null)},h.prototype.recoverPersonalSignature=function(t,e){var r;try{r=a.recoverPersonalSignature(t)}catch(n){return e(n)}e(null,r)},h.prototype.validateTransaction=function(t,e){if(void 0===t.from)return e(new Error("Undefined address - from address required to sign transaction."));this.validateSender(t.from,(function(r,n){return r?e(r):n?void e():e(new Error('Unknown address - unable to sign transaction for this address: "'.concat(t.from,'"')))}))},h.prototype.validateMessage=function(t,e){if(void 0===t.from)return e(new Error("Undefined address - from address required to sign message."));this.validateSender(t.from,(function(r,n){return r?e(r):n?void e():e(new Error('Unknown address - unable to sign message for this address: "'.concat(t.from,'"')))}))},h.prototype.validatePersonalMessage=function(t,e){return void 0===t.from?e(new Error("Undefined address - from address required to sign personal message.")):void 0===t.data?e(new Error("Undefined message - message required to sign personal message.")):g(t.data)?void this.validateSender(t.from,(function(r,n){return r?e(r):n?void e():e(new Error('Unknown address - unable to sign message for this address: "'.concat(t.from,'"')))})):e(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."))},h.prototype.validateDecryptMessage=function(t,e){return void 0===t.from?e(new Error("Undefined address - from address required to decrypt message.")):void 0===t.data?e(new Error("Undefined message - message required to decrypt message.")):g(t.data)?void this.validateSender(t.from,(function(r,n){return r?e(r):n?void e():e(new Error('Unknown address - unable to decrypt message for this address: "'.concat(t.from,'"')))})):e(new Error("HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex."))},h.prototype.validateEncryptionPublicKey=function(t,e){this.validateSender(t,(function(r,n){return r?e(r):n?void e():e(new Error('Unknown address - unable to obtain encryption public key for this address: "'.concat(t,'"')))}))},h.prototype.validateTypedMessage=function(t,e){return void 0===t.from?e(new Error("Undefined address - from address required to sign typed data.")):void 0===t.data?e(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(t.from,(function(r,n){return r?e(r):n?void e():e(new Error('Unknown address - unable to sign message for this address: "'.concat(t.from,'"')))}))},h.prototype.validateSender=function(t,e){if(!t)return e(null,!1);this.getAccounts((function(r,n){if(r)return e(r);var o=-1!==n.map(d).indexOf(t.toLowerCase());e(null,o)}))},h.prototype.finalizeAndSubmitTx=function(t,e){var r=this;r.nonceLock.take((function(){n([r.fillInTxExtras.bind(r,t),r.signTransaction.bind(r),r.publishTransaction.bind(r)],(function(t,n){if(r.nonceLock.leave(),t)return e(t);e(null,n)}))}))},h.prototype.finalizeTx=function(t,e){var r=this;r.nonceLock.take((function(){n([r.fillInTxExtras.bind(r,t),r.signTransaction.bind(r)],(function(n,o){if(r.nonceLock.leave(),n)return e(n);e(null,{raw:o,tx:t})}))}))},h.prototype.publishTransaction=function(t,e){this.emitPayload({method:"eth_sendRawTransaction",params:[t]},(function(t,r){if(t)return e(t);e(null,r.result)}))},h.prototype.estimateGas=function(t,e){l(this.engine,t,e)},h.prototype.getGasPrice=function(t){this.emitPayload({method:"eth_gasPrice",params:[]},(function(e,r){if(e)return t(e);t(null,r.result)}))},h.prototype.fillInTxExtras=function(t,e){var r=t.from,n={};void 0===t.gasPrice&&(n.gasPrice=this.getGasPrice.bind(this)),void 0===t.nonce&&(n.nonce=this.emitPayload.bind(this,{method:"eth_getTransactionCount",params:[r,"pending"]})),void 0===t.gas&&(n.gas=this.estimateGas.bind(this,function(t){return{from:t.from,to:t.to,value:t.value,data:t.data,gas:t.gas,gasPrice:t.gasPrice,nonce:t.nonce}}(t))),o(n,(function(r,n){if(r)return e(r);var o={};n.gasPrice&&(o.gasPrice=n.gasPrice),n.nonce&&(o.nonce=n.nonce.result),n.gas&&(o.gas=n.gas),e(null,u(t,o))}))}},468:function(t,e,r){var n=r(434),o=r(436),i=r(433),s=r(437),a=r(525),u=r(645),c=function(t){"use strict";function e(){return n(this,e),o(this,i(e).call(this,(function(t){var e=t.blockTracker,r=t.provider,n=t.engine,o=u({blockTracker:e,provider:r}),i=o.events,s=o.middleware;return i.on("notification",(function(t){return n.emit("data",null,t)})),s})))}return s(e,t),e}(a);t.exports=c},469:function(t,e){function r(t){return t.sort((function(t,e){return"latest"===t||"earliest"===e?1:"latest"===e||"earliest"===t?-1:n(t)-n(e)}))}function n(t){return void 0===t||null===t?t:Number.parseInt(t,16)}function o(t){if(void 0===t||null===t)return t;var e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function i(){return Math.floor(16*Math.random()).toString(16)}t.exports={minBlockRef:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=r(e);return o[0]},maxBlockRef:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=r(e);return o[o.length-1]},sortBlockRefs:r,bnToHex:function(t){return"0x"+t.toString(16)},blockRefIsNumber:function(t){return t&&!["earliest","latest","pending"].includes(t)},hexToInt:n,incrementHexInt:function(t){return void 0===t||null===t?t:o(n(t)+1)},intToHex:o,unsafeRandomBytes:function(t){for(var e="0x",r=0;r<t;r++)e+=i(),e+=i();return e}}},470:function(t,e,r){var n=r(434),o=r(436),i=r(433),s=r(437),a=r(525),u=r(528),c=function(t){"use strict";function e(){return n(this,e),o(this,i(e).call(this,(function(t){var e=t.blockTracker,r=t.provider;t.engine;return u({blockTracker:e,provider:r})})))}return s(e,t),e}(a);t.exports=c},474:function(t,e,r){var n=r(590),o=r(517);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},475:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),o=0;o<r;o++)n[o]=t[e+o];return n},t.exports=e.default},476:function(t,e,r){var n=r(624),o=r(95);t.exports=function(t){return o({id:n(),jsonrpc:"2.0",params:[]},t)}},487:function(t,e,r){"use strict";var n=function(t,e){return function(){for(var r=this,n=e.promiseModule,o=new Array(arguments.length),i=0;i<arguments.length;i++)o[i]=arguments[i];return new n((function(n,i){e.errorFirst?o.push((function(t,r){if(e.multiArgs){for(var o=new Array(arguments.length-1),s=1;s<arguments.length;s++)o[s-1]=arguments[s];t?(o.unshift(t),i(o)):n(o)}else t?i(t):n(r)})):o.push((function(t){if(e.multiArgs){for(var r=new Array(arguments.length-1),o=0;o<arguments.length;o++)r[o]=arguments[o];n(r)}else n(t)})),t.apply(r,o)}))}};t.exports=function(t,e){e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);var r,o=function(t){var r=function(e){return"string"===typeof e?t===e:e.test(t)};return e.include?e.include.some(r):!e.exclude.some(r)};for(var i in r="function"===typeof t?function(){return e.excludeMain?t.apply(this,arguments):n(t,e).apply(this,arguments)}:Object.create(Object.getPrototypeOf(t)),t){var s=t[i];r[i]="function"===typeof s&&o(i)?n(s,e):s}return r}},488:function(t,e,r){var n=r(513),o=r(591),i=r(592),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?o(t):i(t)}},489:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},490:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},491:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},493:function(t,e,r){var n=r(476);function o(){}t.exports=o,o.prototype.setEngine=function(t){var e=this;e.engine||(e.engine=t,t.on("block",(function(t){e.currentBlock=t})),t.on("start",(function(){e.start()})),t.on("stop",(function(){e.stop()})))},o.prototype.handleRequest=function(t,e,r){throw new Error("Subproviders should override `handleRequest`.")},o.prototype.emitPayload=function(t,e){this.engine.sendAsync(n(t),e)},o.prototype.stop=function(){},o.prototype.start=function(){}},496:function(t,e,r){var n=r(2),o=r(67),i=r(434),s=r(435),a=r(436),u=r(433),c=r(437),f=function(t){"use strict";function e(){var t;return i(this,e),(t=a(this,u(e).call(this))).updates=[],t}return c(e,t),s(e,[{key:"initialize",value:function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("BaseFilter - no update method specified");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"addResults",value:function(t){var e=this;this.updates=this.updates.concat(t),t.forEach((function(t){return e.emit("update",t)}))}},{key:"addInitialResults",value:function(t){}},{key:"getChangesAndClear",value:function(){var t=this.updates;return this.updates=[],t}}]),e}(r(450));t.exports=f},497:function(t,e,r){var n=r(2),o=r(67);function i(){return(i=o(n.mark((function t(e){var r,o,i,c,f,l,p;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.provider,o=e.fromBlock,i=e.toBlock,o||(o=i),c=s(o),f=s(i),l=Array(f-c+1).fill().map((function(t,e){return c+e})).map(a),t.next=8,Promise.all(l.map((function(t){return u(r,"eth_getBlockByNumber",[t,!1])})));case 8:return p=t.sent,t.abrupt("return",p);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(t){return void 0===t||null===t?t:Number.parseInt(t,16)}function a(t){return void 0===t||null===t?t:"0x"+t.toString(16)}function u(t,e,r){return new Promise((function(n,o){t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(function(t,e){if(t)return o(t);n(e.result)}))}))}t.exports=function(t){return i.apply(this,arguments)}},510:function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(579),i=r(70),s=r(98),a=r(74),u=r(9),c=r(29),f=r(7).Buffer;Object.assign(e,r(45)),e.MAX_INTEGER=new u("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new u("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL_S=e.KECCAK256_NULL_S,e.KECCAK256_NULL=f.from(e.KECCAK256_NULL_S,"hex"),e.SHA3_NULL=e.KECCAK256_NULL,e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY_S=e.KECCAK256_RLP_ARRAY_S,e.KECCAK256_RLP_ARRAY=f.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.SHA3_RLP_ARRAY=e.KECCAK256_RLP_ARRAY,e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP_S=e.KECCAK256_RLP_S,e.KECCAK256_RLP=f.from(e.KECCAK256_RLP_S,"hex"),e.SHA3_RLP=e.KECCAK256_RLP,e.BN=u,e.rlp=a,e.secp256k1=i,e.zeros=function(t){return f.allocUnsafe(t).fill(0)},e.zeroAddress=function(){var t=e.zeros(20);return e.bufferToHex(t)},e.setLengthLeft=e.setLength=function(t,r,n){var o=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(o),o):t.slice(0,r):t.length<r?(t.copy(o,r-t.length),o):t.slice(-r)},e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=e.stripZeros=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t},e.toBuffer=function(t){if(!f.isBuffer(t))if(Array.isArray(t))t=f.from(t);else if("string"===typeof t)t=e.isHexString(t)?f.from(e.padToEven(e.stripHexPrefix(t)),"hex"):f.from(t);else if("number"===typeof t)t=e.intToBuffer(t);else if(null===t||void 0===t)t=f.allocUnsafe(0);else if(u.isBN(t))t=t.toArrayLike(f);else{if(!t.toArray)throw new Error("invalid type");t=f.from(t.toArray())}return t},e.bufferToInt=function(t){return new u(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(t){return new u(t).fromTwos(256)},e.toUnsigned=function(t){return f.from(t.toTwos(256).toArray())},e.keccak=function(t,r){return t=e.toBuffer(t),r||(r=256),o("keccak"+r).update(t).digest()},e.keccak256=function(t){return e.keccak(t)},e.sha3=e.keccak,e.sha256=function(t){return t=e.toBuffer(t),c("sha256").update(t).digest()},e.ripemd160=function(t,r){t=e.toBuffer(t);var n=c("rmd160").update(t).digest();return!0===r?e.setLength(n,32):n},e.rlphash=function(t){return e.keccak(a.encode(t))},e.isValidPrivate=function(t){return i.privateKeyVerify(t)},e.isValidPublic=function(t,e){return 64===t.length?i.publicKeyVerify(f.concat([f.from([4]),t])):!!e&&i.publicKeyVerify(t)},e.pubToAddress=e.publicToAddress=function(t,r){return t=e.toBuffer(t),r&&64!==t.length&&(t=i.publicKeyConvert(t,!1).slice(1)),s(64===t.length),e.keccak(t).slice(-20)};var l=e.privateToPublic=function(t){return t=e.toBuffer(t),i.publicKeyCreate(t,!1).slice(1)};e.importPublic=function(t){return 64!==(t=e.toBuffer(t)).length&&(t=i.publicKeyConvert(t,!1).slice(1)),t},e.ecsign=function(t,e){var r=i.sign(t,e),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},e.hashPersonalMessage=function(t){var r=e.toBuffer("\x19Ethereum Signed Message:\n"+t.length.toString());return e.keccak(f.concat([r,t]))},e.ecrecover=function(t,r,n,o){var s=f.concat([e.setLength(n,32),e.setLength(o,32)],64),a=r-27;if(0!==a&&1!==a)throw new Error("Invalid signature v value");var u=i.recover(t,s,a);return i.publicKeyConvert(u,!1).slice(1)},e.toRpcSig=function(t,r,n){if(27!==t&&28!==t)throw new Error("Invalid recovery id");return e.bufferToHex(f.concat([e.setLengthLeft(r,32),e.setLengthLeft(n,32),e.toBuffer(t-27)]))},e.fromRpcSig=function(t){if(65!==(t=e.toBuffer(t)).length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},e.privateToAddress=function(t){return e.publicToAddress(l(t))},e.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)},e.isZeroAddress=function(t){return e.zeroAddress()===e.addHexPrefix(t)},e.toChecksumAddress=function(t){t=e.stripHexPrefix(t).toLowerCase();for(var r=e.keccak(t).toString("hex"),n="0x",o=0;o<t.length;o++)parseInt(r[o],16)>=8?n+=t[o].toUpperCase():n+=t[o];return n},e.isValidChecksumAddress=function(t){return e.isValidAddress(t)&&e.toChecksumAddress(t)===t},e.generateAddress=function(t,r){return t=e.toBuffer(t),r=(r=new u(r)).isZero()?null:f.from(r.toArray()),e.rlphash([t,r]).slice(-20)},e.isPrecompiled=function(t){var r=e.unpad(t);return 1===r.length&&r[0]>=1&&r[0]<=8},e.addHexPrefix=function(t){return"string"!==typeof t?t:e.isHexPrefixed(t)?t:"0x"+t},e.isValidSignature=function(t,e,r,n){var o=new u("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),i=new u("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===e.length&&32===r.length&&((27===t||28===t)&&(e=new u(e),r=new u(r),!(e.isZero()||e.gt(i)||r.isZero()||r.gt(i))&&(!1!==n||1!==new u(r).cmp(o))))},e.baToJSON=function(t){if(f.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}},e.defineProperties=function(t,r,o){if(t.raw=[],t._fields=[],t.toJSON=function(r){if(r){var n={};return t._fields.forEach((function(e){n[e]="0x"+t[e].toString("hex")})),n}return e.baToJSON(this.raw)},t.serialize=function(){return a.encode(t.raw)},r.forEach((function(r,n){function o(){return t.raw[n]}function i(o){"00"!==(o=e.toBuffer(o)).toString("hex")||r.allowZero||(o=f.allocUnsafe(0)),r.allowLess&&r.length?(o=e.stripZeros(o),s(r.length>=o.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===o.length||!r.length||s(r.length===o.length,"The field "+r.name+" must have byte length of "+r.length),t.raw[n]=o}t._fields.push(r.name),Object.defineProperty(t,r.name,{enumerable:!0,configurable:!0,get:o,set:i}),r.default&&(t[r.name]=r.default),r.alias&&Object.defineProperty(t,r.alias,{enumerable:!1,configurable:!0,set:i,get:o})})),o)if("string"===typeof o&&(o=f.from(e.stripHexPrefix(o),"hex")),f.isBuffer(o)&&(o=a.decode(o)),Array.isArray(o)){if(o.length>t._fields.length)throw new Error("wrong number of fields in data");o.forEach((function(r,n){t[t._fields[n]]=e.toBuffer(r)}))}else{if("object"!==("undefined"===typeof o?"undefined":n(o)))throw new Error("invalid data");var i=Object.keys(o);r.forEach((function(e){-1!==i.indexOf(e.name)&&(t[e.name]=o[e.name]),-1!==i.indexOf(e.alias)&&(t[e.alias]=o[e.alias])}))}}},511:function(t,e,r){var n=r(95),o=r(587)();function i(t){this.currentProvider=t}function s(t){return function(){var e=this,r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function a(t,e){return function(){var r=this,n=[].slice.call(arguments),o=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},o)}}t.exports=i,i.prototype.getBalance=a(2,"eth_getBalance"),i.prototype.getCode=a(2,"eth_getCode"),i.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),i.prototype.getStorageAt=a(3,"eth_getStorageAt"),i.prototype.call=a(2,"eth_call"),i.prototype.protocolVersion=s("eth_protocolVersion"),i.prototype.syncing=s("eth_syncing"),i.prototype.coinbase=s("eth_coinbase"),i.prototype.mining=s("eth_mining"),i.prototype.hashrate=s("eth_hashrate"),i.prototype.gasPrice=s("eth_gasPrice"),i.prototype.accounts=s("eth_accounts"),i.prototype.blockNumber=s("eth_blockNumber"),i.prototype.getBlockTransactionCountByHash=s("eth_getBlockTransactionCountByHash"),i.prototype.getBlockTransactionCountByNumber=s("eth_getBlockTransactionCountByNumber"),i.prototype.getUncleCountByBlockHash=s("eth_getUncleCountByBlockHash"),i.prototype.getUncleCountByBlockNumber=s("eth_getUncleCountByBlockNumber"),i.prototype.sign=s("eth_sign"),i.prototype.sendTransaction=s("eth_sendTransaction"),i.prototype.sendRawTransaction=s("eth_sendRawTransaction"),i.prototype.estimateGas=s("eth_estimateGas"),i.prototype.getBlockByHash=s("eth_getBlockByHash"),i.prototype.getBlockByNumber=s("eth_getBlockByNumber"),i.prototype.getTransactionByHash=s("eth_getTransactionByHash"),i.prototype.getTransactionByBlockHashAndIndex=s("eth_getTransactionByBlockHashAndIndex"),i.prototype.getTransactionByBlockNumberAndIndex=s("eth_getTransactionByBlockNumberAndIndex"),i.prototype.getTransactionReceipt=s("eth_getTransactionReceipt"),i.prototype.getUncleByBlockHashAndIndex=s("eth_getUncleByBlockHashAndIndex"),i.prototype.getUncleByBlockNumberAndIndex=s("eth_getUncleByBlockNumberAndIndex"),i.prototype.getCompilers=s("eth_getCompilers"),i.prototype.compileLLL=s("eth_compileLLL"),i.prototype.compileSolidity=s("eth_compileSolidity"),i.prototype.compileSerpent=s("eth_compileSerpent"),i.prototype.newFilter=s("eth_newFilter"),i.prototype.newBlockFilter=s("eth_newBlockFilter"),i.prototype.newPendingTransactionFilter=s("eth_newPendingTransactionFilter"),i.prototype.uninstallFilter=s("eth_uninstallFilter"),i.prototype.getFilterChanges=s("eth_getFilterChanges"),i.prototype.getFilterLogs=s("eth_getFilterLogs"),i.prototype.getLogs=s("eth_getLogs"),i.prototype.getWork=s("eth_getWork"),i.prototype.submitWork=s("eth_submitWork"),i.prototype.submitHashrate=s("eth_submitHashrate"),i.prototype.sendAsync=function(t,e){var r;this.currentProvider.sendAsync((r=t,n({id:o(),jsonrpc:"2.0",params:[]},r)),(function(t,r){if(!t&&r.error&&(t=new Error("EthQuery - RPC Error - "+r.error.message)),t)return e(t);e(null,r.result)}))}},512:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?p:h)(t,(0,f.default)(e),r)};var n=l(r(474)),o=l(r(518)),i=l(r(593)),s=l(r(521)),a=l(r(465)),u=l(r(489)),c=l(r(491)),f=l(r(453));function l(t){return t&&t.__esModule?t:{default:t}}function p(t,e,r){r=(0,u.default)(r||a.default);var n=0,i=0,s=t.length;function f(t,e){t?r(t):++i!==s&&e!==o.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var h=(0,s.default)(i.default,1/0);t.exports=e.default},513:function(t,e,r){var n=r(514).Symbol;t.exports=n},514:function(t,e,r){var n=r(515),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},515:function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(this,r(10))},516:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},517:function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},518:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},519:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,o.default)(u||n.default),t<=0||!e)return u(null);var c=(0,i.default)(e),f=!1,l=0,p=!1;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p||d()}}function d(){for(p=!0;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}p=!1}d()}};var n=u(r(465)),o=u(r(489)),i=u(r(594)),s=u(r(491)),a=u(r(518));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},520:function(t,e){var r=Array.isArray;t.exports=r},521:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,o){return t(r,e,n,o)}},t.exports=e.default},525:function(t,e,r){var n=r(434),o=r(435),i=r(436),s=r(433),a=r(437),u=function(t){"use strict";function e(t){var r;if(n(this,e),r=i(this,s(e).call(this)),!t)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");return r._constructorFn=t,r}return a(e,t),o(e,[{key:"setEngine",value:function(t){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");var e=t._blockTracker,r=this._constructorFn({engine:t,provider:t,blockTracker:e});if(!r)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if("function"!==typeof r)throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=r}},{key:"handleRequest",value:function(t,e,r){var n={id:t.id};this.middleware(t,n,(function(t){e((function(e,r,o){e?(delete n.result,n.error={message:e.message||e}):n.result=r,t?t(o):o()}))}),(function(t){if(t)return r(t);r(null,n.result)}))}}]),e}(r(493));t.exports=u},526:function(t,e,r){t.exports=r(646)},527:function(t,e,r){var n=r(2),o=r(67),i=r(647);t.exports=function(t){return function(e,r,s,a){var u=null,c=t(e,r,(function(){return f.apply(this,arguments)}));function f(){return(f=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=l(),t.next=3,u;case 3:return t.abrupt("return",void 0);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(){return new Promise((function(t){s((function(e){return t(e)}))}))}i(c)((function(t){u?i(u)((function(e,r){if(e)return console.error(e),a(e);r(t)})):a(t)}))}}},528:function(t,e,r){var n=r(2),o=r(67),i=r(650).Mutex,s=r(527),a=r(526),u=r(651),c=r(653),f=r(654),l=r(469),p=l.intToHex,h=l.hexToInt;function d(t){return v(function(){var e=o(n.mark((function e(){var r,o,i=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.apply(void 0,i);case 2:return r=e.sent,o=p(r.id),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())}function v(t){return s(function(){var e=o(n.mark((function e(r,o){var i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.apply(null,r.params);case 2:i=e.sent,o.result=i;case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}function y(t,e){var r=[];for(var n in t)r.push(t[n]);return r}t.exports=function(t){var e=t.blockTracker,r=t.provider,s=0,l={},g=new i,m=function(t){var e=t.mutex;return function(t){return function(){var r=o(n.mark((function r(o,i,s,a){return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.acquire();case 2:(0,r.sent)(),t(o,i,s,a);case 5:case"end":return r.stop()}}),r)})));return function(t,e,n,o){return r.apply(this,arguments)}}()}}({mutex:g}),_=a({eth_newFilter:m(d(w)),eth_newBlockFilter:m(d(x)),eth_newPendingTransactionFilter:m(d(A)),eth_uninstallFilter:m(v(R)),eth_getFilterChanges:m(v(T)),eth_getFilterLogs:m(v(L))}),b=function(){var t=o(n.mark((function t(e){var r,i,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.oldBlock,i=e.newBlock,0!==l.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,g.acquire();case 5:return s=t.sent,t.prev=6,t.next=9,Promise.all(y(l).map(function(){var t=o(n.mark((function t(e){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.update({oldBlock:r,newBlock:i});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6),console.error(t.t0);case 14:s();case 15:case"end":return t.stop()}}),t,null,[[6,11]])})));return function(e){return t.apply(this,arguments)}}();return _.newLogFilter=w,_.newBlockFilter=x,_.newPendingTransactionFilter=A,_.uninstallFilter=R,_.getFilterChanges=T,_.getFilterLogs=L,_.destroy=function(){!function(){O.apply(this,arguments)}()},_;function w(t){return k.apply(this,arguments)}function k(){return(k=o(n.mark((function t(e){var o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new u({provider:r,params:e}),t.next=3,C(o);case 3:return t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return B.apply(this,arguments)}function B(){return(B=o(n.mark((function t(){var e;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new c({provider:r}),t.next=3,C(e);case 3:return t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return S.apply(this,arguments)}function S(){return(S=o(n.mark((function t(){var e;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new f({provider:r}),t.next=3,C(e);case 3:return t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return E.apply(this,arguments)}function E(){return(E=o(n.mark((function t(e){var r,o,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h(e),o=l[r]){t.next=4;break}throw new Error('No filter for index "'.concat(r,'"'));case 4:return i=o.getChangesAndClear(),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){return P.apply(this,arguments)}function P(){return(P=o(n.mark((function t(e){var r,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h(e),o=l[r]){t.next=4;break}throw new Error('No filter for index "'.concat(r,'"'));case 4:return"log"===o.type?results=o.getAllResults():results=[],t.abrupt("return",results);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(t){return j.apply(this,arguments)}function j(){return(j=o(n.mark((function t(e){var r,o,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h(e),o=l[r],!(i=Boolean(o))){t.next=6;break}return t.next=6,z(r);case 6:return t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t){return M.apply(this,arguments)}function M(){return(M=o(n.mark((function t(r){var o,i,a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=y(l).length,t.next=3,e.getLatestBlock();case 3:return i=t.sent,t.next=6,r.initialize({currentBlock:i});case 6:return s++,l[s]=r,r.id=s,r.idHex=p(s),a=y(l).length,I({prevFilterCount:o,newFilterCount:a}),t.abrupt("return",s);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(t){return H.apply(this,arguments)}function H(){return(H=o(n.mark((function t(e){var r,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=y(l).length,delete l[e],o=y(l).length,I({prevFilterCount:r,newFilterCount:o});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=o(n.mark((function t(){var e;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=y(l).length,l={},I({prevFilterCount:e,newFilterCount:0});case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t){var r=t.prevFilterCount,n=t.newFilterCount;0===r&&n>0?e.on("sync",b):r>0&&0===n&&e.removeListener("sync",b)}}},579:function(t,e,r){"use strict";t.exports=r(580)(r(583))},580:function(t,e,r){"use strict";var n=r(581),o=r(582);t.exports=function(t){var e=n(t),r=o(t);return function(t,n){switch("string"===typeof t?t.toLowerCase():t){case"keccak224":return new e(1152,448,null,224,n);case"keccak256":return new e(1088,512,null,256,n);case"keccak384":return new e(832,768,null,384,n);case"keccak512":return new e(576,1024,null,512,n);case"sha3-224":return new e(1152,448,6,224,n);case"sha3-256":return new e(1088,512,6,256,n);case"sha3-384":return new e(832,768,6,384,n);case"sha3-512":return new e(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+t)}}}},581:function(t,e,r){"use strict";var n=r(7).Buffer,o=r(43).Transform,i=r(6);t.exports=function(t){function e(e,r,n,i,s){o.call(this,s),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=s,this._state=new t,this._state.initialize(e,r),this._finalized=!1}return i(e,o),e.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(o){n=o}r(n)},e.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)},e.prototype.update=function(t,e){if(!n.isBuffer(t)&&"string"!==typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(t)||(t=n.from(t,e)),this._state.absorb(t),this},e.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var e=this._state.squeeze(this._hashBitLength/8);return void 0!==t&&(e=e.toString(t)),this._resetState(),e},e.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},e.prototype._clone=function(){var t=new e(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t},e}},582:function(t,e,r){"use strict";var n=r(7).Buffer,o=r(43).Transform,i=r(6);t.exports=function(t){function e(e,r,n,i){o.call(this,i),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new t,this._state.initialize(e,r),this._finalized=!1}return i(e,o),e.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(o){n=o}r(n)},e.prototype._flush=function(){},e.prototype._read=function(t){this.push(this.squeeze(t))},e.prototype.update=function(t,e){if(!n.isBuffer(t)&&"string"!==typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(t)||(t=n.from(t,e)),this._state.absorb(t),this},e.prototype.squeeze=function(t,e){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(t);return void 0!==e&&(r=r.toString(e)),r},e.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},e.prototype._clone=function(){var t=new e(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t},e}},583:function(t,e,r){"use strict";var n=r(7).Buffer,o=r(584);function i(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}i.prototype.initialize=function(t,e){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},i.prototype.absorb=function(t){for(var e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(o.p1600(this.state),this.count=0)},i.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,0!==(128&t)&&this.count===this.blockSize-1&&o.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,o.p1600(this.state),this.count=0,this.squeezing=!0},i.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);for(var e=n.alloc(t),r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(o.p1600(this.state),this.count=0);return e},i.prototype.copy=function(t){for(var e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing},t.exports=i},584:function(t,e,r){"use strict";var n=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];e.p1600=function(t){for(var e=0;e<24;++e){var r=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],p=t[9]^t[19]^t[29]^t[39]^t[49],h=l^(i<<1|s>>>31),d=p^(s<<1|i>>>31),v=t[0]^h,y=t[1]^d,g=t[10]^h,m=t[11]^d,_=t[20]^h,b=t[21]^d,w=t[30]^h,k=t[31]^d,x=t[40]^h,B=t[41]^d;h=r^(a<<1|u>>>31),d=o^(u<<1|a>>>31);var A=t[2]^h,S=t[3]^d,T=t[12]^h,E=t[13]^d,L=t[22]^h,P=t[23]^d,R=t[32]^h,j=t[33]^d,C=t[42]^h,M=t[43]^d;h=i^(c<<1|f>>>31),d=s^(f<<1|c>>>31);var z=t[4]^h,H=t[5]^d,O=t[14]^h,I=t[15]^d,N=t[24]^h,F=t[25]^d,K=t[34]^h,U=t[35]^d,q=t[44]^h,D=t[45]^d;h=a^(l<<1|p>>>31),d=u^(p<<1|l>>>31);var W=t[6]^h,V=t[7]^d,G=t[16]^h,$=t[17]^d,Z=t[26]^h,J=t[27]^d,Y=t[36]^h,Q=t[37]^d,X=t[46]^h,tt=t[47]^d;h=c^(r<<1|o>>>31),d=f^(o<<1|r>>>31);var et=t[8]^h,rt=t[9]^d,nt=t[18]^h,ot=t[19]^d,it=t[28]^h,st=t[29]^d,at=t[38]^h,ut=t[39]^d,ct=t[48]^h,ft=t[49]^d,lt=v,pt=y,ht=m<<4|g>>>28,dt=g<<4|m>>>28,vt=_<<3|b>>>29,yt=b<<3|_>>>29,gt=k<<9|w>>>23,mt=w<<9|k>>>23,_t=x<<18|B>>>14,bt=B<<18|x>>>14,wt=A<<1|S>>>31,kt=S<<1|A>>>31,xt=E<<12|T>>>20,Bt=T<<12|E>>>20,At=L<<10|P>>>22,St=P<<10|L>>>22,Tt=j<<13|R>>>19,Et=R<<13|j>>>19,Lt=C<<2|M>>>30,Pt=M<<2|C>>>30,Rt=H<<30|z>>>2,jt=z<<30|H>>>2,Ct=O<<6|I>>>26,Mt=I<<6|O>>>26,zt=F<<11|N>>>21,Ht=N<<11|F>>>21,Ot=K<<15|U>>>17,It=U<<15|K>>>17,Nt=D<<29|q>>>3,Ft=q<<29|D>>>3,Kt=W<<28|V>>>4,Ut=V<<28|W>>>4,qt=$<<23|G>>>9,Dt=G<<23|$>>>9,Wt=Z<<25|J>>>7,Vt=J<<25|Z>>>7,Gt=Y<<21|Q>>>11,$t=Q<<21|Y>>>11,Zt=tt<<24|X>>>8,Jt=X<<24|tt>>>8,Yt=et<<27|rt>>>5,Qt=rt<<27|et>>>5,Xt=nt<<20|ot>>>12,te=ot<<20|nt>>>12,ee=st<<7|it>>>25,re=it<<7|st>>>25,ne=at<<8|ut>>>24,oe=ut<<8|at>>>24,ie=ct<<14|ft>>>18,se=ft<<14|ct>>>18;t[0]=lt^~xt&zt,t[1]=pt^~Bt&Ht,t[10]=Kt^~Xt&vt,t[11]=Ut^~te&yt,t[20]=wt^~Ct&Wt,t[21]=kt^~Mt&Vt,t[30]=Yt^~ht&At,t[31]=Qt^~dt&St,t[40]=Rt^~qt&ee,t[41]=jt^~Dt&re,t[2]=xt^~zt&Gt,t[3]=Bt^~Ht&$t,t[12]=Xt^~vt&Tt,t[13]=te^~yt&Et,t[22]=Ct^~Wt&ne,t[23]=Mt^~Vt&oe,t[32]=ht^~At&Ot,t[33]=dt^~St&It,t[42]=qt^~ee&gt,t[43]=Dt^~re&mt,t[4]=zt^~Gt&ie,t[5]=Ht^~$t&se,t[14]=vt^~Tt&Nt,t[15]=yt^~Et&Ft,t[24]=Wt^~ne&_t,t[25]=Vt^~oe&bt,t[34]=At^~Ot&Zt,t[35]=St^~It&Jt,t[44]=ee^~gt&Lt,t[45]=re^~mt&Pt,t[6]=Gt^~ie&lt,t[7]=$t^~se&pt,t[16]=Tt^~Nt&Kt,t[17]=Et^~Ft&Ut,t[26]=ne^~_t&wt,t[27]=oe^~bt&kt,t[36]=Ot^~Zt&Yt,t[37]=It^~Jt&Qt,t[46]=gt^~Lt&Rt,t[47]=mt^~Pt&jt,t[8]=ie^~lt&xt,t[9]=se^~pt&Bt,t[18]=Nt^~Kt&Xt,t[19]=Ft^~Ut&te,t[28]=_t^~wt&Ct,t[29]=bt^~kt&Mt,t[38]=Zt^~Yt&ht,t[39]=Jt^~Qt&dt,t[48]=Lt^~Rt&qt,t[49]=Pt^~jt&Dt,t[0]^=n[2*e],t[1]^=n[2*e+1]}}},585:function(t,e,r){var n=r(2),o=r(67),i=r(434),s=r(435),a=r(436),u=r(433),c=r(437),f=r(487),l=r(586),p=function(t){"use strict";function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i(this,e),!r.provider)throw new Error("PollingBlockTracker - no provider specified.");var n=r.pollingInterval||2e4,o=r.retryTimeout||n/10,s=void 0===r.keepEventLoopActive||r.keepEventLoopActive,c=r.setSkipCacheFlag||!1;return(t=a(this,u(e).call(this,Object.assign({blockResetDuration:n},r))))._provider=r.provider,t._pollingInterval=n,t._retryTimeout=o,t._keepEventLoopActive=s,t._setSkipCacheFlag=c,t}return c(e,t),s(e,[{key:"checkForLatestBlock",value:function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._updateLatestBlock();case 2:return t.next=4,this.getLatestBlock();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_start",value:function(){var t=this;this._performSync().catch((function(e){return t.emit("error",e)}))}},{key:"_performSync",value:function(){var t=o(n.mark((function t(){var e;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isRunning){t.next=16;break}return t.prev=1,t.next=4,this._updateLatestBlock();case 4:return t.next=6,h(this._pollingInterval,!this._keepEventLoopActive);case 6:t.next=14;break;case 8:t.prev=8,t.t0=t.catch(1),e=new Error("PollingBlockTracker - encountered an error while attempting to update latest block:\n".concat(t.t0.stack));try{this.emit("error",e)}catch(r){console.error(e)}return t.next=14,h(this._retryTimeout,!this._keepEventLoopActive);case 14:t.next=0;break;case 16:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"_updateLatestBlock",value:function(){var t=o(n.mark((function t(){var e;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetchLatestBlock();case 2:e=t.sent,this._newPotentialLatest(e);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_fetchLatestBlock",value:function(){var t=o(n.mark((function t(){var e,r,o=this;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]},this._setSkipCacheFlag&&(e.skipCache=!0),t.next=4,f((function(t){return o._provider.sendAsync(e,t)}))();case 4:if(!(r=t.sent).error){t.next=7;break}throw new Error("PollingBlockTracker - encountered error fetching block:\n".concat(r.error));case 7:return t.abrupt("return",r.result);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),e}(l);function h(t,e){return new Promise((function(r){var n=setTimeout(r,t);n.unref&&e&&n.unref()}))}t.exports=p},586:function(t,e,r){var n=r(2),o=r(67),i=r(434),s=r(435),a=r(436),u=r(441),c=r(433),f=r(448),l=r(437),p=(r(511),r(487),r(450)),h=function(t,e){return t+e},d=["sync","latest"],v=function(t){"use strict";function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,e),(t=a(this,c(e).call(this)))._blockResetDuration=r.blockResetDuration||2e4,t._blockResetTimeout,t._currentBlock=null,t._isRunning=!1,t._onNewListener=t._onNewListener.bind(u(t)),t._onRemoveListener=t._onRemoveListener.bind(u(t)),t._resetCurrentBlock=t._resetCurrentBlock.bind(u(t)),t._setupInternalEvents(),t}return l(e,t),s(e,[{key:"isRunning",value:function(){return this._isRunning}},{key:"getCurrentBlock",value:function(){return this._currentBlock}},{key:"getLatestBlock",value:function(){var t=o(n.mark((function t(){var e,r=this;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._currentBlock){t.next=2;break}return t.abrupt("return",this._currentBlock);case 2:return t.next=4,new Promise((function(t){return r.once("latest",t)}));case 4:return e=t.sent,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"removeAllListeners",value:function(t){t?f(c(e.prototype),"removeAllListeners",this).call(this,t):f(c(e.prototype),"removeAllListeners",this).call(this),this._setupInternalEvents(),this._onRemoveListener()}},{key:"_start",value:function(){}},{key:"_end",value:function(){}},{key:"_setupInternalEvents",value:function(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}},{key:"_onNewListener",value:function(t,e){d.includes(t)&&this._maybeStart()}},{key:"_onRemoveListener",value:function(t,e){this._getBlockTrackerEventCount()>0||this._maybeEnd()}},{key:"_maybeStart",value:function(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}},{key:"_maybeEnd",value:function(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}},{key:"_getBlockTrackerEventCount",value:function(){var t=this;return d.map((function(e){return t.listenerCount(e)})).reduce(h)}},{key:"_newPotentialLatest",value:function(t){var e=this._currentBlock;e&&y(t)<=y(e)||this._setCurrentBlock(t)}},{key:"_setCurrentBlock",value:function(t){var e=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:e,newBlock:t})}},{key:"_setupBlockResetTimeout",value:function(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}},{key:"_cancelBlockResetTimeout",value:function(){clearTimeout(this._blockResetTimeout)}},{key:"_resetCurrentBlock",value:function(){this._currentBlock=null}}]),e}(p);function y(t){return Number.parseInt(t,16)}t.exports=v},587:function(t,e){t.exports=function(t){var e=(t=t||{}).max||Number.MAX_SAFE_INTEGER,r="undefined"!==typeof t.start?t.start:Math.floor(Math.random()*e);return function(){return r%=e,r++}}},588:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(589)),o=i(r(615));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)(o.default),t.exports=e.default},589:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,i){return t(n.default,e,(0,o.default)(r),i)}};var n=i(r(512)),o=i(r(453));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},590:function(t,e,r){var n=r(488),o=r(516);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},591:function(t,e,r){var n=r(513),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(u){}var o=s.call(t);return n&&(e?t[a]=r:delete t[a]),o}},592:function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},593:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,i){(0,n.default)(e)(t,(0,o.default)(r),i)};var n=i(r(519)),o=i(r(453));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},594:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,o.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):function(t){var e=(0,i.default)(t),r=-1,n=e.length;return function(){var o=e[++r];return r<n?{value:t[o],key:o}:null}}(t)};var n=s(r(474)),o=s(r(595)),i=s(r(596));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},595:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"===typeof Symbol&&Symbol.iterator;t.exports=e.default},596:function(t,e,r){var n=r(597),o=r(608),i=r(474);t.exports=function(t){return i(t)?n(t):o(t)}},597:function(t,e,r){var n=r(598),o=r(599),i=r(520),s=r(601),a=r(603),u=r(604),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),f=!r&&o(t),l=!r&&!f&&s(t),p=!r&&!f&&!l&&u(t),h=r||f||l||p,d=h?n(t.length,String):[],v=d.length;for(var y in t)!e&&!c.call(t,y)||h&&("length"==y||l&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||a(y,v))||d.push(y);return d}},598:function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},599:function(t,e,r){var n=r(600),o=r(490),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return o(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=u},600:function(t,e,r){var n=r(488),o=r(490);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},601:function(t,e,r){(function(t){var n=r(514),o=r(602),i=e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===i?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||o;t.exports=u}).call(this,r(42)(t))},602:function(t,e){t.exports=function(){return!1}},603:function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},604:function(t,e,r){var n=r(605),o=r(606),i=r(607),s=i&&i.isTypedArray,a=s?o(s):n;t.exports=a},605:function(t,e,r){var n=r(488),o=r(517),i=r(490),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!s[n(t)]}},606:function(t,e){t.exports=function(t){return function(e){return t(e)}}},607:function(t,e,r){(function(t){var n=r(515),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===o&&n.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=a}).call(this,r(42)(t))},608:function(t,e,r){var n=r(609),o=r(610),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},609:function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},610:function(t,e,r){var n=r(611)(Object.keys,Object);t.exports=n},611:function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},612:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.default)((function(e,r){var o;try{o=t.apply(this,e)}catch(i){return r(i)}(0,n.default)(o)&&"function"===typeof o.then?o.then((function(t){a(r,null,t)}),(function(t){a(r,t.message?t:new Error(t))})):r(null,o)}))};var n=s(r(516)),o=s(r(613)),i=s(r(614));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(n){(0,i.default)(u,n)}}function u(t){throw t}t.exports=e.default},613:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,i.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,o=r(475),i=(n=o)&&n.__esModule?n:{default:n};t.exports=e.default},614:function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var o,i=r(475),s=(o=i)&&o.__esModule?o:{default:o};var a,u=e.hasSetImmediate="function"===typeof t&&t,c=e.hasNextTick="object"===typeof n&&"function"===typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t((function(){e.apply(null,r)}))}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(55).setImmediate,r(11))},615:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,i){i=i||n.default,e=e||[];var s=[],a=0,u=(0,o.default)(r);t(e,(function(t,e,r){var n=a++;u(t,(function(t,e){s[n]=e,r(t)}))}),(function(t){i(t,s)}))};var n=i(r(465)),o=i(r(453));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},616:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(617)),o=i(r(521));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,o.default)(n.default,1),t.exports=e.default},617:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,s){(0,n.default)(e)(t,(0,o.default)((0,i.default)(r)),s)};var n=s(r(519)),o=s(r(618)),i=s(r(453));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},618:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default},619:function(t,e,r){var n=r(41).EventEmitter,o=r(179).inherits;function i(){n.call(this),this.isLocked=!0}t.exports=i,o(i,n),i.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},i.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},i.prototype.await=function(t){this.isLocked?this.once("unlock",t):setTimeout(t)}},620:function(t,e,r){var n=r(522);function o(t){return"never"!==a(t)}function i(t){var e=s(t);return e>=t.params.length?t.params:"eth_getBlockByNumber"===t.method?t.params.slice(1):t.params.slice(0,e)}function s(t){switch(t.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}function a(t){switch(t.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":return"fork";case"eth_gasPrice":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"eth_blockNumber":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":return"never"}}t.exports={cacheIdentifierForPayload:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!o(t))return null;var r=e.includeBlockRef,s=r?t.params:i(t);return t.method+":"+n(s)},canCache:o,blockTagForPayload:function(t){var e=s(t);if(e>=t.params.length)return null;return t.params[e]},paramsWithoutBlockTag:i,blockTagParamIndex:s,cacheTypeForPayload:a}},624:function(t,e){t.exports=function(){var t=(new Date).getTime()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}},630:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,i.default)(e||o.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(520)),o=c(r(465)),i=c(r(489)),s=c(r(475)),a=c(r(491)),u=c(r(453));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},631:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,o.default)(n.default,t,e)};var n=i(r(512)),o=i(r(632));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},632:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,o.default)(e)?[]:{};t(e,(function(t,e,r){(0,s.default)(t)((function(t,n){arguments.length>2&&(n=(0,i.default)(arguments,1)),a[e]=n,r(t)}))}),(function(t){r(t,a)}))};var n=a(r(465)),o=a(r(474)),i=a(r(475)),s=a(r(453));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},633:function(t,e,r){var n=r(634),o=r(641);function i(t){var e=new Error("Expect argument to be non-empty array");if("object"!==typeof t||!t.length)throw e;var r=t.map((function(t){return"bytes"===t.type?n.toBuffer(t.value):t.value})),i=t.map((function(t){return t.type})),s=t.map((function(t){if(!t.name)throw e;return t.type+" "+t.name}));return o.soliditySHA3(["bytes32","bytes32"],[o.soliditySHA3(new Array(t.length).fill("string"),s),o.soliditySHA3(i,r)])}function s(t,e){var r=n.toBuffer(e),o=n.fromRpcSig(r);return n.ecrecover(t,o.v,o.r,o.s)}function a(t){var e=n.toBuffer(t.data);return s(n.hashPersonalMessage(e),t.sig)}function u(t,e){for(var r=""+t;r.length<e;)r="0"+r;return r}t.exports={concatSig:function(t,e,r){var o=n.fromSigned(e),i=n.fromSigned(r),s=n.bufferToInt(t),a=u(n.toUnsigned(o).toString("hex"),64),c=u(n.toUnsigned(i).toString("hex"),64),f=n.stripHexPrefix(n.intToHex(s));return n.addHexPrefix(a.concat(c,f)).toString("hex")},normalize:function(t){if(t){if("number"===typeof t){var e=n.toBuffer(t);t=n.bufferToHex(e)}if("string"!==typeof t){var r="eth-sig-util.normalize() requires hex string or integer input.";throw new Error(r+=" received "+typeof t+": "+t)}return n.addHexPrefix(t.toLowerCase())}},personalSign:function(t,e){var r=n.toBuffer(e.data),o=n.hashPersonalMessage(r),i=n.ecsign(o,t);return n.bufferToHex(this.concatSig(i.v,i.r,i.s))},recoverPersonalSignature:function(t){var e=a(t),r=n.publicToAddress(e);return n.bufferToHex(r)},extractPublicKey:function(t){return"0x"+a(t).toString("hex")},typedSignatureHash:function(t){var e=i(t);return n.bufferToHex(e)},signTypedData:function(t,e){var r=i(e.data),o=n.ecsign(r,t);return n.bufferToHex(this.concatSig(o.v,o.r,o.s))},recoverTypedSignature:function(t){var e=s(i(t.data),t.sig),r=n.publicToAddress(e);return n.bufferToHex(r)}}},634:function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(635),i=r(70),s=r(98),a=r(74),u=r(9),c=r(29),f=r(7).Buffer;Object.assign(e,r(45)),e.MAX_INTEGER=new u("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new u("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL_S=e.KECCAK256_NULL_S,e.KECCAK256_NULL=f.from(e.KECCAK256_NULL_S,"hex"),e.SHA3_NULL=e.KECCAK256_NULL,e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY_S=e.KECCAK256_RLP_ARRAY_S,e.KECCAK256_RLP_ARRAY=f.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.SHA3_RLP_ARRAY=e.KECCAK256_RLP_ARRAY,e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP_S=e.KECCAK256_RLP_S,e.KECCAK256_RLP=f.from(e.KECCAK256_RLP_S,"hex"),e.SHA3_RLP=e.KECCAK256_RLP,e.BN=u,e.rlp=a,e.secp256k1=i,e.zeros=function(t){return f.allocUnsafe(t).fill(0)},e.zeroAddress=function(){var t=e.zeros(20);return e.bufferToHex(t)},e.setLengthLeft=e.setLength=function(t,r,n){var o=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(o),o):t.slice(0,r):t.length<r?(t.copy(o,r-t.length),o):t.slice(-r)},e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=e.stripZeros=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t},e.toBuffer=function(t){if(!f.isBuffer(t))if(Array.isArray(t))t=f.from(t);else if("string"===typeof t)t=e.isHexString(t)?f.from(e.padToEven(e.stripHexPrefix(t)),"hex"):f.from(t);else if("number"===typeof t)t=e.intToBuffer(t);else if(null===t||void 0===t)t=f.allocUnsafe(0);else if(u.isBN(t))t=t.toArrayLike(f);else{if(!t.toArray)throw new Error("invalid type");t=f.from(t.toArray())}return t},e.bufferToInt=function(t){return new u(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(t){return new u(t).fromTwos(256)},e.toUnsigned=function(t){return f.from(t.toTwos(256).toArray())},e.keccak=function(t,r){return t=e.toBuffer(t),r||(r=256),o("keccak"+r).update(t).digest()},e.keccak256=function(t){return e.keccak(t)},e.sha3=e.keccak,e.sha256=function(t){return t=e.toBuffer(t),c("sha256").update(t).digest()},e.ripemd160=function(t,r){t=e.toBuffer(t);var n=c("rmd160").update(t).digest();return!0===r?e.setLength(n,32):n},e.rlphash=function(t){return e.keccak(a.encode(t))},e.isValidPrivate=function(t){return i.privateKeyVerify(t)},e.isValidPublic=function(t,e){return 64===t.length?i.publicKeyVerify(f.concat([f.from([4]),t])):!!e&&i.publicKeyVerify(t)},e.pubToAddress=e.publicToAddress=function(t,r){return t=e.toBuffer(t),r&&64!==t.length&&(t=i.publicKeyConvert(t,!1).slice(1)),s(64===t.length),e.keccak(t).slice(-20)};var l=e.privateToPublic=function(t){return t=e.toBuffer(t),i.publicKeyCreate(t,!1).slice(1)};e.importPublic=function(t){return 64!==(t=e.toBuffer(t)).length&&(t=i.publicKeyConvert(t,!1).slice(1)),t},e.ecsign=function(t,e){var r=i.sign(t,e),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},e.hashPersonalMessage=function(t){var r=e.toBuffer("\x19Ethereum Signed Message:\n"+t.length.toString());return e.keccak(f.concat([r,t]))},e.ecrecover=function(t,r,n,o){var s=f.concat([e.setLength(n,32),e.setLength(o,32)],64),a=r-27;if(0!==a&&1!==a)throw new Error("Invalid signature v value");var u=i.recover(t,s,a);return i.publicKeyConvert(u,!1).slice(1)},e.toRpcSig=function(t,r,n){if(27!==t&&28!==t)throw new Error("Invalid recovery id");return e.bufferToHex(f.concat([e.setLengthLeft(r,32),e.setLengthLeft(n,32),e.toBuffer(t-27)]))},e.fromRpcSig=function(t){if(65!==(t=e.toBuffer(t)).length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},e.privateToAddress=function(t){return e.publicToAddress(l(t))},e.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)},e.isZeroAddress=function(t){return e.zeroAddress()===e.addHexPrefix(t)},e.toChecksumAddress=function(t){t=e.stripHexPrefix(t).toLowerCase();for(var r=e.keccak(t).toString("hex"),n="0x",o=0;o<t.length;o++)parseInt(r[o],16)>=8?n+=t[o].toUpperCase():n+=t[o];return n},e.isValidChecksumAddress=function(t){return e.isValidAddress(t)&&e.toChecksumAddress(t)===t},e.generateAddress=function(t,r){return t=e.toBuffer(t),r=(r=new u(r)).isZero()?null:f.from(r.toArray()),e.rlphash([t,r]).slice(-20)},e.isPrecompiled=function(t){var r=e.unpad(t);return 1===r.length&&r[0]>=1&&r[0]<=8},e.addHexPrefix=function(t){return"string"!==typeof t?t:e.isHexPrefixed(t)?t:"0x"+t},e.isValidSignature=function(t,e,r,n){var o=new u("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),i=new u("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===e.length&&32===r.length&&((27===t||28===t)&&(e=new u(e),r=new u(r),!(e.isZero()||e.gt(i)||r.isZero()||r.gt(i))&&(!1!==n||1!==new u(r).cmp(o))))},e.baToJSON=function(t){if(f.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}},e.defineProperties=function(t,r,o){if(t.raw=[],t._fields=[],t.toJSON=function(r){if(r){var n={};return t._fields.forEach((function(e){n[e]="0x"+t[e].toString("hex")})),n}return e.baToJSON(this.raw)},t.serialize=function(){return a.encode(t.raw)},r.forEach((function(r,n){function o(){return t.raw[n]}function i(o){"00"!==(o=e.toBuffer(o)).toString("hex")||r.allowZero||(o=f.allocUnsafe(0)),r.allowLess&&r.length?(o=e.stripZeros(o),s(r.length>=o.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===o.length||!r.length||s(r.length===o.length,"The field "+r.name+" must have byte length of "+r.length),t.raw[n]=o}t._fields.push(r.name),Object.defineProperty(t,r.name,{enumerable:!0,configurable:!0,get:o,set:i}),r.default&&(t[r.name]=r.default),r.alias&&Object.defineProperty(t,r.alias,{enumerable:!1,configurable:!0,set:i,get:o})})),o)if("string"===typeof o&&(o=f.from(e.stripHexPrefix(o),"hex")),f.isBuffer(o)&&(o=a.decode(o)),Array.isArray(o)){if(o.length>t._fields.length)throw new Error("wrong number of fields in data");o.forEach((function(r,n){t[t._fields[n]]=e.toBuffer(r)}))}else{if("object"!==("undefined"===typeof o?"undefined":n(o)))throw new Error("invalid data");var i=Object.keys(o);r.forEach((function(e){-1!==i.indexOf(e.name)&&(t[e.name]=o[e.name]),-1!==i.indexOf(e.alias)&&(t[e.alias]=o[e.alias])}))}}},635:function(t,e,r){"use strict";t.exports=r(636)(r(639))},636:function(t,e,r){"use strict";var n=r(637),o=r(638);t.exports=function(t){var e=n(t),r=o(t);return function(t,n){switch("string"===typeof t?t.toLowerCase():t){case"keccak224":return new e(1152,448,null,224,n);case"keccak256":return new e(1088,512,null,256,n);case"keccak384":return new e(832,768,null,384,n);case"keccak512":return new e(576,1024,null,512,n);case"sha3-224":return new e(1152,448,6,224,n);case"sha3-256":return new e(1088,512,6,256,n);case"sha3-384":return new e(832,768,6,384,n);case"sha3-512":return new e(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+t)}}}},637:function(t,e,r){"use strict";var n=r(7).Buffer,o=r(43).Transform,i=r(6);t.exports=function(t){function e(e,r,n,i,s){o.call(this,s),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=s,this._state=new t,this._state.initialize(e,r),this._finalized=!1}return i(e,o),e.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(o){n=o}r(n)},e.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)},e.prototype.update=function(t,e){if(!n.isBuffer(t)&&"string"!==typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(t)||(t=n.from(t,e)),this._state.absorb(t),this},e.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var e=this._state.squeeze(this._hashBitLength/8);return void 0!==t&&(e=e.toString(t)),this._resetState(),e},e.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},e.prototype._clone=function(){var t=new e(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t},e}},638:function(t,e,r){"use strict";var n=r(7).Buffer,o=r(43).Transform,i=r(6);t.exports=function(t){function e(e,r,n,i){o.call(this,i),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new t,this._state.initialize(e,r),this._finalized=!1}return i(e,o),e.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(o){n=o}r(n)},e.prototype._flush=function(){},e.prototype._read=function(t){this.push(this.squeeze(t))},e.prototype.update=function(t,e){if(!n.isBuffer(t)&&"string"!==typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(t)||(t=n.from(t,e)),this._state.absorb(t),this},e.prototype.squeeze=function(t,e){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(t);return void 0!==e&&(r=r.toString(e)),r},e.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},e.prototype._clone=function(){var t=new e(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t},e}},639:function(t,e,r){"use strict";var n=r(7).Buffer,o=r(640);function i(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}i.prototype.initialize=function(t,e){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},i.prototype.absorb=function(t){for(var e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(o.p1600(this.state),this.count=0)},i.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,0!==(128&t)&&this.count===this.blockSize-1&&o.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,o.p1600(this.state),this.count=0,this.squeezing=!0},i.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);for(var e=n.alloc(t),r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(o.p1600(this.state),this.count=0);return e},i.prototype.copy=function(t){for(var e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing},t.exports=i},640:function(t,e,r){"use strict";var n=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];e.p1600=function(t){for(var e=0;e<24;++e){var r=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],p=t[9]^t[19]^t[29]^t[39]^t[49],h=l^(i<<1|s>>>31),d=p^(s<<1|i>>>31),v=t[0]^h,y=t[1]^d,g=t[10]^h,m=t[11]^d,_=t[20]^h,b=t[21]^d,w=t[30]^h,k=t[31]^d,x=t[40]^h,B=t[41]^d;h=r^(a<<1|u>>>31),d=o^(u<<1|a>>>31);var A=t[2]^h,S=t[3]^d,T=t[12]^h,E=t[13]^d,L=t[22]^h,P=t[23]^d,R=t[32]^h,j=t[33]^d,C=t[42]^h,M=t[43]^d;h=i^(c<<1|f>>>31),d=s^(f<<1|c>>>31);var z=t[4]^h,H=t[5]^d,O=t[14]^h,I=t[15]^d,N=t[24]^h,F=t[25]^d,K=t[34]^h,U=t[35]^d,q=t[44]^h,D=t[45]^d;h=a^(l<<1|p>>>31),d=u^(p<<1|l>>>31);var W=t[6]^h,V=t[7]^d,G=t[16]^h,$=t[17]^d,Z=t[26]^h,J=t[27]^d,Y=t[36]^h,Q=t[37]^d,X=t[46]^h,tt=t[47]^d;h=c^(r<<1|o>>>31),d=f^(o<<1|r>>>31);var et=t[8]^h,rt=t[9]^d,nt=t[18]^h,ot=t[19]^d,it=t[28]^h,st=t[29]^d,at=t[38]^h,ut=t[39]^d,ct=t[48]^h,ft=t[49]^d,lt=v,pt=y,ht=m<<4|g>>>28,dt=g<<4|m>>>28,vt=_<<3|b>>>29,yt=b<<3|_>>>29,gt=k<<9|w>>>23,mt=w<<9|k>>>23,_t=x<<18|B>>>14,bt=B<<18|x>>>14,wt=A<<1|S>>>31,kt=S<<1|A>>>31,xt=E<<12|T>>>20,Bt=T<<12|E>>>20,At=L<<10|P>>>22,St=P<<10|L>>>22,Tt=j<<13|R>>>19,Et=R<<13|j>>>19,Lt=C<<2|M>>>30,Pt=M<<2|C>>>30,Rt=H<<30|z>>>2,jt=z<<30|H>>>2,Ct=O<<6|I>>>26,Mt=I<<6|O>>>26,zt=F<<11|N>>>21,Ht=N<<11|F>>>21,Ot=K<<15|U>>>17,It=U<<15|K>>>17,Nt=D<<29|q>>>3,Ft=q<<29|D>>>3,Kt=W<<28|V>>>4,Ut=V<<28|W>>>4,qt=$<<23|G>>>9,Dt=G<<23|$>>>9,Wt=Z<<25|J>>>7,Vt=J<<25|Z>>>7,Gt=Y<<21|Q>>>11,$t=Q<<21|Y>>>11,Zt=tt<<24|X>>>8,Jt=X<<24|tt>>>8,Yt=et<<27|rt>>>5,Qt=rt<<27|et>>>5,Xt=nt<<20|ot>>>12,te=ot<<20|nt>>>12,ee=st<<7|it>>>25,re=it<<7|st>>>25,ne=at<<8|ut>>>24,oe=ut<<8|at>>>24,ie=ct<<14|ft>>>18,se=ft<<14|ct>>>18;t[0]=lt^~xt&zt,t[1]=pt^~Bt&Ht,t[10]=Kt^~Xt&vt,t[11]=Ut^~te&yt,t[20]=wt^~Ct&Wt,t[21]=kt^~Mt&Vt,t[30]=Yt^~ht&At,t[31]=Qt^~dt&St,t[40]=Rt^~qt&ee,t[41]=jt^~Dt&re,t[2]=xt^~zt&Gt,t[3]=Bt^~Ht&$t,t[12]=Xt^~vt&Tt,t[13]=te^~yt&Et,t[22]=Ct^~Wt&ne,t[23]=Mt^~Vt&oe,t[32]=ht^~At&Ot,t[33]=dt^~St&It,t[42]=qt^~ee&gt,t[43]=Dt^~re&mt,t[4]=zt^~Gt&ie,t[5]=Ht^~$t&se,t[14]=vt^~Tt&Nt,t[15]=yt^~Et&Ft,t[24]=Wt^~ne&_t,t[25]=Vt^~oe&bt,t[34]=At^~Ot&Zt,t[35]=St^~It&Jt,t[44]=ee^~gt&Lt,t[45]=re^~mt&Pt,t[6]=Gt^~ie&lt,t[7]=$t^~se&pt,t[16]=Tt^~Nt&Kt,t[17]=Et^~Ft&Ut,t[26]=ne^~_t&wt,t[27]=oe^~bt&kt,t[36]=Ot^~Zt&Yt,t[37]=It^~Jt&Qt,t[46]=gt^~Lt&Rt,t[47]=mt^~Pt&jt,t[8]=ie^~lt&xt,t[9]=se^~pt&Bt,t[18]=Nt^~Kt&Xt,t[19]=Ft^~Ut&te,t[28]=_t^~wt&Ct,t[29]=bt^~kt&Mt,t[38]=Zt^~Yt&ht,t[39]=Jt^~Qt&dt,t[48]=Lt^~Rt&qt,t[49]=Pt^~jt&Dt,t[0]^=n[2*e],t[1]^=n[2*e+1]}}},641:function(t,e,r){t.exports=r(642)},642:function(t,e,r){(function(e){var n=r(97),o=r(9),i=function(){};function s(t){return t.startsWith("int[")?"int256"+t.slice(3):"int"===t?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):"uint"===t?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):"fixed"===t?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):"ufixed"===t?"ufixed128x128":t}function a(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function u(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function c(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?""===e[2]?"dynamic":parseInt(e[2],10):null}function f(t){var e=typeof t;if("string"===e)return n.isHexPrefixed(t)?new o(n.stripHexPrefix(t),16):new o(t,10);if("number"===e)return new o(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function l(t){var e=/^(\w+)\((.*)\)$/.exec(t);if(3!==e.length)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(e[2]);if(null!==r&&3===r.length)return{method:e[1],args:r[1].split(","),retargs:r[2].split(",")};var n=e[2].split(",");return 1===n.length&&""===n[0]&&(n=[]),{method:e[1],args:n}}function p(t,r){var i,s,l,h;if("address"===t)return p("uint160",f(r));if("bool"===t)return p("uint8",r?1:0);if("string"===t)return p("bytes",e.from(r,"utf8"));if(y(t)){if("undefined"===typeof r.length)throw new Error("Not an array?");if("dynamic"!==(i=c(t))&&0!==i&&r.length>i)throw new Error("Elements exceed array size: "+i);for(h in l=[],t=t.slice(0,t.lastIndexOf("[")),"string"===typeof r&&(r=JSON.parse(r)),r)l.push(p(t,r[h]));if("dynamic"===i){var d=p("uint256",r.length);l.unshift(d)}return e.concat(l)}if("bytes"===t)return r=e.from(r),l=e.concat([p("uint256",r.length),r]),r.length%32!==0&&(l=e.concat([l,n.zeros(32-r.length%32)])),l;if(t.startsWith("bytes")){if((i=a(t))<1||i>32)throw new Error("Invalid bytes<N> width: "+i);return n.setLengthRight(r,32)}if(t.startsWith("uint")){if((i=a(t))%8||i<8||i>256)throw new Error("Invalid uint<N> width: "+i);if((s=f(r)).bitLength()>i)throw new Error("Supplied uint exceeds width: "+i+" vs "+s.bitLength());if(s<0)throw new Error("Supplied uint is negative");return s.toArrayLike(e,"be",32)}if(t.startsWith("int")){if((i=a(t))%8||i<8||i>256)throw new Error("Invalid int<N> width: "+i);if((s=f(r)).bitLength()>i)throw new Error("Supplied int exceeds width: "+i+" vs "+s.bitLength());return s.toTwos(256).toArrayLike(e,"be",32)}if(t.startsWith("ufixed")){if(i=u(t),(s=f(r))<0)throw new Error("Supplied ufixed is negative");return p("uint256",s.mul(new o(2).pow(new o(i[1]))))}if(t.startsWith("fixed"))return i=u(t),p("int256",f(r).mul(new o(2).pow(new o(i[1]))));throw new Error("Unsupported or invalid type: "+t)}function h(t,r,n){var i,s,a,u;if("string"===typeof t&&(t=d(t)),"address"===t.name)return h(t.rawType,r,n).toArrayLike(e,"be",20).toString("hex");if("bool"===t.name)return h(t.rawType,r,n).toString()===new o(1).toString();if("string"===t.name){var c=h(t.rawType,r,n);return e.from(c,"utf8").toString()}if(t.isArray){for(a=[],i=t.size,"dynamic"===t.size&&(n=h("uint256",r,n).toNumber(),i=h("uint256",r,n).toNumber(),n+=32),u=0;u<i;u++){var f=h(t.subArray,r,n);a.push(f),n+=t.subArray.memoryUsage}return a}if("bytes"===t.name)return n=h("uint256",r,n).toNumber(),i=h("uint256",r,n).toNumber(),r.slice(n+32,n+32+i);if(t.name.startsWith("bytes"))return r.slice(n,n+t.size);if(t.name.startsWith("uint")){if((s=new o(r.slice(n,n+32),16,"be")).bitLength()>t.size)throw new Error("Decoded int exceeds width: "+t.size+" vs "+s.bitLength());return s}if(t.name.startsWith("int")){if((s=new o(r.slice(n,n+32),16,"be").fromTwos(256)).bitLength()>t.size)throw new Error("Decoded uint exceeds width: "+t.size+" vs "+s.bitLength());return s}if(t.name.startsWith("ufixed")){if(i=new o(2).pow(new o(t.size[1])),!(s=h("uint256",r,n)).mod(i).isZero())throw new Error("Decimals not supported yet");return s.div(i)}if(t.name.startsWith("fixed")){if(i=new o(2).pow(new o(t.size[1])),!(s=h("int256",r,n)).mod(i).isZero())throw new Error("Decimals not supported yet");return s.div(i)}throw new Error("Unsupported or invalid type: "+t.name)}function d(t){var e,r,n;if(y(t)){e=c(t);var o=t.slice(0,t.lastIndexOf("["));return o=d(o),r={isArray:!0,name:t,size:e,memoryUsage:"dynamic"===e?32:o.memoryUsage*e,subArray:o}}switch(t){case"address":n="uint160";break;case"bool":n="uint8";break;case"string":n="bytes"}if(r={rawType:n,name:t,memoryUsage:32},t.startsWith("bytes")&&"bytes"!==t||t.startsWith("uint")||t.startsWith("int")?r.size=a(t):(t.startsWith("ufixed")||t.startsWith("fixed"))&&(r.size=u(t)),t.startsWith("bytes")&&"bytes"!==t&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((t.startsWith("uint")||t.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}function v(t){return"string"===t||"bytes"===t||"dynamic"===c(t)}function y(t){return t.lastIndexOf("]")===t.length-1}function g(t,e){return t.startsWith("address")||t.startsWith("bytes")?"0x"+e.toString("hex"):e.toString()}i.eventID=function(t,r){var o=t+"("+r.map(s).join(",")+")";return n.keccak256(e.from(o))},i.methodID=function(t,e){return i.eventID(t,e).slice(0,4)},i.rawEncode=function(t,r){var n=[],o=[],i=0;t.forEach((function(t){if(y(t)){var e=c(t);i+="dynamic"!==e?32*e:32}else i+=32}));for(var a=0;a<t.length;a++){var u=s(t[a]),f=p(u,r[a]);v(u)?(n.push(p("uint256",i)),o.push(f),i+=f.length):n.push(f)}return e.concat(n.concat(o))},i.rawDecode=function(t,r){var n=[];r=e.from(r);for(var o=0,i=0;i<t.length;i++){var a=d(s(t[i])),u=h(a,r,o);o+=a.memoryUsage,n.push(u)}return n},i.simpleEncode=function(t){var r=Array.prototype.slice.call(arguments).slice(1),n=l(t);if(r.length!==n.args.length)throw new Error("Argument count mismatch");return e.concat([i.methodID(n.method,n.args),i.rawEncode(n.args,r)])},i.simpleDecode=function(t,e){var r=l(t);if(!r.retargs)throw new Error("No return values in method");return i.rawDecode(r.retargs,e)},i.stringify=function(t,e){var r=[];for(var n in t){var o=t[n],i=e[n];i=/^[^\[]+\[.*\]$/.test(o)?i.map((function(t){return g(o,t)})).join(", "):g(o,i),r.push(i)}return r},i.solidityHexValue=function(t,r,o){var s,u;if(y(t)){var l=t.replace(/\[.*?\]/,"");if(!y(l)){var p=c(t);if("dynamic"!==p&&0!==p&&r.length>p)throw new Error("Elements exceed array size: "+p)}var h=r.map((function(t){return i.solidityHexValue(l,t,256)}));return e.concat(h)}if("bytes"===t)return r;if("string"===t)return e.from(r,"utf8");if("bool"===t){o=o||8;var d=Array(o/4).join("0");return e.from(r?d+"1":d+"0","hex")}if("address"===t){var v=20;return o&&(v=o/8),n.setLengthLeft(r,v)}if(t.startsWith("bytes")){if((s=a(t))<1||s>32)throw new Error("Invalid bytes<N> width: "+s);return n.setLengthRight(r,s)}if(t.startsWith("uint")){if((s=a(t))%8||s<8||s>256)throw new Error("Invalid uint<N> width: "+s);if((u=f(r)).bitLength()>s)throw new Error("Supplied uint exceeds width: "+s+" vs "+u.bitLength());return o=o||s,u.toArrayLike(e,"be",o/8)}if(t.startsWith("int")){if((s=a(t))%8||s<8||s>256)throw new Error("Invalid int<N> width: "+s);if((u=f(r)).bitLength()>s)throw new Error("Supplied int exceeds width: "+s+" vs "+u.bitLength());return o=o||s,u.toTwos(s).toArrayLike(e,"be",o/8)}throw new Error("Unsupported or invalid type: "+t)},i.solidityPack=function(t,r){if(t.length!==r.length)throw new Error("Number of types are not matching the values");for(var n=[],o=0;o<t.length;o++){var a=s(t[o]),u=r[o];n.push(i.solidityHexValue(a,u,null))}return e.concat(n)},i.soliditySHA3=function(t,e){return n.keccak256(i.solidityPack(t,e))},i.soliditySHA256=function(t,e){return n.sha256(i.solidityPack(t,e))},i.solidityRIPEMD160=function(t,e){return n.ripemd160(i.solidityPack(t,e),!0)},i.fromSerpent=function(t){for(var e,r=[],n=0;n<t.length;n++){var o=t[n];if("s"===o)r.push("bytes");else if("b"===o){for(var i="bytes",s=n+1;s<t.length&&((e=t[s])>="0"&&e<="9");)i+=t[s]-"0",s++;n=s-1,r.push(i)}else if("i"===o)r.push("int256");else{if("a"!==o)throw new Error("Unsupported or invalid type: "+o);r.push("int256[]")}}return r},i.toSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if("bytes"===n)e.push("s");else if(n.startsWith("bytes"))e.push("b"+a(n));else if("int256"===n)e.push("i");else{if("int256[]"!==n)throw new Error("Unsupported or invalid type: "+n);e.push("a")}}return e.join("")},t.exports=i}).call(this,r(8).Buffer)},643:function(t,e,r){(function(e){!function(r){"use strict";var n=function(t){setTimeout(t,0)};"undefined"!=typeof e&&e&&"function"==typeof e.nextTick&&(n=e.nextTick),t.exports=function(t){var e={capacity:t||1,current:0,queue:[],firstHere:!1,take:function(){if(!1===e.firstHere){e.current++,e.firstHere=!0;var t=1}else t=0;var r={n:1};"function"==typeof arguments[0]?r.task=arguments[0]:r.n=arguments[0],arguments.length>=2&&("function"==typeof arguments[1]?r.task=arguments[1]:r.n=arguments[1]);var n=r.task;if(r.task=function(){n(e.leave)},e.current+r.n-t>e.capacity)return 1===t&&(e.current--,e.firstHere=!1),e.queue.push(r);e.current+=r.n-t,r.task(e.leave),1===t&&(e.firstHere=!1)},leave:function(t){if(t=t||1,e.current-=t,e.queue.length){var r=e.queue[0];r.n+e.current>e.capacity||(e.queue.shift(),e.current+=r.n,n(r.task))}else if(e.current<0)throw new Error("leave called too many times.")},available:function(t){return t=t||1,e.current+t<=e.capacity}};return e}}()}).call(this,r(11))},644:function(t,e,r){var n=r(476);t.exports=function(t,e,r){t.sendAsync(n({method:"eth_estimateGas",params:[e]}),(function(t,e){if(t)return"no contract code at given address"===t.message?r(null,"0xcf08"):r(t);r(null,e.result)}))}},645:function(t,e,r){var n=r(2),o=r(67),i=r(450),s=r(526),a=r(527),u=r(528),c=r(469),f=c.unsafeRandomBytes,l=c.incrementHexInt,p=r(497);function h(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}t.exports=function(t){var e=t.blockTracker,r=t.provider,c={},d=u({blockTracker:e,provider:r}),v=!1,y=new i,g=s({eth_subscribe:a((function(t,e){return m.apply(this,arguments)})),eth_unsubscribe:a((function(t,e){return _.apply(this,arguments)}))});return g.destroy=function(){for(var t in y.removeAllListeners(),c)c[t].destroy(),delete c[t];v=!0},{events:y,middleware:g};function m(){return(m=o(n.mark((function t(i,s){var a,u,y,g,m,_,w;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w=function(t){var e=t.subId,r=t.filter;return r.on("update",(function(t){return b(e,t)})),{type:a,destroy:function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.uninstallFilter(r.idHex);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}},_=function(t){var i=t.subId,s={type:a,destroy:function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.removeListener("sync",s.update);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),update:function(){var t=o(n.mark((function t(e){var o,s,a,u,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.oldBlock,s=e.newBlock,a=s,u=l(o),t.next=5,p({provider:r,fromBlock:u,toBlock:a});case 5:c=t.sent,c.map(h).forEach((function(t){b(i,t)}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return e.on("sync",s.update),s},!v){t.next=4;break}throw new Error("SubscriptionManager - attempting to use after destroying");case 4:a=i.params[0],u=f(16),t.t0=a,t.next="newHeads"===t.t0?9:"logs"===t.t0?11:17;break;case 9:return y=_({subId:u}),t.abrupt("break",18);case 11:return g=i.params[1],t.next=14,d.newLogFilter(g);case 14:return m=t.sent,y=w({subId:u,filter:m}),t.abrupt("break",18);case 17:throw new Error('SubscriptionManager - unsupported subscription type "'.concat(a,'"'));case 18:return c[u]=y,s.result=u,t.abrupt("return");case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){return(_=o(n.mark((function t(e,r){var o,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v){t.next=2;break}throw new Error("SubscriptionManager - attempting to use after destroying");case 2:if(o=e.params[0],i=c[o]){t.next=7;break}return r.result=!1,t.abrupt("return");case 7:return delete c[o],t.next=10,i.destroy();case 10:r.result=!0;case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e){y.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:t,result:e}})}}},646:function(t,e){t.exports=function(t){return function(e,r,n,o){var i=t[e.method];return void 0===i?n():"function"===typeof i?i(e,r,n,o):(r.result=i,void o())}}},647:function(t,e,r){"use strict";var n=r(648),o=r(649);t.exports=function(t){if(!n(t.then))throw new TypeError("Expected a promise");return function(e){t.then((function(t){o(e,null,t)}),(function(t){o(e,t)}))}}},648:function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function(t){return"[object Function]"===n.call(t)}},649:function(t,e,r){"use strict";(function(e){t.exports="function"===typeof e?e:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}}).call(this,r(55).setImmediate)},650:function(t,e,r){"use strict";(function(t,n){var o=r(436),i=r(433),s=r(437),a=r(434),u=r(435),c=function(){function e(t){a(this,e),this.tasks=[],this.count=t}return u(e,[{key:"sched",value:function(){if(this.count>0&&this.tasks.length>0){this.count--;var t=this.tasks.shift();if(void 0===t)throw"Unexpected undefined value in tasks list";t()}}},{key:"acquire",value:function(){var e=this;return new Promise((function(r,o){e.tasks.push((function(){var t=!1;r((function(){t||(t=!0,e.count++,e.sched())}))})),t&&t.nextTick?t.nextTick(e.sched.bind(e)):n(e.sched.bind(e))}))}},{key:"use",value:function(t){return this.acquire().then((function(e){return t().then((function(t){return e(),t})).catch((function(t){throw e(),t}))}))}}]),e}();e.Semaphore=c;var f=function(t){function e(){return a(this,e),o(this,i(e).call(this,1))}return s(e,t),e}(c);e.Mutex=f}).call(this,r(11),r(55).setImmediate)},651:function(t,e,r){var n=r(2),o=r(67),i=r(434),s=r(435),a=r(436),u=r(433),c=r(437),f=r(511),l=r(487),p=r(652),h=r(469),d=(h.bnToHex,h.hexToInt),v=h.incrementHexInt,y=h.minBlockRef,g=h.blockRefIsNumber,m=function(t){"use strict";function e(t){var r,n=t.provider,o=t.params;return i(this,e),(r=a(this,u(e).call(this))).type="log",r.ethQuery=new f(n),r.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},o),r.params.address&&(Array.isArray(r.params.address)||(r.params.address=[r.params.address]),r.params.address=r.params.address.map((function(t){return t.toLowerCase()}))),r}return c(e,t),s(e,[{key:"initialize",value:function(){var t=o(n.mark((function t(e){var r,o,i,s,a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.currentBlock,o=this.params.fromBlock,["latest","pending"].includes(o)&&(o=r),"earliest"===o&&(o="0x0"),this.params.fromBlock=o,i=y(this.params.toBlock,r),s=Object.assign({},this.params,{toBlock:i}),t.next=9,this._fetchLogs(s);case 9:a=t.sent,this.addInitialResults(a);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=o(n.mark((function t(e){var r,o,i,s,a,u,c,f=this;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.oldBlock,o=e.newBlock,i=o,s=r?v(r):o,a=Object.assign({},this.params,{fromBlock:s,toBlock:i}),t.next=6,this._fetchLogs(a);case 6:u=t.sent,c=u.filter((function(t){return f.matchLog(t)})),this.addResults(c);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_fetchLogs",value:function(){var t=o(n.mark((function t(e){var r,o=this;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l((function(t){return o.ethQuery.getLogs(e,t)}))();case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"matchLog",value:function(t){if(d(this.params.fromBlock)>=d(t.blockNumber))return!1;if(g(this.params.toBlock)&&d(this.params.toBlock)<=d(t.blockNumber))return!1;var e=t.address&&t.address.toLowerCase();return!(this.params.address&&e&&!this.params.address.includes(e))&&this.params.topics.every((function(e,r){var n=t.topics[r];if(!n)return!1;n=n.toLowerCase();var o=Array.isArray(e)?e:[e];return!!o.includes(null)||(o=o.map((function(t){return t.toLowerCase()}))).includes(n)}))}}]),e}(p);t.exports=m},652:function(t,e,r){var n=r(2),o=r(67),i=r(434),s=r(435),a=r(436),u=r(433),c=r(448),f=r(437),l=function(t){"use strict";function e(){var t;return i(this,e),(t=a(this,u(e).call(this))).allResults=[],t}return f(e,t),s(e,[{key:"update",value:function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("BaseFilterWithHistory - no update method specified");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"addResults",value:function(t){this.allResults=this.allResults.concat(t),c(u(e.prototype),"addResults",this).call(this,t)}},{key:"addInitialResults",value:function(t){this.allResults=this.allResults.concat(t),c(u(e.prototype),"addInitialResults",this).call(this,t)}},{key:"getAllResults",value:function(){return this.allResults}}]),e}(r(496));t.exports=l},653:function(t,e,r){var n=r(2),o=r(67),i=r(434),s=r(435),a=r(436),u=r(433),c=r(437),f=r(496),l=r(497),p=r(469).incrementHexInt,h=function(t){"use strict";function e(t){var r,n=t.provider;t.params;return i(this,e),(r=a(this,u(e).call(this))).type="block",r.provider=n,r}return c(e,t),s(e,[{key:"update",value:function(){var t=o(n.mark((function t(e){var r,o,i,s,a,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.oldBlock,o=e.newBlock,i=o,s=p(r),t.next=5,l({provider:this.provider,fromBlock:s,toBlock:i});case 5:a=t.sent,u=a.map((function(t){return t.hash})),this.addResults(u);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),e}(f);t.exports=h},654:function(t,e,r){var n=r(2),o=r(67),i=r(434),s=r(435),a=r(436),u=r(433),c=r(437),f=r(655),l=r(496),p=r(497),h=r(469).incrementHexInt,d=function(t){"use strict";function e(t){var r,n=t.provider;return i(this,e),(r=a(this,u(e).call(this))).type="tx",r.provider=n,r}return c(e,t),s(e,[{key:"update",value:function(){var t=o(n.mark((function t(e){var r,o,i,s,a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.oldBlock,o=r,i=h(r),t.next=5,p({provider:this.provider,fromBlock:i,toBlock:o});case 5:s=t.sent,a=f(s,(function(t){return t.transactions})),this.addResults(a);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),e}(l);t.exports=d},655:function(t,e,r){(function(t,r){var n="[object Arguments]",o="[object Map]",i="[object Object]",s="[object Set]",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,c=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[n]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[o]=d["[object Number]"]=d[i]=d["[object RegExp]"]=d[s]=d["[object String]"]=d["[object WeakMap]"]=!1;var v="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,g=v||y||Function("return this")(),m=e&&!e.nodeType&&e,_=m&&"object"==typeof r&&r&&!r.nodeType&&r,b=_&&_.exports===m&&v.process,w=function(){try{return b&&b.binding("util")}catch(t){}}(),k=w&&w.isTypedArray;function x(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function B(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function A(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function S(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function T(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function E(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var L,P,R=Array.prototype,j=Function.prototype,C=Object.prototype,M=g["__core-js_shared__"],z=function(){var t=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),H=j.toString,O=C.hasOwnProperty,I=C.toString,N=RegExp("^"+H.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=g.Symbol,K=g.Uint8Array,U=C.propertyIsEnumerable,q=R.splice,D=F?F.isConcatSpreadable:void 0,W=(L=Object.keys,P=Object,function(t){return L(P(t))}),V=Tt(g,"DataView"),G=Tt(g,"Map"),$=Tt(g,"Promise"),Z=Tt(g,"Set"),J=Tt(g,"WeakMap"),Y=Tt(Object,"create"),Q=Ht(V),X=Ht(G),tt=Ht($),et=Ht(Z),rt=Ht(J),nt=F?F.prototype:void 0,ot=nt?nt.valueOf:void 0,it=nt?nt.toString:void 0;function st(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function at(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ut(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ct(t){var e=-1,r=t?t.length:0;for(this.__data__=new ut;++e<r;)this.add(t[e])}function ft(t){this.__data__=new at(t)}function lt(t,e){var r=Ft(t)||Nt(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!O.call(t,i)||o&&("length"==i||Pt(i,n))||r.push(i);return r}function pt(t,e){for(var r=t.length;r--;)if(It(t[r][0],e))return r;return-1}st.prototype.clear=function(){this.__data__=Y?Y(null):{}},st.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},st.prototype.get=function(t){var e=this.__data__;if(Y){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return O.call(e,t)?e[t]:void 0},st.prototype.has=function(t){var e=this.__data__;return Y?void 0!==e[t]:O.call(e,t)},st.prototype.set=function(t,e){return this.__data__[t]=Y&&void 0===e?"__lodash_hash_undefined__":e,this},at.prototype.clear=function(){this.__data__=[]},at.prototype.delete=function(t){var e=this.__data__,r=pt(e,t);return!(r<0)&&(r==e.length-1?e.pop():q.call(e,r,1),!0)},at.prototype.get=function(t){var e=this.__data__,r=pt(e,t);return r<0?void 0:e[r][1]},at.prototype.has=function(t){return pt(this.__data__,t)>-1},at.prototype.set=function(t,e){var r=this.__data__,n=pt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},ut.prototype.clear=function(){this.__data__={hash:new st,map:new(G||at),string:new st}},ut.prototype.delete=function(t){return St(this,t).delete(t)},ut.prototype.get=function(t){return St(this,t).get(t)},ut.prototype.has=function(t){return St(this,t).has(t)},ut.prototype.set=function(t,e){return St(this,t).set(t,e),this},ct.prototype.add=ct.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ct.prototype.has=function(t){return this.__data__.has(t)},ft.prototype.clear=function(){this.__data__=new at},ft.prototype.delete=function(t){return this.__data__.delete(t)},ft.prototype.get=function(t){return this.__data__.get(t)},ft.prototype.has=function(t){return this.__data__.has(t)},ft.prototype.set=function(t,e){var r=this.__data__;if(r instanceof at){var n=r.__data__;if(!G||n.length<199)return n.push([t,e]),this;r=this.__data__=new ut(n)}return r.set(t,e),this};var ht,dt,vt=(ht=function(t,e){return t&&yt(t,e,$t)},function(t,e){if(null==t)return t;if(!Kt(t))return ht(t,e);for(var r=t.length,n=dt?r:-1,o=Object(t);(dt?n--:++n<r)&&!1!==e(o[n],n,o););return t});var yt=function(t){return function(e,r,n){for(var o=-1,i=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++o];if(!1===r(i[u],u,i))break}return e}}();function gt(t,e){for(var r=0,n=(e=Rt(e,t)?[e]:Bt(e)).length;null!=t&&r<n;)t=t[zt(e[r++])];return r&&r==n?t:void 0}function mt(t,e){return null!=t&&e in Object(t)}function _t(t,e,r,a,u){return t===e||(null==t||null==e||!Dt(t)&&!Wt(e)?t!==t&&e!==e:function(t,e,r,a,u,c){var f=Ft(t),l=Ft(e),p="[object Array]",h="[object Array]";f||(p=(p=Et(t))==n?i:p);l||(h=(h=Et(e))==n?i:h);var d=p==i&&!S(t),v=h==i&&!S(e),y=p==h;if(y&&!d)return c||(c=new ft),f||Gt(t)?At(t,e,r,a,u,c):function(t,e,r,n,i,a,u){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!n(new K(t),new K(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return It(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case o:var c=T;case s:var f=2&a;if(c||(c=E),t.size!=e.size&&!f)return!1;var l=u.get(t);if(l)return l==e;a|=1,u.set(t,e);var p=At(c(t),c(e),n,i,a,u);return u.delete(t),p;case"[object Symbol]":if(ot)return ot.call(t)==ot.call(e)}return!1}(t,e,p,r,a,u,c);if(!(2&u)){var g=d&&O.call(t,"__wrapped__"),m=v&&O.call(e,"__wrapped__");if(g||m){var _=g?t.value():t,b=m?e.value():e;return c||(c=new ft),r(_,b,a,u,c)}}if(!y)return!1;return c||(c=new ft),function(t,e,r,n,o,i){var s=2&o,a=$t(t),u=a.length,c=$t(e).length;if(u!=c&&!s)return!1;var f=u;for(;f--;){var l=a[f];if(!(s?l in e:O.call(e,l)))return!1}var p=i.get(t);if(p&&i.get(e))return p==e;var h=!0;i.set(t,e),i.set(e,t);var d=s;for(;++f<u;){l=a[f];var v=t[l],y=e[l];if(n)var g=s?n(y,v,l,e,t,i):n(v,y,l,t,e,i);if(!(void 0===g?v===y||r(v,y,n,o,i):g)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var m=t.constructor,_=e.constructor;m!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return i.delete(t),i.delete(e),h}(t,e,r,a,u,c)}(t,e,_t,r,a,u))}function bt(t){return!(!Dt(t)||function(t){return!!z&&z in t}(t))&&(Ut(t)||S(t)?N:p).test(Ht(t))}function wt(t){return"function"==typeof t?t:null==t?Zt:"object"==typeof t?Ft(t)?function(t,e){if(Rt(t)&&jt(e))return Ct(zt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:gt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){e=Rt(e,t)?[e]:Bt(e);var n,o=-1,i=e.length;for(;++o<i;){var s=zt(e[o]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(i=t?t.length:0)&&qt(i)&&Pt(s,i)&&(Ft(t)||Nt(t))}(t,e,mt)}(r,t):_t(e,n,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=$t(t),r=e.length;for(;r--;){var n=e[r],o=t[n];e[r]=[n,o,jt(o)]}return e}(t);if(1==e.length&&e[0][2])return Ct(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,s=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=r[o];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var u=(a=r[o])[0],c=t[u],f=a[1];if(s&&a[2]){if(void 0===c&&!(u in t))return!1}else{var l=new ft;if(n)var p=n(c,f,u,t,e,l);if(!(void 0===p?_t(f,c,n,3,l):p))return!1}}return!0}(r,t,e)}}(t):function(t){return Rt(t)?(e=zt(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return gt(e,t)}}(t);var e}(t)}function kt(t){if(!function(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||C;return t===r}(t))return W(t);var e=[];for(var r in Object(t))O.call(t,r)&&"constructor"!=r&&e.push(r);return e}function xt(t,e){var r=-1,n=Kt(t)?Array(t.length):[];return vt(t,(function(t,o,i){n[++r]=e(t,o,i)})),n}function Bt(t){return Ft(t)?t:Mt(t)}function At(t,e,r,n,o,i){var s=2&o,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var c=i.get(t);if(c&&i.get(e))return c==e;var f=-1,l=!0,p=1&o?new ct:void 0;for(i.set(t,e),i.set(e,t);++f<a;){var h=t[f],d=e[f];if(n)var v=s?n(d,h,f,e,t,i):n(h,d,f,t,e,i);if(void 0!==v){if(v)continue;l=!1;break}if(p){if(!A(e,(function(t,e){if(!p.has(e)&&(h===t||r(h,t,n,o,i)))return p.add(e)}))){l=!1;break}}else if(h!==d&&!r(h,d,n,o,i)){l=!1;break}}return i.delete(t),i.delete(e),l}function St(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function Tt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return bt(r)?r:void 0}var Et=function(t){return I.call(t)};function Lt(t){return Ft(t)||Nt(t)||!!(D&&t&&t[D])}function Pt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||h.test(t))&&t>-1&&t%1==0&&t<e}function Rt(t,e){if(Ft(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Vt(t))||(u.test(t)||!a.test(t)||null!=e&&t in Object(e))}function jt(t){return t===t&&!Dt(t)}function Ct(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(V&&"[object DataView]"!=Et(new V(new ArrayBuffer(1)))||G&&Et(new G)!=o||$&&"[object Promise]"!=Et($.resolve())||Z&&Et(new Z)!=s||J&&"[object WeakMap]"!=Et(new J))&&(Et=function(t){var e=I.call(t),r=e==i?t.constructor:void 0,n=r?Ht(r):void 0;if(n)switch(n){case Q:return"[object DataView]";case X:return o;case tt:return"[object Promise]";case et:return s;case rt:return"[object WeakMap]"}return e});var Mt=Ot((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Vt(t))return it?it.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return c.test(t)&&r.push(""),t.replace(f,(function(t,e,n,o){r.push(n?o.replace(l,"$1"):e||t)})),r}));function zt(t){if("string"==typeof t||Vt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ht(t){if(null!=t){try{return H.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ot(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=t.apply(this,n);return r.cache=i.set(o,s),s};return r.cache=new(Ot.Cache||ut),r}function It(t,e){return t===e||t!==t&&e!==e}function Nt(t){return function(t){return Wt(t)&&Kt(t)}(t)&&O.call(t,"callee")&&(!U.call(t,"callee")||I.call(t)==n)}Ot.Cache=ut;var Ft=Array.isArray;function Kt(t){return null!=t&&qt(t.length)&&!Ut(t)}function Ut(t){var e=Dt(t)?I.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function qt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Dt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Wt(t){return!!t&&"object"==typeof t}function Vt(t){return"symbol"==typeof t||Wt(t)&&"[object Symbol]"==I.call(t)}var Gt=k?function(t){return function(e){return t(e)}}(k):function(t){return Wt(t)&&qt(t.length)&&!!d[I.call(t)]};function $t(t){return Kt(t)?lt(t):kt(t)}function Zt(t){return t}r.exports=function(t,e){return function t(e,r,n,o,i){var s=-1,a=e.length;for(n||(n=Lt),i||(i=[]);++s<a;){var u=e[s];r>0&&n(u)?r>1?t(u,r-1,n,o,i):B(i,u):o||(i[i.length]=u)}return i}(function(t,e){return(Ft(t)?x:xt)(t,wt(e))}(t,e),1)}}).call(this,r(10),r(42)(t))}}]);
//# sourceMappingURL=1.5a72dfdd.chunk.js.map