(this["webpackJsonpweb-liquidate"]=this["webpackJsonpweb-liquidate"]||[]).push([[0],{164:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"},{"name":"amt","type":"uint256"}],"name":"addERC20Collateral","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getVaultOwners","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"amount","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"hasVault","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isExerciseWindow","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"getVault","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"oTokensToIssue","type":"uint256"},{"name":"receiver","type":"address"}],"name":"issueOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"sender","type":"address"},{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addAndSellERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToRemove","type":"uint256"}],"name":"removeCollateral","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"liquidationFactor","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createAndSellETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"optionsExchange","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"oTokensToExercise","type":"uint256"},{"name":"vaultsToExerciseFrom","type":"address[]"}],"name":"exercise","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"collateralAmt","type":"uint256"}],"name":"maxOTokensIssuable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlying","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"oTokensToExercise","type":"uint256"}],"name":"underlyingRequiredToExercise","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"openVault","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"COMPOUND_ORACLE","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"liquidationIncentive","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"hasExpired","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"addETHCollateral","outputs":[{"name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"transactionFee","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"strike","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlyingExp","outputs":[{"name":"","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"collateralExp","outputs":[{"name":"","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oTokenExchangeRate","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"redeemVaultBalance","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"}],"name":"setDetails","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"minCollateralizationRatio","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"},{"name":"oTokensToLiquidate","type":"uint256"}],"name":"liquidate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"strikePrice","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createAndSellERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"isUnsafe","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addAndSellETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"collateral","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"maxOTokensLiquidatable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"expiry","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_address","type":"address"}],"name":"transferFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToBurn","type":"uint256"}],"name":"burnOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_liquidationIncentive","type":"uint256"},{"name":"_liquidationFactor","type":"uint256"},{"name":"_transactionFee","type":"uint256"},{"name":"_minCollateralizationRatio","type":"uint256"}],"name":"updateParameters","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_ierc20","type":"address"}],"name":"isETH","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[],"name":"removeUnderlying","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_collateral","type":"address"},{"name":"_collExp","type":"int32"},{"name":"_underlying","type":"address"},{"name":"_underlyingExp","type":"int32"},{"name":"_oTokenExchangeExp","type":"int32"},{"name":"_strikePrice","type":"uint256"},{"name":"_strikeExp","type":"int32"},{"name":"_strike","type":"address"},{"name":"_expiry","type":"uint256"},{"name":"_optionsExchange","type":"address"},{"name":"_oracleAddress","type":"address"},{"name":"_windowSize","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"VaultOpened","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"payer","type":"address"}],"name":"ETHCollateralAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"payer","type":"address"}],"name":"ERC20CollateralAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"issuedTo","type":"address"},{"indexed":false,"name":"oTokensIssued","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"IssuedOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtCollateralToPay","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"liquidator","type":"address"}],"name":"Liquidate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtUnderlyingToPay","type":"uint256"},{"indexed":false,"name":"amtCollateralToPay","type":"uint256"},{"indexed":false,"name":"exerciser","type":"address"},{"indexed":false,"name":"vaultExercisedFrom","type":"address"}],"name":"Exercise","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtCollateralRedeemed","type":"uint256"},{"indexed":false,"name":"amtUnderlyingRedeemed","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RedeemVaultBalance","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"oTokensBurned","type":"uint256"}],"name":"BurnOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtRemoved","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RemoveCollateral","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"liquidationIncentive","type":"uint256"},{"indexed":false,"name":"liquidationFactor","type":"uint256"},{"indexed":false,"name":"transactionFee","type":"uint256"},{"indexed":false,"name":"minCollateralizationRatio","type":"uint256"},{"indexed":false,"name":"owner","type":"address"}],"name":"UpdateParameters","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"to","type":"address"},{"indexed":false,"name":"fees","type":"uint256"}],"name":"TransferFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amountUnderlying","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RemoveUnderlying","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}]')},165:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"oTokenAddress","type":"address"},{"name":"payoutTokenAddress","type":"address"},{"name":"oTokensToSell","type":"uint256"}],"name":"premiumReceived","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"receiver","type":"address"},{"name":"oTokenAddress","type":"address"},{"name":"payoutTokenAddress","type":"address"},{"name":"oTokensToSell","type":"uint256"}],"name":"sellOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"receiver","type":"address"},{"name":"oTokenAddress","type":"address"},{"name":"paymentTokenAddress","type":"address"},{"name":"oTokensToBuy","type":"uint256"}],"name":"buyOTokens","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"oTokenAddress","type":"address"},{"name":"paymentTokenAddress","type":"address"},{"name":"oTokensToBuy","type":"uint256"}],"name":"premiumToPay","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"UNISWAP_FACTORY","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"paymentToken","type":"address"},{"name":"oToken","type":"address"},{"name":"_amt","type":"uint256"},{"name":"_transferTo","type":"address"}],"name":"uniswapBuyOToken","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_uniswapFactory","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"seller","type":"address"},{"indexed":false,"name":"receiver","type":"address"},{"indexed":false,"name":"oTokenAddress","type":"address"},{"indexed":false,"name":"payoutTokenAddress","type":"address"},{"indexed":false,"name":"oTokensToSell","type":"uint256"}],"name":"SellOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"buyer","type":"address"},{"indexed":false,"name":"receiver","type":"address"},{"indexed":false,"name":"oTokenAddress","type":"address"},{"indexed":false,"name":"paymentTokenAddress","type":"address"},{"indexed":false,"name":"oTokensToBuy","type":"uint256"},{"indexed":false,"name":"premiumPaid","type":"uint256"}],"name":"BuyOTokens","type":"event"}]')},174:function(e,t,n){e.exports=n(408)},179:function(e,t,n){},193:function(e,t){},216:function(e,t){},218:function(e,t){},262:function(e,t){},264:function(e,t){},293:function(e,t){},402:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"getPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"PriceOracle","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"isCETH","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_oracleAddress","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]')},407:function(e){e.exports=JSON.parse('[{"name":"TokenPurchase","inputs":[{"type":"address","name":"buyer","indexed":true},{"type":"uint256","name":"eth_sold","indexed":true},{"type":"uint256","name":"tokens_bought","indexed":true}],"anonymous":false,"type":"event"},{"name":"EthPurchase","inputs":[{"type":"address","name":"buyer","indexed":true},{"type":"uint256","name":"tokens_sold","indexed":true},{"type":"uint256","name":"eth_bought","indexed":true}],"anonymous":false,"type":"event"},{"name":"AddLiquidity","inputs":[{"type":"address","name":"provider","indexed":true},{"type":"uint256","name":"eth_amount","indexed":true},{"type":"uint256","name":"token_amount","indexed":true}],"anonymous":false,"type":"event"},{"name":"RemoveLiquidity","inputs":[{"type":"address","name":"provider","indexed":true},{"type":"uint256","name":"eth_amount","indexed":true},{"type":"uint256","name":"token_amount","indexed":true}],"anonymous":false,"type":"event"},{"name":"Transfer","inputs":[{"type":"address","name":"_from","indexed":true},{"type":"address","name":"_to","indexed":true},{"type":"uint256","name":"_value","indexed":false}],"anonymous":false,"type":"event"},{"name":"Approval","inputs":[{"type":"address","name":"_owner","indexed":true},{"type":"address","name":"_spender","indexed":true},{"type":"uint256","name":"_value","indexed":false}],"anonymous":false,"type":"event"},{"name":"setup","outputs":[],"inputs":[{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":175875},{"name":"addLiquidity","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"min_liquidity"},{"type":"uint256","name":"max_tokens"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":true,"type":"function","gas":82605},{"name":"removeLiquidity","outputs":[{"type":"uint256","name":"out"},{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"amount"},{"type":"uint256","name":"min_eth"},{"type":"uint256","name":"min_tokens"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":false,"type":"function","gas":116814},{"name":"__default__","outputs":[],"inputs":[],"constant":false,"payable":true,"type":"function"},{"name":"ethToTokenSwapInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"min_tokens"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":true,"type":"function","gas":12757},{"name":"ethToTokenTransferInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"min_tokens"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"}],"constant":false,"payable":true,"type":"function","gas":12965},{"name":"ethToTokenSwapOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":true,"type":"function","gas":50455},{"name":"ethToTokenTransferOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"}],"constant":false,"payable":true,"type":"function","gas":50663},{"name":"tokenToEthSwapInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_eth"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":false,"type":"function","gas":47503},{"name":"tokenToEthTransferInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_eth"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"}],"constant":false,"payable":false,"type":"function","gas":47712},{"name":"tokenToEthSwapOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"eth_bought"},{"type":"uint256","name":"max_tokens"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":false,"type":"function","gas":50175},{"name":"tokenToEthTransferOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"eth_bought"},{"type":"uint256","name":"max_tokens"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"}],"constant":false,"payable":false,"type":"function","gas":50384},{"name":"tokenToTokenSwapInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_tokens_bought"},{"type":"uint256","name":"min_eth_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":51007},{"name":"tokenToTokenTransferInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_tokens_bought"},{"type":"uint256","name":"min_eth_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"},{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":51098},{"name":"tokenToTokenSwapOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"max_tokens_sold"},{"type":"uint256","name":"max_eth_sold"},{"type":"uint256","name":"deadline"},{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":54928},{"name":"tokenToTokenTransferOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"max_tokens_sold"},{"type":"uint256","name":"max_eth_sold"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"},{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":55019},{"name":"tokenToExchangeSwapInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_tokens_bought"},{"type":"uint256","name":"min_eth_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"exchange_addr"}],"constant":false,"payable":false,"type":"function","gas":49342},{"name":"tokenToExchangeTransferInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_tokens_bought"},{"type":"uint256","name":"min_eth_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"},{"type":"address","name":"exchange_addr"}],"constant":false,"payable":false,"type":"function","gas":49532},{"name":"tokenToExchangeSwapOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"max_tokens_sold"},{"type":"uint256","name":"max_eth_sold"},{"type":"uint256","name":"deadline"},{"type":"address","name":"exchange_addr"}],"constant":false,"payable":false,"type":"function","gas":53233},{"name":"tokenToExchangeTransferOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"max_tokens_sold"},{"type":"uint256","name":"max_eth_sold"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"},{"type":"address","name":"exchange_addr"}],"constant":false,"payable":false,"type":"function","gas":53423},{"name":"getEthToTokenInputPrice","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"eth_sold"}],"constant":true,"payable":false,"type":"function","gas":5542},{"name":"getEthToTokenOutputPrice","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"}],"constant":true,"payable":false,"type":"function","gas":6872},{"name":"getTokenToEthInputPrice","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"}],"constant":true,"payable":false,"type":"function","gas":5637},{"name":"getTokenToEthOutputPrice","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"eth_bought"}],"constant":true,"payable":false,"type":"function","gas":6897},{"name":"tokenAddress","outputs":[{"type":"address","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1413},{"name":"factoryAddress","outputs":[{"type":"address","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1443},{"name":"balanceOf","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"address","name":"_owner"}],"constant":true,"payable":false,"type":"function","gas":1645},{"name":"transfer","outputs":[{"type":"bool","name":"out"}],"inputs":[{"type":"address","name":"_to"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":75034},{"name":"transferFrom","outputs":[{"type":"bool","name":"out"}],"inputs":[{"type":"address","name":"_from"},{"type":"address","name":"_to"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":110907},{"name":"approve","outputs":[{"type":"bool","name":"out"}],"inputs":[{"type":"address","name":"_spender"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":38769},{"name":"allowance","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"address","name":"_owner"},{"type":"address","name":"_spender"}],"constant":true,"payable":false,"type":"function","gas":1925},{"name":"name","outputs":[{"type":"bytes32","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1623},{"name":"symbol","outputs":[{"type":"bytes32","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1653},{"name":"decimals","outputs":[{"type":"uint256","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1683},{"name":"totalSupply","outputs":[{"type":"uint256","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1713}]')},408:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(34),u=n.n(s),i=(n(179),n(4)),o=n(24),l=n(27),c=n(3),p=n.n(c),d=n(6),m=n(2);var y=function(e){var t=e.user,n=e.setUser,s=Object(a.useState)(!1),u=Object(i.a)(s,2),o=u[0],l=u[1],c=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return t=e.sent,l(!0),n(t[0]),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o?r.a.createElement(m.c,{padding:6},r.a.createElement(m.o,{entity:t,connectedAccount:!0})):r.a.createElement(m.d,{icon:r.a.createElement(m.j,null),label:"Connect",onClick:c})};var f=function(e){var t=e.theme,n=e.updateTheme;return r.a.createElement(m.d,{icon:"dark"===t?r.a.createElement(m.m,null):r.a.createElement(m.n,null),onClick:function(){n("light"===t?"dark":"light")},label:"Theme"})};var b=function(e){var t=e.theme,n=e.updateTheme,s=e.user,u=e.setUser,o=Object(l.f)(),c=Object(a.useState)(!0),p=Object(i.a)(c,2),d=p[0],b=p[1];return Object(a.useEffect)((function(){var e="/"===o.location.pathname;b(e)}),[o.location.pathname]),r.a.createElement(m.b,{primary:d?r.a.createElement(r.a.Fragment,null):r.a.createElement(m.a,{onClick:function(e){o.goBack()}}),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{user:s,setUser:u}),r.a.createElement(f,{theme:t,updateTheme:n}))})},v=[{addr:"0x98cc3bd6af1880fcfda17ac477b2f612980e5e33",title:"cDai Insurance",symbol:"ocDai",name:"Opyn cDai Insurance",decimals:8,oracle:"0x7054e08461e3eCb7718B63540adDB3c3A1746415",collateral:"0x0000000000000000000000000000000000000000",underlying:"0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643",strike:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",strikePrice:1.859e-10,minRatio:1.4,exchange:"0x5778f2824a114f6115dc74d432685d3336216017",uniswapExchange:"0xA6923533A6362008e9b536271C2Bdc0FF1467D3c"},{addr:"0x8ed9f862363ffdfd3a07546e618214b6d59f03d4",title:"cUSDC Insurance",symbol:"ocUSDC",name:"Opyn cUSDC Insurance",decimals:8,oracle:"0x7054e08461e3eCb7718B63540adDB3c3A1746415",collateral:"0x0000000000000000000000000000000000000000",underlying:"0x39AA39c021dfbaE8faC545936693aC917d5E7563",strike:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",strikePrice:2.08e-10,minRatio:1.4,exchange:"0x5778f2824a114f6115dc74d432685d3336216017",uniswapExchange:"0xE3A0a2431a093fed99037987eD0A88550e5E79AA"},{addr:"0x4ba8c6ce0e855c051e65dfc37883360efaf7c82b",title:"y.curve.fi Insurance",symbol:"oCRV",name:"Opyn y.curve.fi Insurance",decimals:8,oracle:"0x7054e08461e3eCb7718B63540adDB3c3A1746415",collateral:"0x0000000000000000000000000000000000000000",underlying:"0xdF5e0e81Dff6FAF3A7e52BA697820c5e32D806A8",strike:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",strikePrice:92e-17,minRatio:1.6,exchange:"0x5778f2824a114f6115dc74d432685d3336216017",uniswapExchange:"0x21f5E9D4Ec20571402A5396084B1634314A68c97"},{addr:"0xddac4aed7c8f73032b388efe2c778fc194bc81ed",title:"cDai Insurance (Old)",symbol:"ocDai",name:"Opyn cDai Insurance",decimals:8,oracle:"0x7054e08461e3eCb7718B63540adDB3c3A1746415",collateral:"0x0000000000000000000000000000000000000000",underlying:"0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643",strike:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",strikePrice:2e-10,minRatio:1.4,exchange:"0x5778f2824a114f6115dc74d432685d3336216017",uniswapExchange:"0x8a0976500EED661202810bAB030a057DF15c4CC9"}];var h=function(){var e=Object(l.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.g,{primary:"Welcome to Opyn Position Monitor"}),r.a.createElement("div",{style:{padding:5,opacity:.5}}," Choose a option contract to start "),r.a.createElement(m.f,{fields:["Name","Contract",""],entries:v,entriesPerPage:6,renderEntry:function(t){var n=t.addr,a=t.title;return[r.a.createElement(r.a.Fragment,null,a),r.a.createElement(m.o,{entity:n,shorten:!1}),r.a.createElement(m.d,{onClick:function(){return function(t){e.push("/token/".concat(t))}(n)}}," Let's Go ")]}}))};function w(e){return E.apply(this,arguments)}function E(){return(E=Object(d.a)(p.a.mark((function e(t){var n,a,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x(t),e.next=3,O(n);case 3:return a=e.sent,r=a.data.vaultOpenedActions,s=r.map((function(e){return e.owner})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(e){return'\n{\n  vaultOpenedActions(where: {\n    optionsContract: "'.concat(e,'"\n  }) {\n    owner\n  }\n}')};function k(e,t){return g.apply(this,arguments)}function g(){return(g=Object(d.a)(p.a.mark((function e(t,n){var a,r,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.join('","'),r=T(t,a),e.next=4,O(r);case 4:return s=e.sent,u=s.data.vaults,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(e,t){return'{\n  vaults (where: {\n    owner_in: ["'.concat(t,'"]\n    optionsContract: "').concat(e,'"\n  } ) {\n    oTokensIssued,\n    collateral,\n    owner\n  }\n}\n\n')},O=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})},e.next=3,fetch("https://api.thegraph.com/subgraphs/name/aparnakr/opyn",n);case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=n(14),S=n.n(j),C=n(164),_=n(165),M=n(402),I=n(403),F=new S.a("https://mainnet.infura.io/v3/44fd23cda65746a699a5d3c0e2fa45d5"),A=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new F.eth.Contract(C,t),e.next=3,a.methods.balanceOf(n).call();case 3:return r=e.sent,e.abrupt("return",parseInt(r));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new F.eth.Contract(C,t),e.next=3,n.methods.decimals().call();case 3:return a=e.sent,e.abrupt("return",parseInt(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,a,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new F.eth.Contract(C,t),e.next=3,n.methods.totalSupply().call();case 3:return a=e.sent,e.next=6,n.methods.decimals().call();case 6:return r=e.sent,s=parseInt(a)/Math.pow(10,parseInt(r)),e.abrupt("return",{decimals:r,totalSupply:s});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new F.eth.Contract(C,n),e.next=3,I.map(t,function(){var e=Object(d.a)(p.a.mark((function e(t){var r,s,u,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.methods.getVault(t).call();case 2:return r=e.sent,s=F.utils.fromWei(r[0]),u=r[1],i=r[2],e.abrupt("return",{collateral:s,oTokensIssued:u,underlying:i,owner:t,oToken:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new F.eth.Contract(C,n),e.next=3,I.map(t,function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0,!t.isUnsafe){e.next=5;break}return e.next=4,a.methods.maxOTokensLiquidatable(t.owner).call();case 4:n=e.sent;case 5:return t.maxLiquidatable=n,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return r=e.sent,e.abrupt("return",r.sort(N));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a){var r,s,u,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new F.eth.Contract(C,t),e.next=3,r.methods.maxOTokensLiquidatable(n).call();case 3:if(s=e.sent,console.log("maxVaultLiquidatable",s),!a){e.next=11;break}return e.next=8,r.methods.balanceOf(a).call();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=0;case 12:return u=e.t0,i=Math.min(parseInt(u,10),parseInt(s,10)).toString(),e.abrupt("return",parseInt(i));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a){var r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new F.eth.Contract(C,t),e.next=3,r.methods.allowance(n,a).call();case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.eth.getBalance(t);case 2:return n=e.sent,e.abrupt("return",F.utils.fromWei(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new F.eth.Contract(M,t),e.next=3,a.methods.getPrice(n).call();case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a){var r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new F.eth.Contract(_,t),"0x0000000000000000000000000000000000000000",e.next=4,r.methods.premiumToPay(n,"0x0000000000000000000000000000000000000000",a).call();case 4:return s=e.sent,e.abrupt("return",F.utils.fromWei(s));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a){var r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new F.eth.Contract(_,t),"0x0000000000000000000000000000000000000000",e.next=4,r.methods.premiumReceived(n,"0x0000000000000000000000000000000000000000",a).call();case 4:return s=e.sent,e.abrupt("return",F.utils.fromWei(s));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function N(e,t){var n=e.ratio,a=t.ratio,r=0;return parseFloat(n)>parseFloat(a)?r=1:parseFloat(n)<parseFloat(a)&&(r=-1),r}var W=function(e){var t=e.label,n=e.address;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{fontSize:16,padding:3}}," ",t," "),r.a.createElement("div",{style:{padding:5}},r.a.createElement(m.o,{entity:n,shorten:!0})))};var J=function(e){var t=e.asset,n=e.balance,a="0",s="0";if(n>0){var u=n.toString(),i=u.split(".");a=i[0],s=i.length>1?u.split(".")[1]:"0"}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{fontSize:14,padding:3}}," ",t," "),r.a.createElement("div",{style:{padding:3}},r.a.createElement("span",{style:{fontSize:24}},a),".",r.a.createElement("span",{style:{fontSize:18}}," ",s," ")))};var Y=function(e){var t=e.isSafe,n=e.ratio;return t?n<1.6?r.a.createElement(m.t,{background:"#FFEBAD",color:"#FEC100"}," ","Danger"," "):r.a.createElement(m.t,{mode:"new"}," safe "):r.a.createElement(m.t,{color:"#E34343",background:"#FFC6C6"},"Unsafe!")};var G=function(e){var t=e.title;return r.a.createElement("div",{style:{padding:10,fontSize:20}},t)};var $=function(e){var t=e.onClick;return r.a.createElement("div",{style:{padding:3}},r.a.createElement(m.e,{onClick:t},r.a.createElement("span",{style:{opacity:.5}}," Max ")))};var K=function(e){var t=e.label,n=e.amt;return parseFloat(n)>0?r.a.createElement("div",{style:{padding:3,opacity:.5}},r.a.createElement("span",{style:{fontSize:13}}," ",t," ")," ",r.a.createElement("span",{style:{fontSize:13}}," ",parseFloat(n).toFixed(5)," ")," "):r.a.createElement("div",{style:{padding:3,opacity:.5}})},Q=new S.a;function X(e,t){return parseFloat(e).toFixed(t)}var Z=function(e,t){return Math.round(parseFloat(e)*Math.pow(10,t))},ee=Q.utils.fromWei,te=(Q.utils.toWei,function(e){var t=e.toString().split("."),n=t[0];if(1===t.length)return n;var a=t[1];return a.length>18&&(a=a.slice(0,18)),"".concat(n,".").concat(a)}),ne=n(170),ae=Object(ne.a)({dappId:"7e7c9d55-dd5e-4ee1-bc38-edf27b59ce06",networkId:1}),re=n(9),se=n.n(re),ue=n(164),ie=n(165),oe=n(407),le="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",ce=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a){var r,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return r=e.sent,s=new S.a(window.ethereum),u=new s.eth.Contract(ue,t),e.next=7,u.methods.liquidate(n,parseInt(a)).send({from:r[0]}).on("transactionHash",(function(e){ae.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var a,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return a=e.sent,r=new S.a(window.ethereum),s=new r.eth.Contract(ue,t),e.next=7,s.methods.burnOTokens(n).send({from:a[0]}).on("transactionHash",(function(e){ae.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),me=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var a,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return a=e.sent,r=new S.a(window.ethereum),s=new r.eth.Contract(ue,t),e.next=7,s.methods.issueOTokens(n,a[0]).send({from:a[0]}).on("transactionHash",(function(e){ae.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ye=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a){var r,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return r=e.sent,s=new S.a(window.ethereum),u=new s.eth.Contract(ue,t),e.next=7,u.methods.addETHCollateral(n).send({from:r[0],value:s.utils.toWei(a.toString())}).on("transactionHash",(function(e){ae.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),fe=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var a,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return a=e.sent,r=new S.a(window.ethereum),s=new r.eth.Contract(ue,t),e.next=7,s.methods.removeCollateral(r.utils.toWei(n.toString())).send({from:a[0]}).on("transactionHash",(function(e){ae.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a){var r,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return r=e.sent,s=new S.a(window.ethereum),u=new s.eth.Contract(ue,t),e.next=7,u.methods.approve(n,a).send({from:r[0]}).on("transactionHash",(function(e){ae.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return n=e.sent,a=new S.a(window.ethereum),r=new a.eth.Contract(ue,t),e.next=7,r.methods.openVault().send({from:n[0]}).on("transactionHash",(function(e){ae.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a,r){var s,u,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return s=e.sent,u=new S.a(window.ethereum),i=new u.eth.Contract(ie,n),e.next=7,i.methods.buyOTokens(s[0],t,"0x0000000000000000000000000000000000000000",a).send({from:s[0],value:u.utils.toWei(r.toString())}).on("transactionHash",(function(e){ae.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),we=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a){var r,s,u,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return r=e.sent,s=new S.a(window.ethereum),e.next=6,H(t,r[0],n);case 6:if(u=e.sent,!new se.a(u).lt(new se.a(a))){e.next=10;break}return e.next=10,be(t,n,le);case 10:return i=new s.eth.Contract(ie,n),e.next=13,i.methods.sellOTokens(r[0],t,"0x0000000000000000000000000000000000000000",a).send({from:r[0]}).on("transactionHash",(function(e){ae.hash(e)}));case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a,r,s){var u,i,o,l,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return u=e.sent,i=new S.a(window.ethereum),e.next=6,H(t,u[0],n);case 6:if(o=e.sent,!new se.a(o).lt(new se.a(a))){e.next=10;break}return e.next=10,be(t,n,le);case 10:return l=new i.eth.Contract(oe,n),c=Math.ceil(Date.now()/1e3)+900,e.next=14,l.methods.addLiquidity(r,a,c).send({from:u[0],value:i.utils.toWei(s)-1}).on("transactionHash",(function(e){ae.hash(e)}));case 14:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s){return e.apply(this,arguments)}}(),xe=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a,r){var s,u,i,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return s=e.sent,u=new S.a(window.ethereum),i=u.utils.toWei(a),o=new u.eth.Contract(oe,t),l=Math.ceil(Date.now()/1e3)+900,e.next=9,o.methods.removeLiquidity(n,i,r,l).send({from:s[0]}).on("transactionHash",(function(e){ae.hash(e)}));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}();var ke=function(e){var t=e.oToken,n=e.owner,s=e.collateral,u=e.isSafe,o=e.oTokensIssued,l=e.ratio,c=Object(a.useState)(!1),y=Object(i.a)(c,2),f=y[0],b=y[1],v=Object(a.useState)(0),h=Object(i.a)(v,2),w=h[0],E=h[1],x=Object(a.useState)(0),k=Object(i.a)(x,2),g=k[0],T=k[1],O=Object(a.useState)(0),j=Object(i.a)(O,2),S=j[0],C=j[1];return Object(a.useEffect)((function(){var e=!1;function a(){return(a=Object(d.a)(p.a.mark((function a(){var r,s,u;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(f){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,ce();case 4:return r=a.sent,a.next=7,D(t,n,r[0]);case 7:return s=a.sent,a.next=10,B(t);case 10:u=a.sent,e||(E(u),C(s/Math.pow(10,u)));case 12:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){e=!0}}),[t,f,n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.d,{onClick:function(){return b(!0)},label:"More"}),r.a.createElement(m.r,{width:800,padding:50,visible:f,onClose:function(){return b(!1)}},r.a.createElement(m.g,{primary:"Access Position"}),r.a.createElement(m.c,{heading:"Owner"},r.a.createElement(m.o,{entity:n,shorten:!1})),r.a.createElement(m.f,{fields:["Collateral","Issued","ratio","Status"],entries:[{collateral:s,isSafe:u,oTokensIssued:o,ratio:l}],entriesPerPage:1,renderEntry:function(e){var t=e.collateral,n=e.isSafe,a=e.oTokensIssued,r=e.ratio;return[t,a,r,Y({isSafe:n,ratio:r})]}}),r.a.createElement("br",null),r.a.createElement(m.c,{heading:"Add Collateral"},r.a.createElement(m.s,{primary:r.a.createElement(m.u,{type:"number",wide:!0,adornment:r.a.createElement(m.k,null),adornmentPosition:"end",value:g,onChange:function(e){T(e.target.value)}}),secondary:r.a.createElement(m.d,{label:"Add Collateral",wide:!0,onClick:function(){ye(t,n,g)}})})),r.a.createElement("br",null),r.a.createElement(m.c,{heading:"Liquidate"},r.a.createElement(m.s,{primary:r.a.createElement(m.u,{wide:!0,type:"number",adornment:r.a.createElement(m.l,null),adornmentPosition:"end",value:S,onChange:function(e){C(e.target.value)}}),secondary:r.a.createElement(m.d,{wide:!0,disabled:u,label:"Liquidate",onClick:function(){pe(t,n,S*Math.pow(10,w))}})}))))};function ge(e){var t=e.oToken,n=e.owner,a=Object(l.f)();return r.a.createElement(m.d,{onClick:function(){return function(e,t){a.push("/manage/".concat(e,"/").concat(t))}(t,n)},label:"Manage"})}function Te(e){var t=e.oToken,n=e.user,a=Object(l.f)();return r.a.createElement(m.d,{onClick:function(){return ve(t),void a.push("/manage/".concat(t,"/").concat(n))},label:"Open Vault"})}var Oe=function(e){var t=e.vaults,n=e.oToken,a=e.user,s=t.find((function(e){return e.owner===a}));return""===a?r.a.createElement(r.a.Fragment,null):void 0===s?r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{title:"No Vault Yet"}),r.a.createElement(m.f,{fields:["Owner","collateral","Issued","RATIO","Status",""],entries:[{}],entriesPerPage:1,renderEntry:function(){return[r.a.createElement(m.o,{entity:a,shorten:!0,connectedAccount:!0}),"-","-","-","-",Te({oToken:n,user:a})]}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{title:"My Vault"}),r.a.createElement(m.f,{fields:["Owner","collateral","Issued","RATIO","Status",""],entries:[s],entriesPerPage:1,renderEntry:function(e){var t=e.owner,a=e.collateral,s=e.oTokensIssued,u=e.ratio,i=e.isSafe;return[r.a.createElement(m.o,{entity:t,shorten:!0,connectedAccount:!0}),X(ee(a),6),s,u,r.a.createElement(Y,{isSafe:i,ratio:u}),r.a.createElement(ge,{oToken:n,owner:t})]}}))},je=function(e){var t=e.owner,n=e.collateral,a=e.oTokensIssued,s=e.ratio,u=e.isSafe,i=e.oToken;return[r.a.createElement(m.o,{entity:t,shorten:!0}),X(ee(n),6),X(a,6),s,Y({isSafe:u,ratio:s}),r.a.createElement(ke,{oToken:i,owner:t,collateral:ee(n),isSafe:u,oTokensIssued:a,ratio:s})]};var Se=function(e){var t=e.oToken,n=e.user,s=v.find((function(e){return e.addr===t})),u=Object(a.useState)(!0),o=Object(i.a)(u,2),l=o[0],c=o[1],y=Object(a.useState)([]),f=Object(i.a)(y,2),b=f[0],h=f[1];return Object(a.useEffect)((function(){var e=!1,n=function(){var n=Object(d.a)(p.a.mark((function n(){var a,r,u,i,o,l,d,m,y,f;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w(t);case 2:return a=n.sent,n.next=5,k(t,a);case 5:return r=n.sent,u=s.strike,i=s.decimals,o=s.minRatio,l=s.strikePrice,d=s.oracle,n.next=9,V(d,u);case 9:return n.t0=n.sent,m=1/n.t0,y=r.map((function(e){if("0"===e.oTokensIssued)return e.ratio=1/0,e.isSafe=!0,e;var n=parseFloat(l)*e.oTokensIssued,a=X(parseFloat(e.collateral)*m/n,4),r=X(parseInt(e.oTokensIssued)/Math.pow(10,i),6);return e.oTokensIssued=r,e.ratio=a,e.isSafe=a>o,e.oToken=t,e})),n.next=14,q(y);case 14:f=n.sent,e||(h(f),c(!1));case 16:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n();var a=setInterval(n,12e3);return function(){e=!0,clearInterval(a)}}),[t,s,n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,{vaults:b,oToken:t,user:n}),r.a.createElement(G,{title:"All Vaults"}),r.a.createElement(m.f,{status:l?"loading":"default",fields:["Owner","collateral","Issued","RATIO","Status",""],entries:b,entriesPerPage:5,renderEntry:je}))};var Ce=function(e){var t=e.oToken,n=e.tokenName,s=Object(l.f)(),u=v.find((function(e){return e.addr===t})),o=Object(a.useState)("0"),c=Object(i.a)(o,2),y=c[0],f=c[1],b=Object(a.useState)("0"),h=Object(i.a)(b,2),w=h[0],E=h[1];return Object(a.useEffect)((function(){var e=!1;function n(){return(n=Object(d.a)(p.a.mark((function n(){var a,r,s,u,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([z(t),P(t)]);case 2:a=n.sent,r=Object(i.a)(a,2),s=r[0],u=r[1],o=u.totalSupply,e||(f(s),E(o));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){e=!0}}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.g,{primary:u.name,secondary:r.a.createElement(m.d,{label:"Exchange",onClick:function(){s.push("/exchange/".concat(t))}})}),r.a.createElement(m.s,{primary:r.a.createElement(m.s,{primary:r.a.createElement(m.c,{heading:"contract",padding:15},r.a.createElement(m.o,{entity:t,shorten:!1})),secondary:r.a.createElement(m.c,{heading:"balance",padding:15},y)}),secondary:r.a.createElement(m.c,{heading:"total supply",padding:15},w," ",n)}))};var _e=function(e){var t=e.user,n=Object(l.g)().addr;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,{oToken:n,user:t}),r.a.createElement(Se,{oToken:n,user:t}))};var Me=function(e){var t=e.vault,n=e.ethBalance,s=e.token,u=e.owner,o=e.lastETHValueInStrike,l=e.strikePrice,c=e.minRatio,p=e.setNewRatio,d=Object(a.useState)(0),y=Object(i.a)(d,2),f=y[0],b=y[1],v=Object(a.useState)(0),h=Object(i.a)(v,2),w=h[0],E=h[1],x=function(e){if(!(e<=0)){var n=X(e*o/(l*t.oTokensIssued),5);p(n)}};return r.a.createElement(m.c,{heading:"Collateral"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},J({asset:"ETH",balance:t.collateral})),r.a.createElement("div",{style:{width:"32%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{type:"number",wide:!0,value:f,onChange:function(e){var n=e.target.value;b(n),x(parseFloat(t.collateral)+parseFloat(n))}}),r.a.createElement($,{onClick:function(){b(n),x(parseFloat(t.collateral)+parseFloat(n))}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(m.d,{wide:!0,icon:r.a.createElement(m.i,null),label:"Add",onClick:function(){ye(s,u,f)}})))),r.a.createElement("div",{style:{width:"6%"}}),r.a.createElement("div",{style:{width:"32%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{type:"number",wide:!0,value:w,onChange:function(e){var n=e.target.value;E(n),x(parseFloat(t.collateral)-parseFloat(n))}}),r.a.createElement($,{onClick:function(){if(!(o<=0)){var e=l*t.oTokensIssued*c/o,n=t.collateral-e;E(n),p(c)}}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(m.d,{wide:!0,icon:r.a.createElement(m.h,null),label:"Remove",onClick:function(){fe(s,w)}}))))))};var Ie=function(e){var t=e.vault,n=e.tokenBalance,s=e.token,u=e.lastETHValueInStrike,o=e.strikePrice,l=e.minRatio,c=e.decimals,p=e.symbol,d=e.setNewRatio,y=Object(a.useState)(0),f=Object(i.a)(y,2),b=f[0],v=f[1],h=Object(a.useState)(0),w=Object(i.a)(h,2),E=w[0],x=w[1],k=function(e){var n=X(t.collateral*u/(o*e),5);d(n)};return r.a.createElement(m.c,{heading:"Total Issued"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(J,{asset:p,balance:t.oTokensIssued?t.oTokensIssued/Math.pow(10,c):0})),r.a.createElement("div",{style:{width:"32%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{type:"number",wide:!0,value:b,onChange:function(e){var n=e.target.value;v(n),k(parseInt(t.oTokensIssued)+Z(n,c))}}),r.a.createElement($,{onClick:function(){if(!(o<=0)){var e=(t.collateral*u/(l*o)-t.oTokensIssued)/Math.pow(10,c);v(e),d(l)}}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(m.d,{wide:!0,icon:r.a.createElement(m.i,null),label:"Issue",onClick:function(){me(s,Z(b,c))}})))),r.a.createElement("div",{style:{width:"6%"}}),r.a.createElement("div",{style:{width:"32%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{type:"number",wide:!0,value:E,onChange:function(e){var n=e.target.value;k(parseInt(t.oTokensIssued)-Z(n,c)),x(n)}}),r.a.createElement($,{onClick:function(){var e=Number(t.oTokensIssued)/Math.pow(10,c);x(Math.min(n,e))}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(m.d,{wide:!0,icon:r.a.createElement(m.h,null),label:"Burn",onClick:function(){de(s,Z(E,c))}}))))))},Fe=function(e){var t=e.ratio,n=e.minRatio,a=e.symbol,s=e.ethBalance,u=e.tokenBalance,i=e.newRatio;return r.a.createElement("div",{style:{padding:"2%",display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(J,{asset:"Owner ETH Balance",balance:s})),r.a.createElement("div",{style:{width:"50%"}},r.a.createElement(J,{asset:"".concat(a," Balance"),balance:u})),r.a.createElement("div",{style:{width:"20%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{fontSize:14,padding:3}},"Current Ratio"," ",t>0?r.a.createElement(Y,{isSafe:t>=n,ratio:t}):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{style:{fontSize:24,padding:3}},r.a.createElement("span",{style:{fontSize:24}},t.toString().split(".")[0]),".",r.a.createElement("span",{style:{fontSize:18}},t.toString().split(".")[1]," "),n>0?r.a.createElement("span",{style:{fontSize:16}}," / ",n," "):""),r.a.createElement(r.a.Fragment,null," ",i===t?"":r.a.createElement(K,{label:"New Ratio",amt:i})," "))))};var Ae=function(e){var t=e.token,n=e.owner,s=e.user,u=v.find((function(e){return e.addr===t})),o=u.decimals,l=u.symbol,c=u.oracle,y=u.strike,f=u.strikePrice,b=u.minRatio,h=Object(a.useState)({}),w=Object(i.a)(h,2),E=w[0],x=w[1],k=Object(a.useState)(0),g=Object(i.a)(k,2),T=g[0],O=g[1],j=Object(a.useState)(0),S=Object(i.a)(j,2),C=S[0],_=S[1],M=Object(a.useState)(0),I=Object(i.a)(M,2),F=I[0],B=I[1],P=Object(a.useState)(0),q=Object(i.a)(P,2),D=q[0],H=q[1],L=Object(a.useState)(!0),U=Object(i.a)(L,2),N=U[0],W=U[1],J=Object(a.useState)(C),Y=Object(i.a)(J,2),G=Y[0],$=Y[1];Object(a.useEffect)((function(){var e=!1;function a(){return r.apply(this,arguments)}function r(){return(r=Object(d.a)(p.a.mark((function a(){var r,s,u,l,d,m,b,v,h,w;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R([n],t);case 2:if(void 0!==(r=a.sent[0])){a.next=5;break}return a.abrupt("return");case 5:return W(!1),a.next=8,Promise.all([A(t,n),z(n)]);case 8:return s=a.sent,u=Object(i.a)(s,2),l=u[0],d=u[1],m=l/Math.pow(10,o),a.t0=ee,a.next=16,V(c,y);case 16:a.t1=a.sent,b=(0,a.t0)(a.t1),v=1/b,h=parseFloat(f)*r.oTokensIssued,w=X(parseFloat(r.collateral)*v/h,5),e||(O(v),x(r),B(m),H(d),_(w));case 22:case"end":return a.stop()}}),a)})))).apply(this,arguments)}a();var s=setInterval(a,1e4);return function(){e=!0,clearInterval(s)}}),[o,c,n,y,f,t]);var K=s===n;return N?r.a.createElement("div",{style:{padding:100,textAlign:"center"}}," No Vault Found for this user "):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.g,{primary:K?"Manage Your Vault":"Vault Detail"}),r.a.createElement(Fe,{owner:n,user:s,ratio:C,minRatio:b,symbol:l,ethBalance:D,tokenBalance:F,newRatio:G}),r.a.createElement(Me,{vault:E,ethBalance:D,token:t,owner:n,lastETHValueInStrike:T,strikePrice:f,minRatio:b,setNewRatio:$}),r.a.createElement(Ie,{vault:E,tokenBalance:F,token:t,lastETHValueInStrike:T,strikePrice:f,minRatio:b,decimals:o,symbol:l,setNewRatio:$}))};var Be=function(e){var t=e.user,n=Object(l.g)(),a=n.token,s=n.owner,u=Object(l.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{owner:s,user:t,token:a}),r.a.createElement("div",{style:{padding:60,textAlign:"center"}},r.a.createElement("h4",{style:{padding:"1%"}}," Buy, Sell or Invest your oToken?"),r.a.createElement(m.d,{label:"Exchange",onClick:function(){u.push("/exchange/".concat(a))}})))},Pe=function(e){var t=e.symbol,n=e.poolETHBalance,a=e.poolTokenBalance,s=e.uniswapExchange;return r.a.createElement("div",{style:{padding:"2%",display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(J,{asset:"Total ETH Liquidity",balance:n})),r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(J,{asset:"".concat(t," Liquidity"),balance:a})),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{label:"Uniswap Contract",address:s}))))};function Re(e){var t=e.label,n=e.amt,a=e.symbol,s=void 0===a?"":a;return parseFloat(n)>0?r.a.createElement("div",{style:{padding:3,opacity:.5}},r.a.createElement("span",{style:{fontSize:13}}," ",t," ")," ",r.a.createElement("span",{style:{fontSize:13}}," ",parseFloat(n).toFixed(5)," ")," ",r.a.createElement("span",{style:{fontSize:13}}," ",s," ")):r.a.createElement("div",{style:{padding:3,opacity:.5}})}var qe=function(e){var t=e.symbol,n=e.tokenBalance,s=e.token,u=e.exchange,o=e.decimals,l=Object(a.useState)(0),c=Object(i.a)(l,2),y=c[0],f=c[1],b=Object(a.useState)(0),v=Object(i.a)(b,2),h=v[0],w=v[1],E=Object(a.useState)(0),x=Object(i.a)(E,2),k=x[0],g=x[1],T=Object(a.useState)(0),O=Object(i.a)(T,2),j=O[0],S=O[1],C=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t){e.next=3;break}return g(0),e.abrupt("return");case 3:return n=Z(t,o),e.next=6,L(u,s,n);case 6:a=e.sent,g(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t){e.next=3;break}return S(0),e.abrupt("return");case 3:return n=Z(t,o),e.next=6,U(u,s,n);case 6:a=e.sent,S(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(m.c,{heading:"Exchange"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(J,{asset:"".concat(t," Balance"),balance:n})),r.a.createElement("div",{style:{width:"32%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{type:"number",wide:!0,value:y,onChange:function(e){f(e.target.value),C(e.target.value)}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(m.d,{wide:!0,icon:r.a.createElement(m.i,null),label:"Buy",onClick:function(){he(s,u,Z(y,o),k)}}))),r.a.createElement(Re,{label:"Cost:",amt:k,symbol:""})),r.a.createElement("div",{style:{width:"6%"}}),r.a.createElement("div",{style:{width:"32%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{type:"number",wide:!0,value:h,onChange:function(e){w(e.target.value),_(e.target.value)}}),r.a.createElement($,{onClick:function(){w(n),_(n)}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(m.d,{wide:!0,icon:r.a.createElement(m.h,null),label:"Sell",onClick:function(){we(s,u,Z(h,o))}}))),r.a.createElement(Re,{label:"Premium",amt:j}))))};function De(e){var t=e.label,n=e.amt,a=e.symbol,s=void 0===a?"":a;return parseFloat(n)>0?r.a.createElement("div",{style:{padding:3,opacity:.5}},r.a.createElement("span",{style:{fontSize:13}}," ",t," ")," ",r.a.createElement("span",{style:{fontSize:13}}," ",parseFloat(n).toFixed(5)," ")," ",r.a.createElement("span",{style:{fontSize:13}}," ",s," ")):r.a.createElement("div",{style:{padding:3,opacity:.5}})}var He=function(e){var t=e.otoken,n=e.otokenSymbol,s=e.otokenDecimals,u=e.userTokenBalance,o=e.userETHBalance,l=e.uniswapExchange,c=(e.user,e.poolTokenBalance),p=e.poolETHBalance,d=e.liquidityTokenDecimals,y=e.liquidityTokenSupply,f=Object(a.useState)(0),b=Object(i.a)(f,2),v=b[0],h=b[1],w=Object(a.useState)(0),E=Object(i.a)(w,2),x=E[0],k=E[1],g=y*v/p,T=98*g/100,O=p/c,j=c/p,S=function(e){h(e*O),k(e)};return r.a.createElement(m.c,{heading:"Add Liquidity"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(J,{asset:"ETH Balance",balance:o})),r.a.createElement("div",{style:{width:"70%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"35%",marginRight:"5%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{adornmentPosition:"end",adornment:n,type:"number",wide:!0,value:x,onChange:function(e){S(e.target.value)}}),r.a.createElement($,{onClick:function(){S(u)}}))),r.a.createElement("div",{style:{width:"35%",marginRight:"5%"}},r.a.createElement(m.u,{adornmentPosition:"end",adornment:r.a.createElement(m.k,null),type:"number",wide:!0,value:v,onChange:function(e){!function(e){var t=e*j;h(e),k(t)}(e.target.value)}}),r.a.createElement(De,{label:"Mint",amt:g,symbol:"Pool Tokens"})),r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(m.d,{wide:!0,icon:r.a.createElement(m.i,null),label:"Add Liquidity",onClick:function(){var e=Z(x,s).toString(),n=Z(T,d).toString(10);Ee(t,l,e,n,te(v))}}))))))};function ze(e){var t=e.label,n=e.amt,a=e.symbol,s=void 0===a?"":a;return parseFloat(n)>0?r.a.createElement("div",{style:{padding:3,opacity:.5}},r.a.createElement("span",{style:{fontSize:13}}," ",t," ")," ",r.a.createElement("span",{style:{fontSize:13}}," ",parseFloat(n).toFixed(5)," ")," ",r.a.createElement("span",{style:{fontSize:13}}," ",s," ")):r.a.createElement("div",{style:{padding:3,opacity:.5}})}var Ve=function(e){e.otoken;var t=e.otokenSymbol,n=e.otokenDecimals,s=(e.userTokenBalance,e.userliquidityTokenBalance),u=e.uniswapExchange,o=e.poolTokenBalance,l=e.poolETHBalance,c=e.liquidityTokenDecimals,p=e.liquidityTokenSupply,d=Object(a.useState)(0),y=Object(i.a)(d,2),f=y[0],b=y[1],v=f/p,h=l*v,w=o*v,E=97*h/100,x=97*w/100;return r.a.createElement(m.c,{heading:"Remove Liquidity"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(J,{asset:"Pool Token Balance",balance:s})),r.a.createElement("div",{style:{width:"70%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"35%",marginRight:"5%"}},r.a.createElement(m.u,{adornmentPosition:"end",adornment:r.a.createElement(m.l,null),type:"number",wide:!0,value:f,onChange:function(e){var t;t=e.target.value,b(t)}}),r.a.createElement($,{onClick:function(){return b(s)}})),r.a.createElement("div",{style:{width:"35%",marginRight:"5%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{label:"You get",amt:h,symbol:"ETH"}),r.a.createElement(ze,{label:"+",amt:w,symbol:t}))),r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(m.d,{wide:!0,icon:r.a.createElement(m.h,null),label:"Remove Liquidity",onClick:function(){var e=Z(f,c).toString(),t=te(E),a=Z(x,n);xe(u,e,t,a)}}))))))};var Le=function(e){var t=e.user,n=Object(l.g)().token,s=v.find((function(e){return e.addr===n})),u=s.uniswapExchange,o=s.decimals,c=s.symbol,y=s.exchange,f=Object(a.useState)(0),b=Object(i.a)(f,2),h=b[0],w=b[1],E=Object(a.useState)(0),x=Object(i.a)(E,2),k=x[0],g=x[1],T=Object(a.useState)(0),O=Object(i.a)(T,2),j=O[0],S=O[1],C=Object(a.useState)(0),_=Object(i.a)(C,2),M=_[0],I=_[1],F=Object(a.useState)(0),B=Object(i.a)(F,2),R=B[0],q=B[1],D=Object(a.useState)(0),H=Object(i.a)(D,2),V=H[0],L=H[1],U=Object(a.useState)(0),N=Object(i.a)(U,2),W=N[0],J=N[1];return Object(a.useEffect)((function(){var e=!1;function t(){return a.apply(this,arguments)}function a(){return(a=Object(d.a)(p.a.mark((function t(){var a,r,s,l,c,d,m;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([A(n,u),z(u),P(u)]);case 2:a=t.sent,r=Object(i.a)(a,3),s=r[0],l=r[1],c=r[2],d=c.decimals,m=c.totalSupply,s/=Math.pow(10,o),e||(L(d),J(m),S(l),w(s));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t();var r=setInterval(t,1e4);return function(){e=!0,clearInterval(r)}}),[o,n,u]),Object(a.useEffect)((function(){if(""!==t){var e=!1;r();var a=setInterval(r,1e4);return function(){e=!0,clearInterval(a)}}function r(){return s.apply(this,arguments)}function s(){return(s=Object(d.a)(p.a.mark((function a(){var r,s,l,c,d,m,y;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.all([A(n,t),z(t),A(u,t)]);case 2:r=a.sent,s=Object(i.a)(r,3),l=s[0],c=s[1],d=s[2],m=l/Math.pow(10,o),y=d/Math.pow(10,V),e||(q(y),I(c),g(m));case 10:case"end":return a.stop()}}),a)})))).apply(this,arguments)}}),[o,V,n,u,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.g,{primary:"Exchange"}),r.a.createElement(Pe,{user:t,symbol:c,poolETHBalance:j,poolTokenBalance:h,uniswapExchange:u}),r.a.createElement(qe,{symbol:c,tokenBalance:k,token:n,exchange:y,decimals:o}),r.a.createElement(m.g,{primary:"Pool"}),r.a.createElement(He,{user:t,otoken:n,otokenDecimals:o,otokenSymbol:c,userTokenBalance:k,userliquidityTokenBalance:R,userETHBalance:M,uniswapExchange:u,poolETHBalance:j,poolTokenBalance:h,liquidityTokenDecimals:V,liquidityTokenSupply:W}),r.a.createElement(Ve,{user:t,otoken:n,otokenDecimals:o,otokenSymbol:c,userTokenBalance:k,userliquidityTokenBalance:R,userETHBalance:M,uniswapExchange:u,poolETHBalance:j,poolTokenBalance:h,liquidityTokenDecimals:V,liquidityTokenSupply:W}))};var Ue=function(e){var t={backgroundColor:"light"===e.theme?"#F8F8F8":"#35425e",textAlign:"center",padding:"17px",position:"fixed",left:"0",bottom:"0",height:"50px",width:"100%",fontSize:"12px"};return r.a.createElement("div",{style:t},"Powered By "," ",r.a.createElement(m.p,{external:!0,href:"https://opyn.co/#/"},"Opyn"),", ",r.a.createElement(m.p,{external:!0,href:"https://ui.aragon.org/"},"Aragon UI"),", ",r.a.createElement(m.p,{external:!0,href:"https://www.blocknative.com/"},"Blocknative"),". ","Hosted on ",r.a.createElement(m.p,{external:!0,href:"https://github.com/antoncoding/opyn-liquidator"},"GitHub"),".")};var Ne=function(){var e=window.localStorage.getItem("theme")||"light",t=Object(a.useState)(""),n=Object(i.a)(t,2),s=n[0],u=n[1],c=Object(a.useState)(e),p=Object(i.a)(c,2),d=p[0],y=p[1];return r.a.createElement(o.a,null,r.a.createElement(m.q,{assetsUrl:"".concat("/opyn-liquidator","/aragon-ui/"),theme:d},r.a.createElement(b,{user:s,setUser:u,theme:d,updateTheme:function(e){y(e),window.localStorage.setItem("theme",e)}}),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/token/:addr",children:r.a.createElement(_e,{user:s})}),r.a.createElement(l.a,{path:"/manage/:token/:owner",children:r.a.createElement(Be,{user:s})}),r.a.createElement(l.a,{path:"/exchange/:token/",children:r.a.createElement(Le,{user:s})}),r.a.createElement(l.a,{path:"/",children:r.a.createElement(h,null)})),r.a.createElement(Ue,{theme:d})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[174,1,2]]]);
//# sourceMappingURL=main.2784c74d.chunk.js.map