{"version":3,"sources":["components/NavBar/ConnectButton.js","components/NavBar/SettingsButton.js","components/NavBar/index.js","constants/options.js","components/Onboarding/index.js","utils/graph.js","utils/infura.js","components/common/AddressBlock.js","components/common/BalanceBlock.js","components/common/RatioTag.js","components/common/SectionTitle.js","components/common/MaxButton.js","components/common/HelpText.js","utils/number.js","utils/blockNative.js","utils/web3.js","components/TokenView/VaultModal.js","components/TokenView/MyVaultBox.js","components/TokenView/VaultsList.js","components/TokenView/OptionInfoBox.js","components/TokenView/index.js","components/ManageVault/CollateralManagement.js","components/ManageVault/IssuedTokenManagement.js","components/ManageVault/HeaderDashboard.js","components/ManageVault/Manage.js","components/ManageVault/index.js","components/ManagePool/Dashboard.js","components/ManagePool/OptionExchange.js","components/ManagePool/AddLiquidity.js","components/ManagePool/RemoveLiquidity.js","components/ManagePool/index.js","components/Footer/index.js","App.js","serviceWorker.js","index.js"],"names":["ConnectButton","user","setUser","useState","isConnected","setIsConnected","connectWeb3","a","window","ethereum","enable","accounts","padding","entity","connectedAccount","icon","label","onClick","ChangeMode","theme","updateTheme","NavBar","history","useHistory","isHome","updateIsHome","useEffect","home","location","pathname","primary","addr","goBack","secondary","options","title","symbol","name","decimals","oracle","collateral","underlying","strike","strikePrice","minRatio","exchange","uniswapExchange","DashBoard","style","opacity","fields","entries","entriesPerPage","renderEntry","shorten","push","goToToken","getAllVaultOwners","optionAddress","query","allVaultQuery","postQuery","response","actions","data","vaultOpenedActions","owners","map","action","owner","option_contract","getVaultsDetails","concatedOwners","join","vaultDetailsQuery","vaults","method","headers","body","JSON","stringify","fetch","res","json","optionContractABI","require","optionExchangeABI","oracleABI","Promise","web3","Web3","getTokenBalance","oToken","oTokenContract","eth","Contract","methods","balanceOf","call","balance","parseInt","getDecimals","getERC20Info","address","token","totalSupply","totalSupplyDecimals","getVaults","getVault","utils","fromWei","oTokensIssued","getVaultsWithLiquidatable","vault","maxLiquidatable","isUnsafe","maxOTokensLiquidatable","NewVaults","sort","compare","getMaxLiquidatable","liquidator","maxVaultLiquidatable","console","log","userbalance","Math","min","toString","getAllowance","contract","spender","allowance","getBalance","getPrice","oracleAddr","price","getPremiumToPay","exchangeAddr","tokenToBuy","buyAmt","premiumToPay","getPremiumReceived","tokenToSell","sellAmt","premiumReceived","ownerA","ownerB","rateA","ratio","rateB","comparison","parseFloat","AddressBlock","fontSize","BalanceBlock","asset","integer","digits","str","split","length","RatioTag","isSafe","background","color","mode","SectionTitle","MaxButton","HelperText","amt","toFixed","formatDigits","num","percision","handleDecimals","rawAmt","decimal","round","formatETHAmtToStr","toWei","amtInEth","strETHSegments","int","slice","notify","Notify","dappId","networkId","oTokenABI","exchangeABI","uniswapExchangeABI","UINT256_MAX","getAccounts","liquidate","oTokenAddr","liquidateAmt","send","from","on","hash","burnOToken","burnAmt","burnOTokens","issueOToken","issueAmt","issueOTokens","addETHCollateral","ethAmount","value","removeETHCollateral","removeCollateral","approve","openVault","buyOTokensFromExchange","ethAmt","buyOTokens","sellOTokensFromExchange","BN","lt","sellOTokens","addLiquidity","uniswapAddr","maxToken","minLiquidity","ethValue","deadline","ceil","Date","now","removeLiquidity","pool_token_amount","min_eth","min_tokens","min_eth_wei","VaultModal","opened","setOpened","setTokenDecimals","addValue","setAddValue","setLiquidateAmt","isCancelled","_decimals","getData","width","visible","onClose","heading","type","wide","adornment","adornmentPosition","onChange","event","target","disabled","MangeButton","goToManagePage","OpenVaultButton","MyVault","myVault","find","undefined","renderListEntry","VaultOwnerList","option","isLoading","setIsLoading","setVaults","updateInfo","ethValueInStrike","vaultDetail","Infinity","valueProtectingInEth","vaultWithLiquidatable","id","setInterval","clearInterval","status","OptionOverview","tokenName","setBalance","setTotalSupply","all","tokenInfo","init","TokenView","useParams","OptionInfoBox","VaultsList","CollateralManagement","ethBalance","lastETHValueInStrike","setNewRatio","addCollateralAmt","setAddCollateralAmt","removeCollateralAmt","setRemoveCollateralAmt","updateNewRatio","newCollateral","newRatio","display","paddingTop","minCollateral","maxToRemove","IssuedTokenManagement","tokenBalance","setIssueAmt","setBurnAmt","newAmt","maxToIssue","issued","Number","HeaderDashboard","alignItems","ManageVault","setVault","setLastETHValue","setRatio","setTokenBalance","setETHBalance","noVault","setNoVault","ownerBalance","lastStrikeValue","isOwner","textAlign","Manage","poolETHBalance","poolTokenBalance","PriceSection","OptionExchange","setBuyAmt","setSellAmt","setPremiumToPay","setPremiumReceived","updatePremiumToPay","amount","premium","updatePremiumReceived","AddLiquidity","otoken","otokenSymbol","otokenDecimals","userTokenBalance","userETHBalance","liquidityTokenDecimals","liquidityTokenSupply","amtETHToAdd","setAmtETHToAdd","amtTokenToAdd","setAmtTokenToAdd","liquidityMinted","liquidityMintedMin","ethToTokenRatio","tokenToEthRatio","onChangeTokenAmtToSend","tokenAmt","marginRight","newTokenAmt","onChangeETHAmtToSend","RemoveLiquidity","userliquidityTokenBalance","amtLiquidityTokenToSell","setAmtLiquidityTokenToSell","poolPortion","estETHRecieved","estOTokenReceived","minETHReceived","minTokenReceived","min_token","ManagePool","setPoolTokenBalance","setUserTokenBalance","setPoolETHBalance","setUserETHBalance","setUserLiquidityTokenBalance","setLiquidityTokenDecimals","setLiquidityTokenSupply","updatePoolInfo","exchangeTokenBalance","exchagneETHBalance","liquidityTokenInfo","liqTokenDecimal","liqTokenTotalSupply","updateUserInfo","liqTokenBalance","userLiqTokenBalance","Footer","backgroundColor","position","left","bottom","height","external","href","App","storedTheme","localStorage","getItem","setTheme","assetsUrl","process","setItem","path","children","Onboarding","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.2784c74d.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { Button, IdentityBadge, IconConnect, Box } from '@aragon/ui';\n\nfunction ConnectButton({user, setUser}){\n  const [isConnected, setIsConnected] = useState(false)\n\n  const connectWeb3 = async () => {\n    const accounts = await window.ethereum.enable();\n    setIsConnected(true)\n    setUser(accounts[0])\n    return true;\n  };\n  \n    return isConnected ? (\n      <Box padding={6}>\n        <IdentityBadge entity={user} connectedAccount />\n      </Box>\n    ) : (\n      <Button \n        icon={<IconConnect/>} \n        label={'Connect'} \n        onClick={connectWeb3}\n      /> \n    );\n  \n}\n\nexport default ConnectButton;\n","import React from 'react';\nimport { Button, IconStarFilled, IconStar } from '@aragon/ui';\n\nfunction ChangeMode({theme, updateTheme}) {\n\n  const handleChangeTheme = () => {\n    if (theme === 'light') updateTheme('dark')\n    else updateTheme('light')\n  }\n\n    return (\n      <Button \n      icon={ theme === 'dark' ? <IconStar/> : <IconStarFilled/>} \n      onClick={handleChangeTheme}\n      label={ 'Theme' }\n      />\n    );\n  \n}\n\nexport default ChangeMode;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport ConnectButton from './ConnectButton';\nimport ChangeModeButton from './SettingsButton';\nimport { Bar, BackButton } from '@aragon/ui';\n\nfunction NavBar({ theme, updateTheme, user, setUser }) {\n  const history = useHistory();\n  const [isHome, updateIsHome] = useState(true);\n\n  useEffect(() => {\n    const home = history.location.pathname === '/';\n    updateIsHome(home);\n  }, [history.location.pathname]);\n\n  const handleBack = (addr) => {\n    history.goBack()\n  };\n\n  return (\n    <Bar\n      primary={isHome ? <></> : <BackButton onClick={handleBack} />}\n      secondary={\n        <>\n          <ConnectButton user={user} setUser={setUser} />\n          <ChangeModeButton theme={theme} updateTheme={updateTheme} />\n        </>\n      }\n    ></Bar>\n  );\n}\n\nexport default NavBar;\n","export const options = [\n  {\n    addr: '0x98cc3bd6af1880fcfda17ac477b2f612980e5e33',\n    title: 'cDai Insurance',\n\n    // constants in contract\n    symbol: 'ocDai',\n    name: 'Opyn cDai Insurance',\n    decimals: 8,\n    oracle: '0x7054e08461e3eCb7718B63540adDB3c3A1746415',\n    collateral: '0x0000000000000000000000000000000000000000',\n    underlying: '0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643',\n    strike: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n    strikePrice: 1.859e-10,\n    minRatio: 1.4,\n    exchange: '0x5778f2824a114f6115dc74d432685d3336216017',\n    uniswapExchange: '0xA6923533A6362008e9b536271C2Bdc0FF1467D3c'\n  },\n  {\n    addr: '0x8ed9f862363ffdfd3a07546e618214b6d59f03d4',\n    title: 'cUSDC Insurance',\n\n    // constants in contract\n    symbol: 'ocUSDC',\n    name: 'Opyn cUSDC Insurance',\n    decimals: 8,\n    oracle: '0x7054e08461e3eCb7718B63540adDB3c3A1746415',\n    collateral: '0x0000000000000000000000000000000000000000',\n    underlying: \"0x39AA39c021dfbaE8faC545936693aC917d5E7563\",\n    strike: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n    strikePrice: 2.08e-10,\n    minRatio: 1.4,\n    exchange: '0x5778f2824a114f6115dc74d432685d3336216017',\n    uniswapExchange: '0xE3A0a2431a093fed99037987eD0A88550e5E79AA'\n  },\n  {\n    addr: '0x4ba8c6ce0e855c051e65dfc37883360efaf7c82b',\n    title: 'y.curve.fi Insurance',\n     // constants in contract\n     symbol: 'oCRV',\n     name: 'Opyn y.curve.fi Insurance',\n     decimals: 8,\n     oracle: '0x7054e08461e3eCb7718B63540adDB3c3A1746415',\n     collateral: '0x0000000000000000000000000000000000000000',\n     underlying: \"0xdF5e0e81Dff6FAF3A7e52BA697820c5e32D806A8\",\n     strike: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n     strikePrice: 9.2e-16,\n     minRatio: 1.6,\n     exchange: '0x5778f2824a114f6115dc74d432685d3336216017',\n     uniswapExchange: '0x21f5E9D4Ec20571402A5396084B1634314A68c97'\n  },\n  {\n    addr: '0xddac4aed7c8f73032b388efe2c778fc194bc81ed',\n    title: 'cDai Insurance (Old)',\n    // constants in contract\n    symbol: 'ocDai',\n    name: 'Opyn cDai Insurance',\n    decimals: 8,\n    oracle: '0x7054e08461e3eCb7718B63540adDB3c3A1746415',\n    collateral: '0x0000000000000000000000000000000000000000',\n    underlying: '0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643',\n    strike: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n    strikePrice: 2e-10,\n    minRatio: 1.4,\n    exchange: '0x5778f2824a114f6115dc74d432685d3336216017',\n    uniswapExchange: '0x8a0976500EED661202810bAB030a057DF15c4CC9'\n  },\n]","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { options } from '../../constants/options';\n\nimport { Header, DataView, IdentityBadge, Button } from '@aragon/ui';\n\nfunction DashBoard() {\n  const history = useHistory();\n  const goToToken = (addr) => {\n    history.push(`/token/${addr}`);\n  };\n  return (\n    <>\n      <Header primary='Welcome to Opyn Position Monitor' />\n      <div style={{padding: 5, opacity:0.5}}> Choose a option contract to start </div>\n      <DataView\n        fields={['Name', 'Contract', '']}\n        entries={options}\n        entriesPerPage={6}\n        renderEntry={({ addr, title }) => {\n          return [\n            <>{title}</>,\n            <IdentityBadge entity={addr} shorten={false} />,\n            <Button onClick={() => goToToken(addr)}> Let's Go </Button>,\n          ];\n        }}\n      />\n    </>\n  );\n}\n\nexport default DashBoard;\n","// const prefix = 'https://cors-anywhere-anton.herokuapp.com/';\nconst opynGraphEndpoint = 'https://api.thegraph.com/subgraphs/name/aparnakr/opyn'\n\n/**\n * @return {Promise<Array<string>>}\n */\nexport async function getAllVaultOwners(optionAddress){\n  const query = allVaultQuery(optionAddress)\n  const response = await postQuery(query)\n  const actions = response.data.vaultOpenedActions\n  const owners = actions.map(action => action.owner)\n  return owners\n}\n\nconst allVaultQuery = (option_contract) => `\n{\n  vaultOpenedActions(where: {\n    optionsContract: \"${option_contract}\"\n  }) {\n    owner\n  }\n}`\n\n/**\n * \n * @param {string} optionAddress \n * @param {Array<string>} owners \n * @return {Promise<Array<{oTokenIssued: string, collateral: string, owner: string}>>}\n */\nexport async function getVaultsDetails(optionAddress, owners) {\n  const concatedOwners =  owners.join(`\",\"`);\n  const query = vaultDetailsQuery(optionAddress, concatedOwners)\n  const response = await postQuery(query)\n  const vaults = response.data.vaults\n  return vaults\n}\n\nconst vaultDetailsQuery = (optionAddress, owners) => `{\n  vaults (where: {\n    owner_in: [\"${owners}\"]\n    optionsContract: \"${optionAddress}\"\n  } ) {\n    oTokensIssued,\n    collateral,\n    owner\n  }\n}\n\n`\n\nconst postQuery = async (query) => {\n  const options = {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ query }),\n  }\n  const res = await fetch(opynGraphEndpoint,  options)\n  return await res.json()\n}","import Web3 from 'web3';\n\nconst optionContractABI = require('../constants/abi/OptionContract.json');\nconst optionExchangeABI = require('../constants/abi/OptionExchange.json');\nconst oracleABI = require('../constants/abi/Oracle.json');\n\nconst Promise = require('bluebird');\nconst web3 = new Web3('https://mainnet.infura.io/v3/44fd23cda65746a699a5d3c0e2fa45d5');\n\n// ERC20 Info\n\nexport const getTokenBalance = async (oToken, user) => {\n  const oTokenContract = new web3.eth.Contract(optionContractABI, oToken);\n  const balance = await oTokenContract.methods.balanceOf(user).call();\n  return parseInt(balance);\n};\n\nexport const getDecimals = async (oToken) => {\n  const oTokenContract = new web3.eth.Contract(optionContractABI, oToken);\n  const decimals = await oTokenContract.methods.decimals().call();\n  return parseInt(decimals);\n};\n\nexport const getERC20Info = async (address) => {\n  const token = new web3.eth.Contract(optionContractABI, address);\n  const totalSupplyDecimals = await token.methods.totalSupply().call();\n  const decimals = await token.methods.decimals().call();\n  const totalSupply = parseInt(totalSupplyDecimals) / 10 ** parseInt(decimals);\n  return { decimals, totalSupply };\n};\n\n// Option Contract\n\n/**\n * todo: use graph ql\n * @param {Array<string>} owners\n * @param {string} oToken\n */\nexport const getVaults = async (owners, oToken) => {\n  const oTokenContract = new web3.eth.Contract(optionContractABI, oToken);\n\n  const vaults = await Promise.map(owners, async (owner) => {\n    const res = await oTokenContract.methods.getVault(owner).call();\n    const collateral = web3.utils.fromWei(res[0]);\n    const oTokensIssued = res[1];\n    const underlying = res[2];\n    return { collateral, oTokensIssued, underlying, owner, oToken };\n  });\n  return vaults;\n};\n\nexport const getVaultsWithLiquidatable = async (vaults, oToken) => {\n  const oTokenContract = new web3.eth.Contract(optionContractABI, oToken);\n  const NewVaults = await Promise.map(vaults, async (vault) => {\n    let maxLiquidatable = 0;\n    if (vault.isUnsafe) {\n      maxLiquidatable = await oTokenContract.methods.maxOTokensLiquidatable(vault.owner).call();\n    }\n    vault.maxLiquidatable = maxLiquidatable;\n    return vault;\n  });\n  return NewVaults.sort(compare);\n};\n\nexport const getMaxLiquidatable = async (oToken, owner, liquidator) => {\n  const oTokenContract = new web3.eth.Contract(optionContractABI, oToken);\n  const maxVaultLiquidatable = await oTokenContract.methods.maxOTokensLiquidatable(owner).call();\n  console.log(`maxVaultLiquidatable`, maxVaultLiquidatable)\n  const userbalance = liquidator ? await oTokenContract.methods.balanceOf(liquidator).call() : 0;\n\n  const maxLiquidatable = Math.min(\n    parseInt(userbalance, 10),\n    parseInt(maxVaultLiquidatable, 10)\n  ).toString();\n\n  return parseInt(maxLiquidatable);\n};\n\nexport const getAssetsAndOracle = async (address) => {\n  const token = new web3.eth.Contract(optionContractABI, address);\n  const [oracle, underlying, strike, minRatioObj, strikePriceObj] = await Promise.all([\n    token.methods.COMPOUND_ORACLE().call(),\n    token.methods.underlying().call(),\n    token.methods.strike().call(),\n    token.methods.minCollateralizationRatio().call(),\n    token.methods.strikePrice().call(),\n  ]);\n  const strikePrice = strikePriceObj[0] * 10 ** strikePriceObj[1];\n  const minRatio = minRatioObj[0] * 10 ** minRatioObj[1];\n  return { underlying, strike, minRatio, strikePrice, oracle };\n};\n\nexport const getAllowance = async (contract, user, spender) => {\n  const token = new web3.eth.Contract(optionContractABI, contract);\n  const allowance = await token.methods.allowance(user, spender).call();\n  return allowance;\n};\n\n/**\n * Get balance of accounts\n * @param {string} address\n */\nexport const getBalance = async (address) => {\n  const balance = await web3.eth.getBalance(address);\n  return web3.utils.fromWei(balance);\n};\n\n/**\n * Get price of token in unit of wei\n * @param {string} oracleAddr \n * @param {string} token \n */\nexport const getPrice = async (oracleAddr, token) => {\n  const oracle = new web3.eth.Contract(oracleABI, oracleAddr);\n  const price = await oracle.methods.getPrice(token).call();\n  return price; // unit: wei/ per token\n};\n\n// Option Exchange\nexport const getPremiumToPay = async (exchangeAddr, tokenToBuy, buyAmt) => {\n  const exchange = new web3.eth.Contract(optionExchangeABI, exchangeAddr);\n  const paymentToken = '0x0000000000000000000000000000000000000000';\n  const premiumToPay = await exchange.methods.premiumToPay(tokenToBuy, paymentToken, buyAmt).call();\n  return web3.utils.fromWei(premiumToPay);\n};\n\nexport const getPremiumReceived = async (exchangeAddr, tokenToSell, sellAmt) => {\n  const exchange = new web3.eth.Contract(optionExchangeABI, exchangeAddr);\n  const payoutToken = '0x0000000000000000000000000000000000000000';\n  const premiumReceived = await exchange.methods\n    .premiumReceived(tokenToSell, payoutToken, sellAmt)\n    .call();\n  return web3.utils.fromWei(premiumReceived);\n};\n\n// uniswapExchange\nfunction compare(ownerA, ownerB) {\n  const rateA = ownerA.ratio;\n  const rateB = ownerB.ratio;\n\n  let comparison = 0;\n  if (parseFloat(rateA) > parseFloat(rateB)) {\n    comparison = 1;\n  } else if (parseFloat(rateA) < parseFloat(rateB)) {\n    comparison = -1;\n  }\n  return comparison;\n}\n","import React from 'react'\n\nimport { IdentityBadge } from '@aragon/ui'\n\nfunction AddressBlock({label, address}){\n\n  return (\n    <>\n      <div style={{ fontSize: 16, padding: 3 }}> {label} </div>\n      <div style={{ padding: 5 }}>\n        <IdentityBadge entity={address} shorten={true} />\n      </div>\n    </>\n  );\n};\n\nexport default AddressBlock","import React from 'react'\n\nfunction BalanceBlock({asset, balance}){\n  let integer = '0',\n    digits = '0';\n  if (balance > 0) {\n    const str = balance.toString();\n    const split = str.split('.');\n    integer = split[0];\n    digits = split.length > 1 ? str.split('.')[1] : '0';\n  }\n\n  return (\n    <>\n      <div style={{ fontSize: 14, padding: 3 }}> {asset} </div>\n      <div style={{ padding: 3 }}>\n        <span style={{ fontSize: 24 }}>{integer}</span>.\n        <span style={{ fontSize: 18 }}> {digits} </span>\n      </div>\n    </>\n  );\n};\n\nexport default BalanceBlock","import React from 'react'\n\nimport { Tag } from '@aragon/ui';\n\nfunction RatioTag ({isSafe, ratio}) {\n  return isSafe ? (\n    ratio < 1.6 ? (\n      <Tag background='#FFEBAD' color='#FEC100'>\n        {' '}\n        Danger{' '}\n      </Tag>\n    ) : (\n      <Tag mode='new'> safe </Tag>\n    )\n  ) : (\n    <Tag color='#E34343' background='#FFC6C6'>\n      Unsafe!\n    </Tag>\n  );\n};\n\nexport default RatioTag","import React from 'react';\n\nfunction SectionTitle({ title }) {\n  return <div style={{ padding: 10, fontSize: 20 }}>{title}</div>;\n}\n\nexport default SectionTitle","import React from 'react'\n\nimport {\n  ButtonBase,\n} from '@aragon/ui';\n\nfunction MaxButton({ onClick }) {\n  return (\n    <div style={{ padding: 3 }}>\n      <ButtonBase onClick={onClick}>\n        <span style={{ opacity: 0.5 }}> Max </span>\n      </ButtonBase>\n    </div>\n  );\n}\n\nexport default MaxButton","import React from 'react'\n\nfunction HelperText({ label, amt }) {\n  if (parseFloat(amt) > 0) {\n    return (\n      <div style={{ padding: 3, opacity: 0.5 }}>\n        <span style={{ fontSize: 13 }}> {label} </span>{' '}\n        <span style={{ fontSize: 13 }}> {parseFloat(amt).toFixed(5)} </span>{' '}\n      </div>\n    );\n  } else return <div style={{ padding: 3, opacity: 0.5 }}></div>;\n}\n\nexport default HelperText","import Web3 from 'web3'\nconst web3 = new Web3()\n\nexport function formatDigits(num, percision) {\n  return parseFloat(num).toFixed(percision)\n}\n\nexport const handleDecimals = (rawAmt, decimal) => {\n  return Math.round(parseFloat(rawAmt) * 10 ** decimal);\n};\n\nexport const fromWei = web3.utils.fromWei\nexport const toWei = web3.utils.toWei\n\n/**\n * \n * @param {string | number} amtInEth \n */\nexport const formatETHAmtToStr = (amtInEth) => {\n  const strETHSegments = amtInEth.toString().split('.')\n  const int = strETHSegments[0]\n  if (strETHSegments.length === 1) return int\n  let digits = strETHSegments[1]\n  if(digits.length > 18) digits = digits.slice(0, 18)\n  const result = `${int}.${digits}`\n  return result\n  \n}","import Notify from \"bnc-notify\"\n\nexport const notify = Notify({\n  dappId: '7e7c9d55-dd5e-4ee1-bc38-edf27b59ce06',\n  networkId: 1\n});\n\n","import Web3 from 'web3';\nimport { notify } from './blockNative';\nimport { getAllowance } from './infura';\nimport BN from 'bn.js'\nconst oTokenABI = require('../constants/abi/OptionContract.json');\nconst exchangeABI = require('../constants/abi/OptionExchange.json');\nconst uniswapExchangeABI = require('../constants/abi/UniswapExchange.json');\n\nconst DEADLINE_FROM_NOW = 60 * 15;\nconst UINT256_MAX = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff'\n\nexport const getAccounts = async () => {\n  const accounts = await window.ethereum.enable();\n  return accounts;\n};\n\nexport const liquidate = async (oTokenAddr, owner, liquidateAmt) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const oToken = new web3.eth.Contract(oTokenABI, oTokenAddr);\n\n  await oToken.methods\n    .liquidate(owner, parseInt(liquidateAmt))\n    .send({ from: accounts[0] })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const burnOToken = async (oTokenAddr, burnAmt) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const oToken = new web3.eth.Contract(oTokenABI, oTokenAddr);\n  await oToken.methods\n    .burnOTokens(burnAmt)\n    .send({ from: accounts[0] })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const issueOToken = async (oTokenAddr, issueAmt) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const oToken = new web3.eth.Contract(oTokenABI, oTokenAddr);\n\n  await oToken.methods\n    .issueOTokens(issueAmt, accounts[0])\n    .send({ from: accounts[0] })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const addETHCollateral = async (oTokenAddr, owner, ethAmount) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const oToken = new web3.eth.Contract(oTokenABI, oTokenAddr);\n  await oToken.methods\n    .addETHCollateral(owner)\n    .send({ from: accounts[0], value: web3.utils.toWei(ethAmount.toString()) })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const removeETHCollateral = async (oTokenAddr, ethAmount) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const oToken = new web3.eth.Contract(oTokenABI, oTokenAddr);\n  await oToken.methods\n    .removeCollateral(web3.utils.toWei(ethAmount.toString()))\n    .send({ from: accounts[0] })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const approve = async (oTokenAddr, spender, amt) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const oToken = new web3.eth.Contract(oTokenABI, oTokenAddr);\n  await oToken.methods\n    .approve(spender, amt)\n    .send({ from: accounts[0] })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const openVault = async (oTokenAddr) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const oToken = new web3.eth.Contract(oTokenABI, oTokenAddr);\n  await oToken.methods\n    .openVault()\n    .send({ from: accounts[0] })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n// Option Exchange\n\nexport const buyOTokensFromExchange = async (oTokenAddr, exchangeAddr, buyAmt, ethAmt) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n\n  const exchange = new web3.eth.Contract(exchangeABI, exchangeAddr);\n  await exchange.methods\n    .buyOTokens(\n      accounts[0],\n      oTokenAddr,\n      '0x0000000000000000000000000000000000000000', // payment\n      buyAmt\n    )\n    .send({ from: accounts[0], value: web3.utils.toWei(ethAmt.toString()) })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const sellOTokensFromExchange = async (oTokenAddr, exchangeAddr, sellAmt) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const allowance = await getAllowance(oTokenAddr, accounts[0], exchangeAddr);\n  if (new BN(allowance).lt(new BN(sellAmt))) { \n    await approve(oTokenAddr, exchangeAddr, UINT256_MAX);\n  }\n  const exchange = new web3.eth.Contract(exchangeABI, exchangeAddr);\n  await exchange.methods\n    .sellOTokens(\n      accounts[0],\n      oTokenAddr,\n      '0x0000000000000000000000000000000000000000', // payment\n      sellAmt\n    )\n    .send({ from: accounts[0] })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n// Uniswap Exchange\n\n/**\n *\n */\nexport const addLiquidity = async (oToken, uniswapAddr, maxToken, minLiquidity, ethValue) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const allowance = await getAllowance(oToken, accounts[0], uniswapAddr);\n  if (new BN(allowance).lt(new BN(maxToken))) {\n    await approve(oToken, uniswapAddr, UINT256_MAX);\n  }\n  const uniswapExchange = new web3.eth.Contract(uniswapExchangeABI, uniswapAddr);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n  await uniswapExchange.methods\n    .addLiquidity(\n      minLiquidity, // min_liquidity\n      maxToken, // max_tokens\n      deadline // deadline\n    )\n    .send({ from: accounts[0], value: web3.utils.toWei(ethValue)-1 })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n/**\n *\n */\nexport const removeLiquidity = async (\n  uniswapAddr,\n  pool_token_amount,\n  min_eth,\n  min_tokens\n) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const min_eth_wei = web3.utils.toWei(min_eth)\n  const uniswapExchange = new web3.eth.Contract(uniswapExchangeABI, uniswapAddr);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n  await uniswapExchange.methods\n    .removeLiquidity(pool_token_amount, min_eth_wei, min_tokens, deadline)\n    .send({\n      from: accounts[0],\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n","import React, { useState, useEffect } from 'react';\n\nimport { addETHCollateral, liquidate, getAccounts } from '../../utils/web3';\nimport { getMaxLiquidatable, getDecimals } from '../../utils/infura';\n\nimport { RatioTag } from '../common';\n\nimport {\n  Header,\n  Button,\n  Modal,\n  Box,\n  Split,\n  TextInput,\n  IdentityBadge,\n  IconEthereum,\n  IconFundraising,\n  DataView,\n} from '@aragon/ui';\n\nfunction VaultModal({ oToken, owner, collateral, isSafe, oTokensIssued, ratio }) {\n  const [opened, setOpened] = useState(false);\n  const [decimals, setTokenDecimals] = useState(0);\n  const [addValue, setAddValue] = useState(0);\n  const [liquidateAmt, setLiquidateAmt] = useState(0);\n  const open = () => setOpened(true);\n  const close = () => setOpened(false);\n\n  useEffect(() =>{\n    let isCancelled = false\n    async function getData(){    \n      if(!opened) return\n      const accounts = await getAccounts();\n      const maxLiquidatable = await getMaxLiquidatable(oToken, owner, accounts[0]);\n      const _decimals = await getDecimals(oToken);\n      if(!isCancelled){\n        setTokenDecimals(_decimals);\n        setLiquidateAmt(maxLiquidatable / 10 ** _decimals);\n      }\n    }\n    getData()\n\n    // clean up function\n    return ()=>{\n      isCancelled = true\n    }\n  }, [oToken, opened, owner]);\n\n  return (\n    <>\n      <Button onClick={open} label='More'></Button>\n      <Modal width={800} padding={50} visible={opened} onClose={close}>\n        <Header primary={'Access Position'}/>\n        <Box heading={'Owner'}>\n          <IdentityBadge entity={owner} shorten={false} />\n        </Box>\n        <DataView\n          fields={['Collateral', 'Issued', 'ratio', 'Status']}\n          entries={[{ collateral, isSafe, oTokensIssued, ratio }]}\n          entriesPerPage={1}\n          renderEntry={({ collateral, isSafe, oTokensIssued, ratio }) => {\n            return [collateral, oTokensIssued, ratio, RatioTag({isSafe, ratio})];\n          }}\n        />\n\n        <br></br>\n        <Box heading={'Add Collateral'}>\n          <Split\n            primary={\n              <TextInput\n                type='number'\n                wide={true}\n                adornment={<IconEthereum />}\n                adornmentPosition='end'\n                value={addValue}\n                onChange={(event) => {\n                  setAddValue(event.target.value);\n                }}\n              />\n            }\n            secondary={\n              <Button\n                label='Add Collateral'\n                wide={true}\n                onClick={() => {\n                  addETHCollateral(oToken, owner, addValue);\n                }}\n              />\n            }\n          />\n        </Box>\n\n        <br></br>\n        <Box heading={'Liquidate'}>\n          <Split\n            primary={\n              <TextInput\n                wide={true}\n                type='number'\n                adornment={<IconFundraising />}\n                adornmentPosition='end'\n                value={liquidateAmt}\n                onChange={(event) => {\n                  setLiquidateAmt(event.target.value);\n                }}\n              />\n            }\n            secondary={\n              <Button\n                wide={true}\n                disabled={isSafe}\n                label='Liquidate'\n                onClick={() => {\n                  liquidate(oToken, owner, liquidateAmt * 10 ** decimals);\n                }}\n              />\n            }\n          />\n        </Box>\n      </Modal>\n    </>\n  );\n}\n\nexport default VaultModal;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { DataView, Button, IdentityBadge } from '@aragon/ui';\nimport { SectionTitle, RatioTag } from '../common';\nimport { openVault } from '../../utils/web3'\nimport { fromWei, formatDigits } from '../../utils/number'\n\nfunction MangeButton({ oToken, owner }) {\n  const history = useHistory();\n  const goToManagePage = (oToken, owner) => {\n    history.push(`/manage/${oToken}/${owner}`);\n  };\n  return <Button onClick={() => goToManagePage(oToken, owner)} label='Manage'></Button>;\n}\n\nfunction OpenVaultButton({ oToken, user }) {\n  const history = useHistory();\n\n  const openAndGoToVault = () => {\n    openVault(oToken)\n    history.push(`/manage/${oToken}/${user}`);\n  }\n\n  return <Button \n    onClick={() => openAndGoToVault(oToken)} \n    label='Open Vault'\n    />;\n}\n\nfunction MyVault({ vaults, oToken, user }) {\n  const myVault = vaults.find((vault) => vault.owner === user);\n  return user === '' ?\n  <></> :\n  myVault === undefined ? (\n    <>\n      <SectionTitle title={'No Vault Yet'} />\n      <DataView\n        fields={['Owner', 'collateral', 'Issued', 'RATIO', 'Status', '']}\n        entries={[{}]}\n        entriesPerPage={1}\n        renderEntry={() => {\n          return [\n            <IdentityBadge entity={user} shorten={true} connectedAccount={true} />,\n            '-',\n            '-',\n            '-',\n            '-',\n            OpenVaultButton({ oToken, user}),\n          ];\n        }}\n      />\n    </> // has no open vault\n  ) : (\n    <>\n      <SectionTitle title={'My Vault'} />\n      <DataView\n        fields={['Owner', 'collateral', 'Issued', 'RATIO', 'Status', '']}\n        entries={[myVault]}\n        entriesPerPage={1}\n        renderEntry={({ owner, collateral, oTokensIssued, ratio, isSafe }) => {\n          return [\n            <IdentityBadge entity={owner} shorten={true} connectedAccount={true} />,\n            formatDigits(fromWei(collateral), 6),\n            oTokensIssued,\n            ratio,\n            <RatioTag isSafe={isSafe} ratio={ratio}/>,\n            <MangeButton oToken={oToken} owner={owner} />\n          ];\n        }}\n      />\n    </>\n  );\n}\n\nexport default MyVault;\n","import React, { useState, useEffect } from 'react';\nimport { DataView, IdentityBadge } from '@aragon/ui';\nimport { getAllVaultOwners, getVaultsDetails } from '../../utils/graph';\nimport { getPrice, getVaultsWithLiquidatable } from '../../utils/infura';\nimport { options } from '../../constants/options';\nimport { SectionTitle, RatioTag } from '../common';\nimport { formatDigits, fromWei } from '../../utils/number';\nimport VaultModal from './VaultModal'\nimport MyVault from './MyVaultBox';\n\nconst renderListEntry = ({ owner, collateral, oTokensIssued, ratio, isSafe, oToken }) => {\n  return [\n    <IdentityBadge entity={owner} shorten={true} />,\n    formatDigits(fromWei(collateral), 6),\n    formatDigits(oTokensIssued, 6),\n    ratio,\n    RatioTag({isSafe, ratio}),\n    <VaultModal\n      oToken={oToken}\n      owner={owner}\n      collateral={fromWei(collateral)}\n      isSafe={isSafe}\n      oTokensIssued={oTokensIssued}\n      ratio={ratio}\n    />,\n  ];\n};\n\n\nfunction VaultOwnerList({ oToken, user }) {\n  const option = options.find((option) => option.addr === oToken);\n  const [isLoading, setIsLoading] = useState(true);\n  const [vaults, setVaults] = useState([]);\n\n  useEffect(() => {\n    let isCancelled = false;\n    const updateInfo = async () => {\n      const owners = await getAllVaultOwners(oToken);\n      const vaults = await getVaultsDetails(oToken, owners)\n      const { strike, decimals, minRatio, strikePrice, oracle } = option;\n\n      const ethValueInStrike = 1 / (await getPrice(oracle, strike));\n      const vaultDetail = vaults.map((vault) => {\n        if (vault.oTokensIssued === '0') {\n          vault.ratio = Infinity\n          vault.isSafe = true\n          return vault\n        } \n        const valueProtectingInEth = parseFloat(strikePrice) * vault.oTokensIssued;\n        const ratio = formatDigits(\n          (parseFloat(vault.collateral) * ethValueInStrike) / valueProtectingInEth,\n          4\n        );\n\n        const oTokensIssued = formatDigits(parseInt(vault.oTokensIssued) / 10 ** decimals, 6);\n        vault.oTokensIssued = oTokensIssued;\n        vault.ratio = ratio;\n        vault.isSafe = ratio > minRatio;\n        vault.oToken = oToken\n        return vault;\n      });\n\n      const vaultWithLiquidatable = await getVaultsWithLiquidatable(vaultDetail);\n\n      if (!isCancelled) {\n        setVaults(vaultWithLiquidatable);\n        setIsLoading(false);\n      }\n    };\n\n    updateInfo();\n    const id = setInterval(updateInfo, 12000);\n\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [oToken, option, user]);\n\n  return (    \n    <>\n      <MyVault vaults={vaults} oToken={oToken} user={user} />\n      <SectionTitle title={'All Vaults'} />\n      <DataView\n        status={isLoading ? 'loading' : 'default'}\n        fields={['Owner', 'collateral', 'Issued', 'RATIO', 'Status', '']}\n        entries={vaults}\n        entriesPerPage={5}\n        renderEntry={renderListEntry}\n      />\n    </>\n  );\n}\n\nexport default VaultOwnerList;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom'\nimport { Box, Split, Header, IdentityBadge, Button } from '@aragon/ui';\nimport { getERC20Info, getBalance } from '../../utils/infura';\n\nimport { options } from '../../constants/options';\n\nfunction OptionOverview({ oToken, tokenName }) {\n  const history = useHistory()\n  const option = options.find((option) => option.addr === oToken);\n  const [balance, setBalance] = useState('0');\n  const [totalSupply, setTotalSupply] = useState('0');\n\n  useEffect(() => {\n    let isCancelled = false;\n    async function init() {\n      const [balance, tokenInfo] = await Promise.all([getBalance(oToken), getERC20Info(oToken)]);\n      const { totalSupply } = tokenInfo;\n      if (!isCancelled) {\n        setBalance(balance);\n        setTotalSupply(totalSupply);\n      }\n    }\n    init();\n\n    return () => {\n      isCancelled = true;\n    };\n  }, [oToken]);\n\n  return (\n    <>\n      <Header primary={option.name} secondary={<Button label={'Exchange'} onClick={()=>{history.push(`/exchange/${oToken}`)}} />} />\n      <Split\n        primary={\n          <Split\n            primary={\n              <Box heading={'contract'} padding={15}>\n                <IdentityBadge entity={oToken} shorten={false} />\n              </Box>\n            }\n            secondary={\n              <Box heading={'balance'} padding={15}>\n                {balance}\n              </Box>\n            }\n          />\n        }\n        secondary={\n          <Box heading={'total supply'} padding={15}>\n            {totalSupply} {tokenName}\n          </Box>\n        }\n      />\n    </>\n  );\n}\n\nexport default OptionOverview;\n","import React from 'react';\n\nimport { useParams } from 'react-router-dom';\n\nimport VaultsList from './VaultsList';\nimport OptionInfoBox from './OptionInfoBox';\n\nfunction TokenView({user}) {\n  let { addr } = useParams();\n  return (\n    <>\n      <OptionInfoBox oToken={addr} user={user} />\n      <VaultsList oToken={addr} user={user}/>\n    </>\n  );\n}\n\nexport default TokenView;\n","import React, { useState } from 'react';\n\nimport { addETHCollateral, removeETHCollateral } from '../../utils/web3';\n\nimport { BalanceBlock, MaxButton } from '../common';\nimport { Box, TextInput, Button, IconCirclePlus, IconCircleMinus } from '@aragon/ui';\n\nimport { formatDigits } from '../../utils/number'\n\nfunction CollateralManagement({\n  vault,\n  ethBalance,\n  token,\n  owner,\n  lastETHValueInStrike,\n  strikePrice,\n  minRatio,\n  setNewRatio\n}) {\n  const [addCollateralAmt, setAddCollateralAmt] = useState(0);\n  const [removeCollateralAmt, setRemoveCollateralAmt] = useState(0);\n\n  const updateNewRatio = (newCollateral) => {\n    if(newCollateral <= 0) return\n    const newRatio = formatDigits(\n      newCollateral * lastETHValueInStrike / (strikePrice * vault.oTokensIssued),\n      5\n    )\n    setNewRatio(newRatio)\n  }\n\n  return (\n    <Box heading={'Collateral'}>\n      <div style={{ display: 'flex' }}>\n        {/* balance */}\n        <div style={{ width: '30%' }}>\n          {BalanceBlock({ asset: 'ETH', balance: vault.collateral })}\n        </div>\n        {/* Add collateral */}\n        <div style={{ width: '32%', paddingTop: '2%' }}>\n          <div style={{ display: 'flex' }}>\n            <div style={{ width: '60%' }}>\n              <>\n                <TextInput\n                  type='number'\n                  wide={true}\n                  value={addCollateralAmt}\n                  onChange={(event) => {\n                    const amt = event.target.value\n                    setAddCollateralAmt(amt);\n                    updateNewRatio(parseFloat(vault.collateral) + parseFloat(amt))\n                  }}\n                />\n                <MaxButton\n                  onClick={() => {\n                    setAddCollateralAmt(ethBalance);\n                    updateNewRatio(parseFloat(vault.collateral) + parseFloat(ethBalance))\n                  }}\n                />\n              </>\n            </div>\n            <div style={{ width: '40%' }}>\n              <Button\n                wide={true}\n                icon={<IconCirclePlus />}\n                label='Add'\n                onClick={() => {\n                  addETHCollateral(token, owner, addCollateralAmt);\n                }}\n              />\n            </div>\n          </div>\n        </div>\n        <div style={{ width: '6%' }}></div>\n        {/* Remove collateral */}\n        <div style={{ width: '32%', paddingTop: '2%' }}>\n          <div style={{ display: 'flex' }}>\n            <div style={{ width: '60%' }}>\n              <>\n                <TextInput\n                  type='number'\n                  wide={true}\n                  value={removeCollateralAmt}\n                  onChange={(event) => {\n                    const amt = event.target.value\n                    setRemoveCollateralAmt(amt);\n                    updateNewRatio(parseFloat(vault.collateral) - parseFloat(amt))\n                  }}\n                />\n                <MaxButton\n                  onClick={() => {\n                    if (lastETHValueInStrike <= 0) return;\n                    const minValueInStrike = strikePrice * vault.oTokensIssued * minRatio;\n                    const minCollateral = minValueInStrike / lastETHValueInStrike;\n                    const maxToRemove = vault.collateral - minCollateral;\n                    setRemoveCollateralAmt(maxToRemove);\n                    setNewRatio(minRatio)\n                  }}\n                />\n              </>\n            </div>\n            <div style={{ width: '40%' }}>\n              <Button\n                wide={true}\n                icon={<IconCircleMinus />}\n                label='Remove'\n                onClick={() => {\n                  removeETHCollateral(token, removeCollateralAmt);\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </Box>\n  );\n}\n\n\nexport default CollateralManagement","import React, { useState } from 'react';\n\nimport { burnOToken, issueOToken } from '../../utils/web3';\n\nimport { BalanceBlock, MaxButton } from '../common';\n\nimport { handleDecimals, formatDigits } from '../../utils/number';\n\nimport { Box, TextInput, Button, IconCirclePlus, IconCircleMinus } from '@aragon/ui';\n\nfunction IssuedTokenManagement({\n  vault,\n  tokenBalance,\n  token,\n  lastETHValueInStrike,\n  strikePrice,\n  minRatio,\n  decimals,\n  symbol,\n  setNewRatio,\n}) {\n  const [issueAmt, setIssueAmt] = useState(0);\n  const [burnAmt, setBurnAmt] = useState(0);\n\n  const updateNewRatio = (newAmt) => {\n    const newRatio = formatDigits(\n      (vault.collateral * lastETHValueInStrike) / (strikePrice * newAmt),\n      5\n    );\n    setNewRatio(newRatio);\n  };\n\n  return (\n    <Box heading={'Total Issued'}>\n      <div style={{ display: 'flex' }}>\n        {/* total Issued */}\n        <div style={{ width: '30%' }}>\n          <BalanceBlock\n            asset={symbol}\n            balance={vault.oTokensIssued ? vault.oTokensIssued / 10 ** decimals : 0}\n          />\n          {/* {balanceBlock(symbol, )} */}\n        </div>\n        {/* Issue More Token */}\n        <div style={{ width: '32%', paddingTop: '2%' }}>\n          <div style={{ display: 'flex' }}>\n            <div style={{ width: '60%' }}>\n              <>\n                <TextInput\n                  type='number'\n                  wide={true}\n                  value={issueAmt}\n                  onChange={(event) => {\n                    const amt = event.target.value;\n                    setIssueAmt(amt);\n                    updateNewRatio(parseInt(vault.oTokensIssued) + handleDecimals(amt, decimals));\n                  }}\n                />\n                <MaxButton\n                  onClick={() => {\n                    if (strikePrice <= 0) return;\n\n                    const maxTotal =\n                      (vault.collateral * lastETHValueInStrike) / (minRatio * strikePrice);\n                    const maxToIssueRaw = maxTotal - vault.oTokensIssued;\n                    const maxToIssue = maxToIssueRaw / 10 ** decimals;\n                    setIssueAmt(maxToIssue);\n                    setNewRatio(minRatio);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{ width: '40%' }}>\n              <Button\n                wide={true}\n                icon={<IconCirclePlus />}\n                label='Issue'\n                onClick={() => {\n                  issueOToken(token, handleDecimals(issueAmt, decimals));\n                }}\n              />\n            </div>\n          </div>\n        </div>\n        <div style={{ width: '6%' }}></div>\n        {/* Remove collateral */}\n        <div style={{ width: '32%', paddingTop: '2%' }}>\n          <div style={{ display: 'flex' }}>\n            <div style={{ width: '60%' }}>\n              <>\n                <TextInput\n                  type='number'\n                  wide={true}\n                  value={burnAmt}\n                  onChange={(event) => {\n                    const amt = event.target.value;\n                    updateNewRatio(parseInt(vault.oTokensIssued) - handleDecimals(amt, decimals));\n                    setBurnAmt(amt);\n                  }}\n                />\n                <MaxButton\n                  onClick={() => {\n                    const issued = Number(vault.oTokensIssued) / 10 ** decimals;\n                    setBurnAmt(Math.min(tokenBalance, issued));\n                  }}\n                />\n              </>\n            </div>\n            <div style={{ width: '40%' }}>\n              <Button\n                wide={true}\n                icon={<IconCircleMinus />}\n                label='Burn'\n                onClick={() => {\n                  burnOToken(token, handleDecimals(burnAmt, decimals));\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </Box>\n  );\n}\n\nexport default IssuedTokenManagement;\n","import React from 'react';\n\nimport { BalanceBlock, RatioTag, HelperText } from '../common';\n\nconst HeaderDashboard = ({ ratio, minRatio, symbol, ethBalance, tokenBalance, newRatio }) => {\n  return (\n    <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\n      <div style={{ width: '30%' }}>\n        <BalanceBlock asset='Owner ETH Balance' balance={ethBalance} />\n      </div>\n      <div style={{ width: '50%' }}>\n        <BalanceBlock asset={`${symbol} Balance`} balance={tokenBalance} />\n      </div>\n      <div style={{ width: '20%' }}>\n        <>\n          <div style={{ fontSize: 14, padding: 3 }}>\n            Current Ratio{' '}\n            {ratio > 0 ? <RatioTag isSafe={ratio >= minRatio} ratio={ratio} /> : <></>}\n          </div>\n          <div style={{ fontSize: 24, padding: 3 }}>\n            <span style={{ fontSize: 24 }}>{ratio.toString().split('.')[0]}</span>.\n            <span style={{ fontSize: 18 }}>{ratio.toString().split('.')[1]} </span>\n            {minRatio > 0 ? <span style={{ fontSize: 16 }}> / {minRatio} </span> : ''}\n          </div>\n          <> { newRatio === ratio ? '' :  <HelperText label='New Ratio' amt={newRatio}/>  } </>\n        </>\n      </div>\n    </div>\n  );\n};\n\nexport default HeaderDashboard;\n","import React, { useState, useEffect } from 'react';\n\nimport {\n  getVaults,\n  getTokenBalance,\n  getBalance,\n  getPrice,\n} from '../../utils/infura';\n\nimport {\n  Header,\n} from '@aragon/ui';\n\nimport CollateralManagement from './CollateralManagement'\nimport IssuedTokenManagement from './IssuedTokenManagement'\n\nimport { options } from '../../constants/options';\nimport { formatDigits, fromWei } from '../../utils/number';\n\nimport HeaderDashboard from './HeaderDashboard'\n\nfunction ManageVault({ token, owner, user }) {\n  const option = options.find((option) => option.addr === token);\n  const { decimals, symbol, oracle, strike, strikePrice, minRatio } = option;\n\n  const [vault, setVault] = useState({});\n  const [lastETHValueInStrike, setLastETHValue] = useState(0);\n\n  const [ratio, setRatio] = useState(0);\n\n  const [tokenBalance, setTokenBalance] = useState(0);\n  const [ethBalance, setETHBalance] = useState(0);\n \n\n  // status\n  const [noVault, setNoVault] = useState(true);\n  const [newRatio, setNewRatio] = useState(ratio)\n  \n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateInfo() {\n      const vault = (await getVaults([owner], token))[0];\n      // vault.collateral here in unit of eth.\n      if (vault === undefined) {\n        return;\n      }\n      setNoVault(false);\n      const [ownerBalance, ethBalance] = await Promise.all([\n        getTokenBalance(token, owner),\n        getBalance(owner),\n      ]);\n\n      const tokenBalance = ownerBalance / 10 ** decimals;\n\n      const lastStrikeValue = fromWei(await getPrice(oracle, strike));\n      const ethValueInStrike = 1 / lastStrikeValue;\n      const valueProtectingInEth = parseFloat(strikePrice) * vault.oTokensIssued;\n      const ratio = formatDigits(\n        (parseFloat(vault.collateral) * ethValueInStrike) / valueProtectingInEth,\n        5\n      );\n\n      if (!isCancelled) {\n        setLastETHValue(ethValueInStrike);\n        setVault(vault);\n        setTokenBalance(tokenBalance);\n        setETHBalance(ethBalance);\n        setRatio(ratio);\n      }\n    }\n    updateInfo();\n    const id = setInterval(updateInfo, 10000);\n\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [decimals, oracle, owner, strike, strikePrice, token]);\n\n  const isOwner = user === owner;\n\n  return noVault ? (\n    <div style={{ padding: 100, textAlign: 'center' }}> No Vault Found for this user </div>\n  ) : (\n    <>\n      <Header primary={isOwner ? 'Manage Your Vault' : 'Vault Detail'} />\n\n      <HeaderDashboard\n        owner={owner} user={user} ratio={ratio} minRatio={minRatio} \n        symbol={symbol} ethBalance={ethBalance} tokenBalance={tokenBalance}\n        newRatio={newRatio}\n      />\n\n      <CollateralManagement\n        vault={vault}\n        ethBalance={ethBalance}\n        token={token}\n        owner={owner}\n        lastETHValueInStrike={lastETHValueInStrike}\n        strikePrice={strikePrice}\n        minRatio={minRatio}\n        setNewRatio={setNewRatio}\n      />\n\n      <IssuedTokenManagement\n        vault={vault}\n        tokenBalance={tokenBalance}\n        token={token}\n        lastETHValueInStrike={lastETHValueInStrike}\n        strikePrice={strikePrice}\n        minRatio={minRatio}\n        decimals={decimals}\n        symbol={symbol}\n        setNewRatio={setNewRatio}\n      />\n      \n    </>\n  );\n}\n\n\nexport default ManageVault;\n","import React from 'react';\n\nimport { useParams, useHistory } from 'react-router-dom';\n\nimport ManageMyVault from './Manage'\nimport { Button } from '@aragon/ui';\n\nfunction ManageVault({user}) {\n  let { token, owner } = useParams();\n  const history = useHistory()\n  return (\n    <>\n      <ManageMyVault owner={owner} user={user} token={token}/>\n      <div style={{ padding: 60, textAlign: 'center' }}>\n        <h4 style={{padding: '1%'}}> Buy, Sell or Invest your oToken?</h4>\n        {<Button \n          label={'Exchange'}\n          onClick={()=>{\n            history.push(`/exchange/${token}`)\n          }}\n        />}\n      </div>\n    </>\n  );\n}\n\nexport default ManageVault;\n","import React from 'react';\n\nimport { BalanceBlock, AddressBlock } from '../common';\n// import { AddressBlock } from '@aragon/ui'\n\nconst HeaderDashboard = ({ symbol, poolETHBalance, poolTokenBalance, uniswapExchange }) => {\n  return (\n    <div style={{ padding: '2%', display: 'flex',  alignItems: 'center' }}>\n      <div style={{ width: '30%' }}>\n        <BalanceBlock asset='Total ETH Liquidity' balance={poolETHBalance} />\n      </div>\n      <div style={{ width: '30%' }}>\n        <BalanceBlock asset={`${symbol} Liquidity`} balance={poolTokenBalance} />\n      </div>\n      <div style={{ width: '40%' }}>\n        <>\n          <AddressBlock label=\"Uniswap Contract\" address={uniswapExchange} />\n        </>\n      </div>\n    </div>\n  );\n};\n\nexport default HeaderDashboard;\n","import React, { useState } from 'react';\n\nimport { buyOTokensFromExchange, sellOTokensFromExchange } from '../../utils/web3';\n\nimport { getPremiumToPay, getPremiumReceived } from '../../utils/infura';\n\nimport { BalanceBlock, MaxButton } from '../common';\nimport { handleDecimals } from '../../utils/number';\nimport { Box, TextInput, Button, IconCirclePlus, IconCircleMinus } from '@aragon/ui';\n\nfunction OptionExchange({ symbol, tokenBalance, token, exchange, decimals }) {\n  const [buyAmt, setBuyAmt] = useState(0);\n  const [sellAmt, setSellAmt] = useState(0);\n  const [premiumToPay, setPremiumToPay] = useState(0);\n  const [premiumReceived, setPremiumReceived] = useState(0);\n\n  const updatePremiumToPay = async (buyAmt) => {\n    if (!buyAmt || buyAmt === 0) {\n      setPremiumToPay(0);\n      return;\n    }\n    const amount = handleDecimals(buyAmt, decimals);\n    const premium = await getPremiumToPay(exchange, token, amount);\n    setPremiumToPay(premium);\n  };\n\n  const updatePremiumReceived = async (sellAmt) => {\n    if (!sellAmt || sellAmt === 0) {\n      setPremiumReceived(0);\n      return;\n    }\n    const amount = handleDecimals(sellAmt, decimals);\n    const premium = await getPremiumReceived(exchange, token, amount);\n    setPremiumReceived(premium);\n  };\n\n  return (\n    <Box heading={'Exchange'}>\n      <div style={{ display: 'flex' }}>\n        {/* total Issued */}\n        <div style={{ width: '30%' }}>\n          <BalanceBlock asset={`${symbol} Balance`} balance={tokenBalance} />\n        </div>\n        {/* Buy Token from Uniswap */}\n        <div style={{ width: '32%', paddingTop: '2%' }}>\n          <div style={{ display: 'flex' }}>\n            <div style={{ width: '60%' }}>\n              <>\n                <TextInput\n                  type='number'\n                  wide={true}\n                  value={buyAmt}\n                  onChange={(event) => {\n                    setBuyAmt(event.target.value);\n                    updatePremiumToPay(event.target.value);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{ width: '40%' }}>\n              <Button\n                wide={true}\n                icon={<IconCirclePlus />}\n                label='Buy'\n                onClick={() => {\n                  buyOTokensFromExchange(\n                    token,\n                    exchange,\n                    handleDecimals(buyAmt, decimals),\n                    premiumToPay\n                  );\n                }}\n              />\n            </div>\n          </div>\n          <PriceSection label='Cost:' amt={premiumToPay} symbol='' />\n        </div>\n        <div style={{ width: '6%' }}></div>\n        {/* Remove collateral */}\n        <div style={{ width: '32%', paddingTop: '2%' }}>\n          <div style={{ display: 'flex' }}>\n            <div style={{ width: '60%' }}>\n              <>\n                <TextInput\n                  type='number'\n                  wide={true}\n                  value={sellAmt}\n                  onChange={(event) => {\n                    setSellAmt(event.target.value);\n                    updatePremiumReceived(event.target.value);\n                  }}\n                />\n                <MaxButton\n                  onClick={() => {\n                    setSellAmt(tokenBalance);\n                    updatePremiumReceived(tokenBalance);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{ width: '40%' }}>\n              <Button\n                wide={true}\n                icon={<IconCircleMinus />}\n                label='Sell'\n                onClick={() => {\n                  sellOTokensFromExchange(token, exchange, handleDecimals(sellAmt, decimals));\n                }}\n              />\n            </div>\n          </div>\n          <PriceSection label='Premium' amt={premiumReceived} />\n        </div>\n      </div>\n    </Box>\n  );\n}\n\nfunction PriceSection({ label, amt, symbol = '' }) {\n  if (parseFloat(amt) > 0) {\n    return (\n      <div style={{ padding: 3, opacity: 0.5 }}>\n        <span style={{ fontSize: 13 }}> {label} </span>{' '}\n        <span style={{ fontSize: 13 }}> {parseFloat(amt).toFixed(5)} </span>{' '}\n        <span style={{ fontSize: 13 }}> {symbol} </span>\n      </div>\n    );\n  } else return <div style={{ padding: 3, opacity: 0.5 }}></div>;\n}\n\nexport default OptionExchange;\n","import React, { useState } from 'react';\n\nimport { addLiquidity } from '../../utils/web3';\n\nimport {\n  // getTokenBalance,\n} from '../../utils/infura';\n\nimport { BalanceBlock, MaxButton } from '../common';\nimport { handleDecimals, formatETHAmtToStr } from '../../utils/number';\nimport { Box, TextInput, Button, IconCirclePlus, IconEthereum } from '@aragon/ui';\n\nfunction AddLiquidity({ \n  otoken, \n  otokenSymbol, \n  otokenDecimals, \n  userTokenBalance, \n  userETHBalance,\n  uniswapExchange, \n  user, \n  poolTokenBalance, \n  poolETHBalance,\n  liquidityTokenDecimals,\n  liquidityTokenSupply\n}) {\n  const SLIPPAGE_RATE = 2;\n\n\n  const [amtETHToAdd, setAmtETHToAdd] = useState(0);\n  const [amtTokenToAdd, setAmtTokenToAdd] = useState(0);\n\n  const liquidityMinted = (liquidityTokenSupply * amtETHToAdd) / poolETHBalance;\n  const liquidityMintedMin = (liquidityMinted * (100 - SLIPPAGE_RATE)) / 100;\n  const ethToTokenRatio = poolETHBalance / poolTokenBalance;\n  const tokenToEthRatio = poolTokenBalance / poolETHBalance;\n\n  const onChangeETHAmtToSend = (ethAmt) => {\n    const newTokenAmt = (ethAmt * tokenToEthRatio);\n    setAmtETHToAdd(ethAmt);\n    setAmtTokenToAdd(newTokenAmt);\n  };\n\n  const onChangeTokenAmtToSend = (tokenAmt) => {\n    const newEthAmt = tokenAmt * ethToTokenRatio;\n    setAmtETHToAdd(newEthAmt);\n    setAmtTokenToAdd(tokenAmt);\n  };\n\n  return (\n    <Box heading={'Add Liquidity'}>\n      <div style={{ display: 'flex' }}>\n        {/* Pool Status */}\n        <div style={{ width: '30%' }}>\n          <BalanceBlock asset={`ETH Balance`} balance={userETHBalance} />\n        </div>\n        {/* Add Liquidity too pool */}\n        <div style={{ width: '70%', paddingTop: '2%' }}>\n          <div style={{ display: 'flex' }}>\n            <div style={{ width: '35%', marginRight: '5%' }}>\n              <>\n                <TextInput\n                  adornmentPosition='end'\n                  adornment={otokenSymbol}\n                  type='number'\n                  wide={true}\n                  value={amtTokenToAdd}\n                  onChange={(event) => {\n                    onChangeTokenAmtToSend(event.target.value);\n                  }}\n                />\n                <MaxButton\n                  onClick={() => {\n                    onChangeTokenAmtToSend(userTokenBalance);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{ width: '35%', marginRight: '5%' }}>\n              <TextInput\n                adornmentPosition='end'\n                adornment={<IconEthereum />}\n                type='number'\n                wide={true}\n                value={amtETHToAdd}\n                onChange={(event) => {\n                  onChangeETHAmtToSend(event.target.value);\n                }}\n              />\n              <PriceSection label='Mint' amt={liquidityMinted} symbol='Pool Tokens' />\n            </div>\n            <div style={{ width: '30%' }}>\n              <Button\n                wide={true}\n                icon={<IconCirclePlus />}\n                label='Add Liquidity'\n                onClick={() => {\n                  const maxToken = handleDecimals(amtTokenToAdd, otokenDecimals).toString();\n                  const minLiquidity = handleDecimals(\n                    liquidityMintedMin,\n                    liquidityTokenDecimals\n                  ).toString(10);\n                  addLiquidity(\n                    otoken,\n                    uniswapExchange,\n                    maxToken,\n                    minLiquidity,\n                    formatETHAmtToStr(amtETHToAdd)\n                  );\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </Box>\n  );\n}\n\nfunction PriceSection({ label, amt, symbol = '' }) {\n  if (parseFloat(amt) > 0) {\n    return (\n      <div style={{ padding: 3, opacity: 0.5 }}>\n        <span style={{ fontSize: 13 }}> {label} </span>{' '}\n        <span style={{ fontSize: 13 }}> {parseFloat(amt).toFixed(5)} </span>{' '}\n        <span style={{ fontSize: 13 }}> {symbol} </span>\n      </div>\n    );\n  } else return <div style={{ padding: 3, opacity: 0.5 }}></div>;\n}\n\nexport default AddLiquidity;\n","import React, { useState } from 'react';\n\nimport { removeLiquidity } from '../../utils/web3';\n\nimport {\n  // getTokenBalance,\n} from '../../utils/infura';\n\nimport { BalanceBlock, MaxButton } from '../common';\nimport { handleDecimals, formatETHAmtToStr } from '../../utils/number';\nimport { Box, TextInput, Button, IconCircleMinus, IconFundraising } from '@aragon/ui';\n\nfunction RemoveLiquidity({ \n  otoken, \n  otokenSymbol, \n  otokenDecimals, \n  userTokenBalance, \n  userliquidityTokenBalance,\n  uniswapExchange, \n  poolTokenBalance, \n  poolETHBalance,\n  liquidityTokenDecimals,\n  liquidityTokenSupply\n}) {\n  const SLIPPAGE_RATE = 3;\n\n  const [amtLiquidityTokenToSell, setAmtLiquidityTokenToSell] = useState(0);\n\n  const poolPortion = (amtLiquidityTokenToSell) / liquidityTokenSupply\n  const estETHRecieved = poolETHBalance * poolPortion\n  const estOTokenReceived = poolTokenBalance * poolPortion\n\n  const minETHReceived = estETHRecieved * (100 - SLIPPAGE_RATE) / 100\n  const minTokenReceived = estOTokenReceived * (100 - SLIPPAGE_RATE) / 100\n  \n  const onChangeTokenAmtToSend = (tokenAmt) => {\n    setAmtLiquidityTokenToSell(tokenAmt)\n  };\n\n  return (\n    <Box heading={'Remove Liquidity'}>\n      <div style={{ display: 'flex' }}>\n        {/* Pool Token in Hold */}\n        <div style={{ width: '30%' }}>\n          <BalanceBlock asset={`Pool Token Balance`} balance={userliquidityTokenBalance} />\n        </div>\n        {/* Remove */}\n        <div style={{ width: '70%', paddingTop: '2%' }}>\n          <div style={{ display: 'flex' }}>\n            <div style={{ width: '35%', marginRight: '5%' }}>\n              <TextInput\n                adornmentPosition='end'\n                adornment={<IconFundraising />}\n                type='number'\n                wide={true}\n                value={amtLiquidityTokenToSell}\n                onChange={(event) => {\n                  onChangeTokenAmtToSend(event.target.value);\n                }}\n              />\n              <MaxButton\n                onClick={()=>setAmtLiquidityTokenToSell(userliquidityTokenBalance)}\n              />\n            </div>\n            <div style={{ width: '35%', marginRight: '5%' }}>\n              <>\n              <PriceSection label='You get' amt={estETHRecieved} symbol='ETH' />\n              <PriceSection label='+' amt={estOTokenReceived} symbol={otokenSymbol} />\n              </>\n            </div>\n            <div style={{ width: '30%' }}>\n              <Button\n                wide={true}\n                icon={<IconCircleMinus />}\n                label='Remove Liquidity'\n                onClick={() => {\n                  const amt = handleDecimals(amtLiquidityTokenToSell, liquidityTokenDecimals).toString()\n                  const min_eth = formatETHAmtToStr(minETHReceived)\n                  const min_token = handleDecimals(minTokenReceived, otokenDecimals)\n                  \n                  removeLiquidity(\n                    uniswapExchange,\n                    amt,\n                    min_eth,\n                    min_token\n                  );\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </Box>\n  );\n}\n\nfunction PriceSection({ label, amt, symbol = '' }) {\n  if (parseFloat(amt) > 0) {\n    return (\n      <div style={{ padding: 3, opacity: 0.5 }}>\n        <span style={{ fontSize: 13 }}> {label} </span>{' '}\n        <span style={{ fontSize: 13 }}> {parseFloat(amt).toFixed(5)} </span>{' '}\n        <span style={{ fontSize: 13 }}> {symbol} </span>\n      </div>\n    );\n  } else return <div style={{ padding: 3, opacity: 0.5 }}></div>;\n}\n\nexport default RemoveLiquidity;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { getTokenBalance, getBalance, getERC20Info } from '../../utils/infura';\n\nimport { Header } from '@aragon/ui';\n\nimport { options } from '../../constants/options';\n\nimport DashBoard from './Dashboard';\nimport OptionExchange from './OptionExchange'\n\nimport AddLiquidity from './AddLiquidity';\nimport RemoveLiquidity from './RemoveLiquidity'\n\nfunction ManagePool({ user }) {\n\n  let { token } = useParams();\n\n  const option = options.find((option) => option.addr === token);\n  const { uniswapExchange, decimals, symbol, exchange } = option;\n\n  const [poolTokenBalance, setPoolTokenBalance] = useState(0);\n  const [userTokenBalance, setUserTokenBalance] = useState(0);\n  const [poolETHBalance, setPoolETHBalance] = useState(0);\n  const [userETHBalance, setUserETHBalance] = useState(0);\n\n  const [userliquidityTokenBalance, setUserLiquidityTokenBalance] = useState(0);\n  const [liquidityTokenDecimals, setLiquidityTokenDecimals] = useState(0);\n  const [liquidityTokenSupply, setLiquidityTokenSupply] = useState(0);\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updatePoolInfo() {\n      let [exchangeTokenBalance, exchagneETHBalance, liquidityTokenInfo] = await Promise.all([\n        getTokenBalance(token, uniswapExchange),\n        getBalance(uniswapExchange),\n        getERC20Info(uniswapExchange),\n      ]);\n      const { decimals: liqTokenDecimal, totalSupply: liqTokenTotalSupply } = liquidityTokenInfo;\n      exchangeTokenBalance = exchangeTokenBalance / 10 ** decimals;\n      if (!isCancelled) {\n        setLiquidityTokenDecimals(liqTokenDecimal);\n        setLiquidityTokenSupply(liqTokenTotalSupply);\n        setPoolETHBalance(exchagneETHBalance);\n        setPoolTokenBalance(exchangeTokenBalance);\n      }\n    }\n    updatePoolInfo();\n    const id = setInterval(updatePoolInfo, 10000);\n\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [decimals, token, uniswapExchange]);\n\n  useEffect(() => {\n    if (user === '') return;\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      let [tokenBalance, userETHBalance, liqTokenBalance] = await Promise.all([\n        getTokenBalance(token, user),\n        getBalance(user),\n        getTokenBalance(uniswapExchange, user),\n      ]);\n\n      const userTokenBalance = tokenBalance / 10 ** decimals;\n      const userLiqTokenBalance = liqTokenBalance / 10 ** liquidityTokenDecimals;\n      if (!isCancelled) {\n        setUserLiquidityTokenBalance(userLiqTokenBalance);\n        setUserETHBalance(userETHBalance);\n        setUserTokenBalance(userTokenBalance);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 10000);\n\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [decimals, liquidityTokenDecimals, token, uniswapExchange, user]);\n\n  return (\n    <>\n      <Header primary='Exchange' />\n\n      <DashBoard\n        user={user}\n        symbol={symbol}\n        poolETHBalance={poolETHBalance}\n        poolTokenBalance={poolTokenBalance}\n        uniswapExchange={uniswapExchange}\n      />\n\n      <OptionExchange\n        symbol={symbol}\n        tokenBalance={userTokenBalance}\n        token={token}\n        exchange={exchange}\n        decimals={decimals}\n      />\n\n      <Header primary='Pool' />\n\n      <AddLiquidity\n        user={user}\n        otoken={token}\n        otokenDecimals={decimals}\n        otokenSymbol={symbol}\n        userTokenBalance={userTokenBalance}\n        userliquidityTokenBalance={userliquidityTokenBalance}\n        userETHBalance={userETHBalance}\n        uniswapExchange={uniswapExchange}\n        poolETHBalance={poolETHBalance}\n        poolTokenBalance={poolTokenBalance}\n        liquidityTokenDecimals={liquidityTokenDecimals}\n        liquidityTokenSupply={liquidityTokenSupply}\n      />\n\n      <RemoveLiquidity\n        user={user}\n        otoken={token}\n        otokenDecimals={decimals}\n        otokenSymbol={symbol}\n        userTokenBalance={userTokenBalance}\n        userliquidityTokenBalance={userliquidityTokenBalance}\n        userETHBalance={userETHBalance}\n        uniswapExchange={uniswapExchange}\n        poolETHBalance={poolETHBalance}\n        poolTokenBalance={poolTokenBalance}\n        liquidityTokenDecimals={liquidityTokenDecimals}\n        liquidityTokenSupply={liquidityTokenSupply}\n      />\n    </>\n  );\n}\n\nexport default ManagePool;\n","import React from 'react'\n\nimport { Link } from '@aragon/ui'\n\nfunction Footer({theme}) {\n  var style = {\n    backgroundColor: theme === 'light' ? \"#F8F8F8\" : '#35425e' ,\n    textAlign: \"center\",\n    padding: \"17px\",\n    position: \"fixed\",\n    left: \"0\",\n    bottom: \"0\",\n    height: \"50px\",\n    width: \"100%\",\n    fontSize: \"12px\"\n  }\n\n  return (  \n    <div style={style}>\n      Powered By {' '}\n      <Link  external={true} href=\"https://opyn.co/#/\">Opyn</Link>{', '} \n      <Link  external={true} href=\"https://ui.aragon.org/\">Aragon UI</Link>{', '}  \n      <Link  external={true} href=\"https://www.blocknative.com/\">Blocknative</Link>{'. '}  \n      Hosted on <Link  external={true} href=\"https://github.com/antoncoding/opyn-liquidator\">GitHub</Link>.\n    </div>\n  )\n}\n\nexport default Footer","import React, { useState } from 'react';\n\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport NavBar from './components/NavBar';\nimport Onboarding from './components/Onboarding';\nimport TokenView from './components/TokenView';\nimport ManageVault from './components/ManageVault'\nimport ManagePool from './components/ManagePool'\nimport Footer from './components/Footer';\nimport { Main } from '@aragon/ui';\n\nfunction App() {\n  const storedTheme = window.localStorage.getItem('theme') || 'light';\n\n  const [user, setUser] = useState(''); // the current connected user\n  const [theme, setTheme] = useState(storedTheme);\n\n  const updateTheme = (theme) => {\n    setTheme(theme);\n    window.localStorage.setItem('theme', theme);\n  };\n\n  return (\n    <Router>\n      <Main assetsUrl={`${process.env.PUBLIC_URL}/aragon-ui/`} theme={theme}>\n        <NavBar user={user} setUser={setUser} theme={theme} updateTheme={updateTheme} />\n\n        <Switch>\n          <Route path='/token/:addr' children={<TokenView user={user} />} />\n          <Route path='/manage/:token/:owner' children={<ManageVault user={user}/>} />\n          <Route path='/exchange/:token/' children={<ManagePool user={user} />} />\n          <Route path='/' children={<Onboarding />} />\n        </Switch>\n        <Footer theme={theme} />\n      </Main>\n    </Router>\n  );\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}