(this["webpackJsonpweb-liquidate"]=this["webpackJsonpweb-liquidate"]||[]).push([[0],{169:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"},{"name":"amt","type":"uint256"}],"name":"addERC20Collateral","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getVaultOwners","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"amount","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"hasVault","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isExerciseWindow","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"getVault","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"oTokensToIssue","type":"uint256"},{"name":"receiver","type":"address"}],"name":"issueOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"sender","type":"address"},{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addAndSellERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToRemove","type":"uint256"}],"name":"removeCollateral","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"liquidationFactor","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createAndSellETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"optionsExchange","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"oTokensToExercise","type":"uint256"},{"name":"vaultsToExerciseFrom","type":"address[]"}],"name":"exercise","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"collateralAmt","type":"uint256"}],"name":"maxOTokensIssuable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlying","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"oTokensToExercise","type":"uint256"}],"name":"underlyingRequiredToExercise","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"openVault","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"COMPOUND_ORACLE","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"liquidationIncentive","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"hasExpired","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"addETHCollateral","outputs":[{"name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"transactionFee","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"strike","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlyingExp","outputs":[{"name":"","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"collateralExp","outputs":[{"name":"","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oTokenExchangeRate","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"redeemVaultBalance","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"}],"name":"setDetails","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"minCollateralizationRatio","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"},{"name":"oTokensToLiquidate","type":"uint256"}],"name":"liquidate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"strikePrice","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createAndSellERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"isUnsafe","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addAndSellETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"collateral","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"maxOTokensLiquidatable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"expiry","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_address","type":"address"}],"name":"transferFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToBurn","type":"uint256"}],"name":"burnOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_liquidationIncentive","type":"uint256"},{"name":"_liquidationFactor","type":"uint256"},{"name":"_transactionFee","type":"uint256"},{"name":"_minCollateralizationRatio","type":"uint256"}],"name":"updateParameters","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_ierc20","type":"address"}],"name":"isETH","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[],"name":"removeUnderlying","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_collateral","type":"address"},{"name":"_collExp","type":"int32"},{"name":"_underlying","type":"address"},{"name":"_underlyingExp","type":"int32"},{"name":"_oTokenExchangeExp","type":"int32"},{"name":"_strikePrice","type":"uint256"},{"name":"_strikeExp","type":"int32"},{"name":"_strike","type":"address"},{"name":"_expiry","type":"uint256"},{"name":"_optionsExchange","type":"address"},{"name":"_oracleAddress","type":"address"},{"name":"_windowSize","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"VaultOpened","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"payer","type":"address"}],"name":"ETHCollateralAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"payer","type":"address"}],"name":"ERC20CollateralAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"issuedTo","type":"address"},{"indexed":false,"name":"oTokensIssued","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"IssuedOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtCollateralToPay","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"liquidator","type":"address"}],"name":"Liquidate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtUnderlyingToPay","type":"uint256"},{"indexed":false,"name":"amtCollateralToPay","type":"uint256"},{"indexed":false,"name":"exerciser","type":"address"},{"indexed":false,"name":"vaultExercisedFrom","type":"address"}],"name":"Exercise","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtCollateralRedeemed","type":"uint256"},{"indexed":false,"name":"amtUnderlyingRedeemed","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RedeemVaultBalance","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"oTokensBurned","type":"uint256"}],"name":"BurnOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtRemoved","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RemoveCollateral","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"liquidationIncentive","type":"uint256"},{"indexed":false,"name":"liquidationFactor","type":"uint256"},{"indexed":false,"name":"transactionFee","type":"uint256"},{"indexed":false,"name":"minCollateralizationRatio","type":"uint256"},{"indexed":false,"name":"owner","type":"address"}],"name":"UpdateParameters","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"to","type":"address"},{"indexed":false,"name":"fees","type":"uint256"}],"name":"TransferFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amountUnderlying","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RemoveUnderlying","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}]')},179:function(e,t,a){e.exports=a(413)},184:function(e,t,a){},198:function(e,t){},221:function(e,t){},223:function(e,t){},267:function(e,t){},269:function(e,t){},298:function(e,t){},407:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"getPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"PriceOracle","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"isCETH","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_oracleAddress","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]')},412:function(e,t,a){},413:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(32),u=a.n(s),i=(a(184),a(11)),o=a(51),l=a(25),c=a(3),p=a.n(c),m=a(8),d=a(2);var y=function(e){var t=e.user,a=e.setUser,s=Object(n.useState)(!1),u=Object(i.a)(s,2),o=u[0],l=u[1],c=function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return t=e.sent,l(!0),a(t[0]),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o?r.a.createElement(d.c,{padding:6},r.a.createElement(d.n,{entity:t,connectedAccount:!0})):r.a.createElement(d.d,{icon:r.a.createElement(d.i,null),label:"Connect",onClick:c})};var f=function(e){var t=e.theme,a=e.updateTheme;return r.a.createElement(d.d,{icon:"dark"===t?r.a.createElement(d.l,null):r.a.createElement(d.m,null),onClick:function(){a("light"===t?"dark":"light")},label:"Theme"})};var b=function(e){var t=e.theme,a=e.updateTheme,s=e.user,u=e.setUser,o=Object(l.f)(),c=Object(n.useState)(!0),p=Object(i.a)(c,2),m=p[0],b=p[1];return Object(n.useEffect)((function(){var e="/"===o.location.pathname;b(e)}),[o.location.pathname]),r.a.createElement(d.b,{primary:m?r.a.createElement(r.a.Fragment,null):r.a.createElement(d.a,{onClick:function(e){o.push("/")}}),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{user:s,setUser:u}),r.a.createElement(f,{theme:t,updateTheme:a}))})},v=[{addr:"0xddac4aed7c8f73032b388efe2c778fc194bc81ed",name:"cDai Insurance"},{addr:"0x98cc3bd6af1880fcfda17ac477b2f612980e5e33",name:"cDai Insurance"},{addr:"0x8ed9f862363ffdfd3a07546e618214b6d59f03d4",name:"cUSDC Insurance"},{addr:"0x4ba8c6ce0e855c051e65dfc37883360efaf7c82b",name:"y.curve.fi Insurance"}];var w=function(){var e=Object(l.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.f,{primary:"All Insurances"}),r.a.createElement(d.e,{fields:["Name","Contract",""],entries:v,entriesPerPage:6,renderEntry:function(t){var a=t.addr,n=t.name;return[r.a.createElement(r.a.Fragment,null,n),r.a.createElement(d.n,{entity:a,shorten:!1}),r.a.createElement(d.d,{onClick:function(){return function(t){e.push("/token/".concat(t))}(a)}}," Access ")]}}))},h=a(65),x=a(66),E=a(68),O=a(67),k=a(69),g=a(177),T="https://api.thegraph.com/subgraphs/name/aparnakr/opyn";function C(){return M.apply(this,arguments)}function M(){return(M=Object(m.a)(p.a.mark((function e(){var t,a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"{\n    vaultOpenedActions(first: 100, ) {\n      owner\n    }\n  }",t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"{\n    vaultOpenedActions(first: 100, ) {\n      owner\n    }\n  }"})},e.next=4,fetch(T,t);case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent.data.vaultOpenedActions,r=n.map((function(e){return e.owner})),e.abrupt("return",Object(g.a)(new Set(r)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=a(38),I=a.n(j);function S(e,t){return parseFloat(e).toFixed(t)}var F=a(169),P=a(407),A=a(408),R=new I.a("https://mainnet.infura.io/v3/44fd23cda65746a699a5d3c0e2fa45d5"),q=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,n,r,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.all([B(t),D(t),V(t)]);case 2:return a=e.sent,n=Object(i.a)(a,3),r=n[0],s=n[1],u=n[2],e.abrupt("return",{name:r.name,decimals:r.decimals,totalSupply:r.totalSupply,oracle:u.oracle,underlying:u.underlying,strike:u.strike,strikePrice:u.strikePrice,minRatio:u.minRatio,balance:s});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new R.eth.Contract(F,a),e.next=3,A.map(t,function(){var e=Object(m.a)(p.a.mark((function e(t){var r,s,u,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.getVault(t).call();case 2:return r=e.sent,s=S(R.utils.fromWei(r[0]),6),u=r[1],i=r[2],o=r[3],e.abrupt("return",{collateral:s,oTokensIssued:u,underlying:i,owned:o,owner:t,oToken:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).filter((function(e){return e.owned&&parseFloat(e.collateral)>0}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new R.eth.Contract(F,a),e.next=3,A.map(t,function(){var e=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=0,!t.isUnsafe){e.next=5;break}return e.next=4,n.methods.maxOTokensLiquidatable(t.owner).call();case 4:a=e.sent;case 5:return t.maxLiquidatable=a,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return r=e.sent,e.abrupt("return",r.sort(W));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(p.a.mark((function e(t,a,n){var r,s,u,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new R.eth.Contract(F,t),e.next=3,r.methods.maxOTokensLiquidatable(a).call();case 3:if(s=e.sent,!n){e.next=10;break}return e.next=7,r.methods.balanceOf(n).call();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=0;case 11:return u=e.t0,i=Math.min(parseInt(u,10),parseInt(s,10)).toString(),e.abrupt("return",parseInt(i));case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new R.eth.Contract(F,t),e.next=3,a.methods.decimals().call();case 3:return n=e.sent,e.abrupt("return",parseInt(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,n,r,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new R.eth.Contract(F,t),e.next=3,a.methods.name().call();case 3:return n=e.sent,e.next=6,a.methods.totalSupply().call();case 6:return r=e.sent,e.next=9,a.methods.decimals().call();case 9:return s=e.sent,u=parseInt(r)/Math.pow(10,parseInt(s)),e.abrupt("return",{name:n,decimals:s,totalSupply:u});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,n,r,s,u,o,l,c,m,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new R.eth.Contract(F,t),e.next=3,A.all([a.methods.COMPOUND_ORACLE().call(),a.methods.underlying().call(),a.methods.strike().call(),a.methods.minCollateralizationRatio().call(),a.methods.strikePrice().call()]);case 3:return n=e.sent,r=Object(i.a)(n,5),s=r[0],u=r[1],o=r[2],l=r[3],c=r[4],m=c[0]*Math.pow(10,c[1]),d=l[0]*Math.pow(10,l[1]),e.abrupt("return",{underlying:u,strike:o,minRatio:d,strikePrice:m,oracle:s});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.eth.getBalance(t);case 2:return a=e.sent,e.abrupt("return",R.utils.fromWei(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new R.eth.Contract(P,t),e.next=3,n.methods.getPrice(a).call();case 3:return r=e.sent,e.abrupt("return",R.utils.fromWei(r));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function W(e,t){var a=e.ratio,n=t.ratio,r=0;return parseFloat(a)>parseFloat(n)?r=1:parseFloat(a)<parseFloat(n)&&(r=-1),r}var z=a(174),J=Object(z.a)({dappId:"7e7c9d55-dd5e-4ee1-bc38-edf27b59ce06",networkId:1}),G=a(169),Y=function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(m.a)(p.a.mark((function e(t,a,n){var r,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return r=e.sent,s=new I.a(window.ethereum),u=new s.eth.Contract(G,t),e.next=7,u.methods.liquidate(a,n).send({from:r[0]}).on("transactionHash",(function(e){J.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(p.a.mark((function e(t,a){var n,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return n=e.sent,r=new I.a(window.ethereum),s=new r.eth.Contract(G,t),e.next=7,s.methods.burnOTokens(a).send({from:n[0]}).on("transactionHash",(function(e){J.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(p.a.mark((function e(t,a,n){var r,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return r=e.sent,s=new I.a(window.ethereum),u=new s.eth.Contract(G,t),e.next=7,u.methods.addETHCollateral(a).send({from:r[0],value:s.utils.toWei(n)}).on("transactionHash",(function(e){J.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();var X=function(e){var t=e.oToken,a=e.owner,s=e.collateral,u=e.isSafe,o=e.oTokensIssued,l=e.ratio,c=Object(n.useState)(!1),y=Object(i.a)(c,2),f=y[0],b=y[1],v=Object(n.useState)(0),w=Object(i.a)(v,2),h=w[0],x=w[1],E=Object(n.useState)(0),O=Object(i.a)(E,2),k=O[0],g=O[1],T=Object(n.useState)(0),C=Object(i.a)(T,2),M=C[0],j=C[1];return Object(n.useEffect)((function(){return Object(m.a)(p.a.mark((function e(){var n,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:return n=e.sent,e.next=5,H(t,a,n[0]);case 5:return r=e.sent,e.next=8,L(t);case 8:s=e.sent,x(s),j(r/Math.pow(10,s));case 11:case"end":return e.stop()}}),e)})))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.d,{onClick:function(){return b(!0)},label:"More"}),r.a.createElement(d.q,{width:800,padding:50,visible:f,onClose:function(){return b(!1)}},r.a.createElement(d.f,null," Access Position "),r.a.createElement(d.c,{heading:"Owner"},r.a.createElement(d.n,{entity:a,shorten:!1})),r.a.createElement(d.e,{fields:["Collateral","Issued","ratio","Status"],entries:[{collateral:s,isSafe:u,oTokensIssued:o,ratio:l}],entriesPerPage:1,renderEntry:function(e){var t=e.collateral,a=e.isSafe,n=e.oTokensIssued,r=e.ratio;return[t,n,r,ae(a,r)]}}),r.a.createElement("br",null),r.a.createElement(d.c,{heading:"Add Collateral"},r.a.createElement(d.r,{primary:r.a.createElement(d.t,{type:"number",wide:!0,adornment:r.a.createElement(d.j,null),adornmentPosition:"end",value:k,onChange:function(e){g(e.target.value)}}),secondary:r.a.createElement(d.d,{label:"Add Collateral",wide:!0,onClick:function(){Q(t,a,k)}})})),r.a.createElement("br",null),r.a.createElement(d.c,{heading:"Liquidate"},r.a.createElement(d.r,{primary:r.a.createElement(d.t,{wide:!0,type:"number",adornment:r.a.createElement(d.k,null),adornmentPosition:"end",value:M,onChange:function(e){j(e.target.value)}}),secondary:r.a.createElement(d.d,{wide:!0,disabled:u,label:"Liquidate",onClick:function(){$(t,a,M*Math.pow(10,h))}})}))))};var Z=function(e){var t=e.oToken,a=e.owner,s=e.collateral,u=e.isSafe,o=e.oTokensIssued,l=e.ratio,c=Object(n.useState)(!1),y=Object(i.a)(c,2),f=y[0],b=y[1],v=Object(n.useState)(0),w=Object(i.a)(v,2),h=w[0],x=w[1],E=Object(n.useState)(0),O=Object(i.a)(E,2),k=O[0],g=O[1],T=Object(n.useState)(0),C=Object(i.a)(T,2),M=C[0],j=C[1];return Object(n.useEffect)((function(){return Object(m.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:a=e.sent,g(a);case 4:case"end":return e.stop()}}),e)})))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.d,{onClick:function(){return b(!0)},label:"Manage"}),r.a.createElement(d.q,{width:800,padding:50,visible:f,onClose:function(){return b(!1)}},r.a.createElement(d.f,null," Manage My Position "),r.a.createElement(d.c,{heading:"Owner"},r.a.createElement(d.n,{entity:a,shorten:!1})),r.a.createElement(d.e,{fields:["Collateral","Issued","ratio","Status"],entries:[{collateral:s,isSafe:u,oTokensIssued:o,ratio:l}],entriesPerPage:1,renderEntry:function(e){var t=e.collateral,a=e.isSafe,n=e.oTokensIssued,r=e.ratio;return[t,n,r,ae(a,r)]}}),r.a.createElement("br",null),r.a.createElement(d.c,{heading:r.a.createElement(r.a.Fragment,null," Increase Ratio ",r.a.createElement(d.h,null),"  ")},r.a.createElement(d.r,{primary:r.a.createElement(d.t,{type:"number",wide:!0,adornment:r.a.createElement(d.j,null),adornmentPosition:"end",value:h,onChange:function(e){x(e.target.value)}}),secondary:r.a.createElement(d.d,{wide:!0,label:"Add Collateral",onClick:function(){Q(t,a,h)}})}),r.a.createElement(d.r,{primary:r.a.createElement(d.t,{type:"number",wide:!0,adornment:r.a.createElement(d.g,null),adornmentPosition:"end",value:M,onChange:function(e){j(e.target.value)}}),secondary:r.a.createElement(d.d,{wide:!0,label:"Burn oToken",onClick:function(){K(t,M*Math.pow(10,k))}})}))))},ee=function(e){var t=e.owner,a=e.collateral,n=e.oTokensIssued,s=e.ratio,u=e.isSafe,i=e.oToken;return[r.a.createElement(d.n,{entity:t,shorten:!0,connectedAccount:!0}),a,n,s,ae(u,s),r.a.createElement(Z,{oToken:i,owner:t,collateral:a,isSafe:u,oTokensIssued:n,ratio:s})]},te=function(e){var t=e.owner,a=e.collateral,n=e.oTokensIssued,s=e.ratio,u=e.isSafe,i=e.oToken;return[r.a.createElement(d.n,{entity:t,shorten:!0}),a,n,s,ae(u,s),r.a.createElement(X,{oToken:i,owner:t,collateral:a,isSafe:u,oTokensIssued:n,ratio:s})]},ae=function(e,t){return e?t<1.7?r.a.createElement(d.s,{background:"#FFEBAD",color:"#FEC100"}," ","Danger"," "):r.a.createElement(d.s,{mode:"new"}," safe "):r.a.createElement(d.s,{color:"#E34343",background:"#FFC6C6"},"Unsafe!")};var ne=function(e){var t=e.vaults,a=(e.oToken,e.user),n=t.find((function(e){return e.owner===a}));return""===a?r.a.createElement(r.a.Fragment,null):void 0===n?r.a.createElement(r.a.Fragment,null):r.a.createElement(d.e,{heading:"Your Vault",fields:["Owner","collateral","Issued","RATIO","Status",""],entries:[n],entriesPerPage:1,renderEntry:ee})},re=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0,strikePrice:"0",vaults:[]},a.componentDidMount=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.updateInfo();case 2:setInterval(a.updateInfo,15e3);case 3:case"end":return e.stop()}}),e)}))),a.updateInfo=Object(m.a)(p.a.mark((function e(){var t,n,r,s,u,i,o,l,c,m,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return t=e.sent,e.next=5,q(a.props.oToken);case 5:return n=e.sent,r=n.strike,s=n.decimals,u=n.minRatio,i=n.strikePrice,o=n.oracle,e.next=13,_(t,a.props.oToken);case 13:return l=e.sent,e.next=16,N(o,r);case 16:return e.t0=e.sent,c=1/e.t0,m=l.map((function(e){var t=parseFloat(i)*e.oTokensIssued,a=S(parseFloat(e.collateral)*c/t,4),n=S(parseInt(e.oTokensIssued)/Math.pow(10,s),4);return e.oTokensIssued=n,e.ratio=a,e.isSafe=a>u,e})),e.next=21,U(m);case 21:d=e.sent,a.setState({vaults:d,isLoading:!1,strikePrice:i});case 23:case"end":return e.stop()}}),e)}))),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{vaults:this.state.vaults,oToken:this.props.oToken,user:this.props.user}),r.a.createElement(d.e,{status:this.state.isLoading?"loading":"default",fields:["Owner","collateral","Issued","RATIO","Status",""],entries:this.state.vaults,entriesPerPage:5,renderEntry:te}))}}]),t}(n.Component),se=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={name:"oToken",balance:"0",supply:"0"},a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(this.props.oToken);case 2:t=e.sent,a=t.balance,n=t.totalSupply,r=t.name,this.setState({balance:a,supply:n,name:r});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.f,{primary:this.state.name}),r.a.createElement(d.r,{primary:r.a.createElement(d.r,{primary:r.a.createElement(d.c,{heading:"contract",padding:20},r.a.createElement(d.n,{entity:this.props.oToken,shorten:!1})),secondary:r.a.createElement(d.c,{heading:"balance",padding:20},this.state.balance)}),secondary:r.a.createElement(d.c,{heading:"supply",padding:20},this.state.supply," ",this.props.tokenName)}))}}]),t}(n.Component);var ue=function(e){var t=e.user,a=Object(l.g)().addr;return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{oToken:a,user:t}),r.a.createElement(re,{oToken:a,user:t}))};var ie=function(e){var t={backgroundColor:"light"===e.theme?"#F8F8F8":"#35425e",textAlign:"center",padding:"17px",position:"fixed",left:"0",bottom:"0",height:"50px",width:"100%",fontSize:"12px"};return r.a.createElement("div",{style:t},"Powered By "," ",r.a.createElement(d.o,{external:!0,href:"https://opyn.co/#/"},"Opyn"),", ",r.a.createElement(d.o,{external:!0,href:"https://ui.aragon.org/"},"Aragon UI"),", ",r.a.createElement(d.o,{external:!0,href:"https://www.blocknative.com/"},"Blocknative"),". ","Hosted on ",r.a.createElement(d.o,{external:!0,href:"https://github.com/antoncoding/opyn-liquidator"},"GitHub"),".")};a(412);var oe=function(){var e=window.localStorage.getItem("theme")||"light",t=Object(n.useState)(""),a=Object(i.a)(t,2),s=a[0],u=a[1],c=Object(n.useState)(e),p=Object(i.a)(c,2),m=p[0],y=p[1];return r.a.createElement(o.a,null,r.a.createElement(d.p,{theme:m},r.a.createElement(b,{user:s,setUser:u,theme:m,updateTheme:function(e){y(e),window.localStorage.setItem("theme",e)}}),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/token/:addr",children:r.a.createElement(ue,{user:s})}),r.a.createElement(l.a,{path:"/",children:r.a.createElement(w,null)})),r.a.createElement(ie,{theme:m})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[179,1,2]]]);
//# sourceMappingURL=main.326c2523.chunk.js.map