(this["webpackJsonpweb-liquidate"]=this["webpackJsonpweb-liquidate"]||[]).push([[0],{169:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"},{"name":"amt","type":"uint256"}],"name":"addERC20Collateral","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getVaultOwners","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"amount","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"hasVault","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isExerciseWindow","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"getVault","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"oTokensToIssue","type":"uint256"},{"name":"receiver","type":"address"}],"name":"issueOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"sender","type":"address"},{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addAndSellERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToRemove","type":"uint256"}],"name":"removeCollateral","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"liquidationFactor","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createAndSellETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"optionsExchange","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"oTokensToExercise","type":"uint256"},{"name":"vaultsToExerciseFrom","type":"address[]"}],"name":"exercise","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"collateralAmt","type":"uint256"}],"name":"maxOTokensIssuable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlying","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"oTokensToExercise","type":"uint256"}],"name":"underlyingRequiredToExercise","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"openVault","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"COMPOUND_ORACLE","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"liquidationIncentive","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"hasExpired","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"addETHCollateral","outputs":[{"name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"transactionFee","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"strike","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlyingExp","outputs":[{"name":"","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"collateralExp","outputs":[{"name":"","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oTokenExchangeRate","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"redeemVaultBalance","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"}],"name":"setDetails","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"minCollateralizationRatio","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"},{"name":"oTokensToLiquidate","type":"uint256"}],"name":"liquidate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"strikePrice","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createAndSellERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"isUnsafe","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addAndSellETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"collateral","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"maxOTokensLiquidatable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"expiry","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_address","type":"address"}],"name":"transferFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToBurn","type":"uint256"}],"name":"burnOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_liquidationIncentive","type":"uint256"},{"name":"_liquidationFactor","type":"uint256"},{"name":"_transactionFee","type":"uint256"},{"name":"_minCollateralizationRatio","type":"uint256"}],"name":"updateParameters","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_ierc20","type":"address"}],"name":"isETH","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[],"name":"removeUnderlying","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_collateral","type":"address"},{"name":"_collExp","type":"int32"},{"name":"_underlying","type":"address"},{"name":"_underlyingExp","type":"int32"},{"name":"_oTokenExchangeExp","type":"int32"},{"name":"_strikePrice","type":"uint256"},{"name":"_strikeExp","type":"int32"},{"name":"_strike","type":"address"},{"name":"_expiry","type":"uint256"},{"name":"_optionsExchange","type":"address"},{"name":"_oracleAddress","type":"address"},{"name":"_windowSize","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"VaultOpened","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"payer","type":"address"}],"name":"ETHCollateralAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"payer","type":"address"}],"name":"ERC20CollateralAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"issuedTo","type":"address"},{"indexed":false,"name":"oTokensIssued","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"IssuedOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtCollateralToPay","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"liquidator","type":"address"}],"name":"Liquidate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtUnderlyingToPay","type":"uint256"},{"indexed":false,"name":"amtCollateralToPay","type":"uint256"},{"indexed":false,"name":"exerciser","type":"address"},{"indexed":false,"name":"vaultExercisedFrom","type":"address"}],"name":"Exercise","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtCollateralRedeemed","type":"uint256"},{"indexed":false,"name":"amtUnderlyingRedeemed","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RedeemVaultBalance","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"oTokensBurned","type":"uint256"}],"name":"BurnOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtRemoved","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RemoveCollateral","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"liquidationIncentive","type":"uint256"},{"indexed":false,"name":"liquidationFactor","type":"uint256"},{"indexed":false,"name":"transactionFee","type":"uint256"},{"indexed":false,"name":"minCollateralizationRatio","type":"uint256"},{"indexed":false,"name":"owner","type":"address"}],"name":"UpdateParameters","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"to","type":"address"},{"indexed":false,"name":"fees","type":"uint256"}],"name":"TransferFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amountUnderlying","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RemoveUnderlying","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}]')},179:function(e,t,a){e.exports=a(413)},184:function(e,t,a){},198:function(e,t){},221:function(e,t){},223:function(e,t){},267:function(e,t){},269:function(e,t){},298:function(e,t){},407:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"getPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"PriceOracle","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"isCETH","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_oracleAddress","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]')},412:function(e,t,a){},413:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(31),i=a.n(r),u=(a(184),a(67)),o=a(24),p=[{addr:"0xddac4aed7c8f73032b388efe2c778fc194bc81ed",name:"cDai Insurance"},{addr:"0x98cc3bd6af1880fcfda17ac477b2f612980e5e33",name:"cDai Insurance"},{addr:"0x8ed9f862363ffdfd3a07546e618214b6d59f03d4",name:"cUSDC Insurance"},{addr:"0x4ba8c6ce0e855c051e65dfc37883360efaf7c82b",name:"y.curve.fi Insurance"}],l=a(8);var c=function(){var e=Object(o.f)();return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.d,{primary:"All Insurances"}),s.a.createElement(l.c,{fields:["Name","Contract","Detail"],entries:p,entriesPerPage:6,renderEntry:function(t){var a=t.addr,n=t.name;return[s.a.createElement(s.a.Fragment,null,n),s.a.createElement(l.e,{entity:a,shorten:!1}),s.a.createElement(l.b,{onClick:function(){return function(t){e.push("/token/".concat(t))}(a)}}," Manage ")]}}))},y=a(5),d=a.n(y),m=a(10),f=a(37),b=a(38),v=a(40),w=a(39),h=a(41),x=a(177),O="https://api.thegraph.com/subgraphs/name/aparnakr/opyn";function k(){return E.apply(this,arguments)}function E(){return(E=Object(m.a)(d.a.mark((function e(){var t,a,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"{\n    vaultOpenedActions(first: 100, ) {\n      owner\n    }\n  }",t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"{\n    vaultOpenedActions(first: 100, ) {\n      owner\n    }\n  }"})},e.next=4,fetch(O,t);case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent.data.vaultOpenedActions,s=n.map((function(e){return e.owner})),e.abrupt("return",Object(x.a)(new Set(s)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=a(95),C=a(68),g=a.n(C);function T(e,t){return parseFloat(e).toFixed(t)}var j=a(169),I=a(407),R=a(408),F=new g.a("https://mainnet.infura.io/v3/44fd23cda65746a699a5d3c0e2fa45d5"),A=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,s,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.all([_(t),U(t),q(t)]);case 2:return a=e.sent,n=Object(M.a)(a,3),s=n[0],r=n[1],i=n[2],e.abrupt("return",{name:s.name,decimals:s.decimals,totalSupply:s.totalSupply,oracle:i.oracle,underlying:i.underlying,strike:i.strike,strikePrice:i.strikePrice,minRatio:i.minRatio,balance:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new F.eth.Contract(j,a),e.next=3,R.map(t,function(){var e=Object(m.a)(d.a.mark((function e(t){var a,s,r,i,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.getVault(t).call();case 2:return a=e.sent,s=T(F.utils.fromWei(a[0]),6),r=a[1],i=a[2],u=a[3],e.abrupt("return",{collateral:s,oTokensIssued:r,underlying:i,owned:u,owner:t});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).filter((function(e){return e.owned&&parseFloat(e.collateral)>0}));case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new F.eth.Contract(j,a),e.next=3,R.map(t,function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=0,!t.isUnsafe){e.next=5;break}return e.next=4,n.methods.maxOTokensLiquidatable(t.owner).call();case 4:a=e.sent;case 5:return t.maxLiquidatable=a,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return s=e.sent,e.abrupt("return",s.sort(L));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,s,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new F.eth.Contract(j,t),e.next=3,a.methods.name().call();case 3:return n=e.sent,e.next=6,a.methods.totalSupply().call();case 6:return s=e.sent,e.next=9,a.methods.decimals().call();case 9:return r=e.sent,i=parseInt(s)/Math.pow(10,parseInt(r)),e.abrupt("return",{name:n,decimals:r,totalSupply:i});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,s,r,i,u,o,p,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new F.eth.Contract(j,t),e.next=3,R.all([a.methods.COMPOUND_ORACLE().call(),a.methods.underlying().call(),a.methods.strike().call(),a.methods.minCollateralizationRatio().call(),a.methods.strikePrice().call()]);case 3:return n=e.sent,s=Object(M.a)(n,5),r=s[0],i=s[1],u=s[2],o=s[3],p=s[4],l=p[0]*Math.pow(10,p[1]),c=o[0]*Math.pow(10,o[1]),e.abrupt("return",{underlying:i,strike:u,minRatio:c,strikePrice:l,oracle:r});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.eth.getBalance(t);case 2:return a=e.sent,e.abrupt("return",F.utils.fromWei(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new F.eth.Contract(I,t),e.next=3,n.methods.getPrice(a).call();case 3:return s=e.sent,e.abrupt("return",F.utils.fromWei(s));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function L(e,t){var a=e.ratio,n=t.ratio,s=0;return a>n?s=1:a<n&&(s=-1),s}var V=a(174),B=Object(V.a)({dappId:"7e7c9d55-dd5e-4ee1-bc38-edf27b59ce06",networkId:1}),H=a(169),W=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var s,r,i,u,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return s=e.sent,r=new g.a(window.ethereum),i=new r.eth.Contract(H,t),e.next=7,i.methods.balanceOf(s[0]).call();case 7:return u=e.sent,o=Math.min(parseInt(u,10),parseInt(n,10)).toString(),e.next=11,i.methods.liquidate(a,o).send({from:s[0]}).on("transactionHash",(function(e){B.hash(e)}));case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),N=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!0,strikePrice:"0",vaults:[]},a.componentDidMount=Object(m.a)(d.a.mark((function e(){var t,n,s,r,i,u,o,p,l,c,y;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return t=e.sent,e.next=5,A(a.props.oToken);case 5:return n=e.sent,s=n.strike,r=n.decimals,i=n.minRatio,u=n.strikePrice,o=n.oracle,e.next=13,P(t,a.props.oToken);case 13:return p=e.sent,e.next=16,D(o,s);case 16:return e.t0=e.sent,l=1/e.t0,c=p.map((function(e){var t=parseFloat(u)*e.oTokensIssued,a=T(parseFloat(e.collateral)*l/t,4),n=T(parseInt(e.oTokensIssued)/Math.pow(10,r),4);return e.oTokensIssued=n,e.ratio=a,e.isSafe=a>i,e})),e.next=21,S(c);case 21:y=e.sent,a.setState({vaults:y,isLoading:!1,strikePrice:u});case 23:case"end":return e.stop()}}),e)}))),a}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(l.c,{heading:s.a.createElement("h3",null," All Vaults "),status:this.state.isLoading?"loading":"default",fields:["Owner","Collecteral","Issued","RATIO","Status"],entries:this.state.vaults,entriesPerPage:6,renderEntry:function(t){var a=t.owner,n=t.collateral,r=t.oTokensIssued,i=t.ratio,u=t.maxLiquidatable,o=t.isSafe;return[s.a.createElement(l.e,{entity:a,shorten:!0}),n,r,i,o?i<1.7?s.a.createElement(l.i,{background:"#FFEBAD",color:"#FEC100"}," ","Danger"," "):s.a.createElement(l.i,{mode:"new"}," safe "):s.a.createElement(l.f,{onClick:function(){console.log("can liquidate max ".concat(u)),W(e.props.oToken,a,u)}},s.a.createElement(l.i,{color:"#E34343",background:"#FFC6C6"},"Unsafe!"))]}})}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(w.a)(t).call(this,e))).connectWeb3=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return t=e.sent,a.setState({isConnected:!0,account:t[0]}),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),a.state={isConnected:!1,account:""},a}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return this.state.isConnected?s.a.createElement(l.e,{entity:this.state.account,connectedAccount:!0}):s.a.createElement(l.b,{onClick:this.connectWeb3}," Connect ")}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(s)))).state={name:"oToken",balance:"0",supply:"0"},a}return Object(h.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(this.props.oToken);case 2:t=e.sent,a=t.balance,n=t.totalSupply,s=t.name,this.setState({balance:a,supply:n,name:s});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.d,{primary:this.state.name,secondary:s.a.createElement(z,null)}),s.a.createElement(l.h,{primary:s.a.createElement(l.h,{primary:s.a.createElement(l.a,{heading:"contract",padding:30},s.a.createElement(l.e,{entity:this.props.oToken,shorten:!1})),secondary:s.a.createElement(l.a,{heading:"balance",padding:30},this.state.balance)}),secondary:s.a.createElement(l.a,{heading:"supply",padding:30},this.state.supply," ",this.props.tokenName)}))}}]),t}(n.Component);var $=function(){var e=Object(o.g)().addr;return s.a.createElement(s.a.Fragment,null,s.a.createElement(J,{oToken:e}),s.a.createElement(N,{oToken:e}))};a(412);var G=function(){return s.a.createElement(l.g,null,s.a.createElement(u.a,null,s.a.createElement(o.c,null,s.a.createElement(o.a,{path:"/token/:addr",children:s.a.createElement($,null)}),s.a.createElement(o.a,{path:"/",children:s.a.createElement(c,null)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[179,1,2]]]);
//# sourceMappingURL=main.603f51c2.chunk.js.map