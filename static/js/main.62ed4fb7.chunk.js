(this["webpackJsonpweb-liquidate"]=this["webpackJsonpweb-liquidate"]||[]).push([[0],{169:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"},{"name":"amt","type":"uint256"}],"name":"addERC20Collateral","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getVaultOwners","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"amount","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"hasVault","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isExerciseWindow","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"getVault","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"oTokensToIssue","type":"uint256"},{"name":"receiver","type":"address"}],"name":"issueOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"sender","type":"address"},{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addAndSellERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToRemove","type":"uint256"}],"name":"removeCollateral","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"liquidationFactor","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createAndSellETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"optionsExchange","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"oTokensToExercise","type":"uint256"},{"name":"vaultsToExerciseFrom","type":"address[]"}],"name":"exercise","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"collateralAmt","type":"uint256"}],"name":"maxOTokensIssuable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlying","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"oTokensToExercise","type":"uint256"}],"name":"underlyingRequiredToExercise","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"openVault","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"COMPOUND_ORACLE","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"liquidationIncentive","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"hasExpired","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"addETHCollateral","outputs":[{"name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"transactionFee","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"strike","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlyingExp","outputs":[{"name":"","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"collateralExp","outputs":[{"name":"","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oTokenExchangeRate","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"redeemVaultBalance","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"}],"name":"setDetails","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"minCollateralizationRatio","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"},{"name":"oTokensToLiquidate","type":"uint256"}],"name":"liquidate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"strikePrice","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createAndSellERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"isUnsafe","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addAndSellETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"collateral","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"maxOTokensLiquidatable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"expiry","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_address","type":"address"}],"name":"transferFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToBurn","type":"uint256"}],"name":"burnOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_liquidationIncentive","type":"uint256"},{"name":"_liquidationFactor","type":"uint256"},{"name":"_transactionFee","type":"uint256"},{"name":"_minCollateralizationRatio","type":"uint256"}],"name":"updateParameters","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_ierc20","type":"address"}],"name":"isETH","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[],"name":"removeUnderlying","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_collateral","type":"address"},{"name":"_collExp","type":"int32"},{"name":"_underlying","type":"address"},{"name":"_underlyingExp","type":"int32"},{"name":"_oTokenExchangeExp","type":"int32"},{"name":"_strikePrice","type":"uint256"},{"name":"_strikeExp","type":"int32"},{"name":"_strike","type":"address"},{"name":"_expiry","type":"uint256"},{"name":"_optionsExchange","type":"address"},{"name":"_oracleAddress","type":"address"},{"name":"_windowSize","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"VaultOpened","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"payer","type":"address"}],"name":"ETHCollateralAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"payer","type":"address"}],"name":"ERC20CollateralAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"issuedTo","type":"address"},{"indexed":false,"name":"oTokensIssued","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"IssuedOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtCollateralToPay","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"liquidator","type":"address"}],"name":"Liquidate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtUnderlyingToPay","type":"uint256"},{"indexed":false,"name":"amtCollateralToPay","type":"uint256"},{"indexed":false,"name":"exerciser","type":"address"},{"indexed":false,"name":"vaultExercisedFrom","type":"address"}],"name":"Exercise","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtCollateralRedeemed","type":"uint256"},{"indexed":false,"name":"amtUnderlyingRedeemed","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RedeemVaultBalance","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"oTokensBurned","type":"uint256"}],"name":"BurnOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtRemoved","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RemoveCollateral","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"liquidationIncentive","type":"uint256"},{"indexed":false,"name":"liquidationFactor","type":"uint256"},{"indexed":false,"name":"transactionFee","type":"uint256"},{"indexed":false,"name":"minCollateralizationRatio","type":"uint256"},{"indexed":false,"name":"owner","type":"address"}],"name":"UpdateParameters","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"to","type":"address"},{"indexed":false,"name":"fees","type":"uint256"}],"name":"TransferFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amountUnderlying","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RemoveUnderlying","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}]')},179:function(e,t,a){e.exports=a(413)},184:function(e,t,a){},198:function(e,t){},221:function(e,t){},223:function(e,t){},267:function(e,t){},269:function(e,t){},298:function(e,t){},407:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"getPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"PriceOracle","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"isCETH","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_oracleAddress","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]')},412:function(e,t,a){},413:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(32),u=a.n(r),i=(a(184),a(31)),o=a(55),l=a(24),p=a(5),c=a.n(p),y=a(10),m=a(38),d=a(39),f=a(41),b=a(40),v=a(42),h=a(6),w=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).connectWeb3=Object(y.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return t=e.sent,a.setState({isConnected:!0,account:t[0]}),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),a.state={isConnected:!1,account:""},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.isConnected?s.a.createElement(h.d,null,s.a.createElement(h.j,{entity:this.state.account,connectedAccount:!0})):s.a.createElement(h.d,{icon:s.a.createElement(h.g,null),label:"Connect",onClick:this.connectWeb3})}}]),t}(n.Component);var x=function(e){var t=e.theme,a=e.updateTheme;return s.a.createElement(h.d,{icon:"dark"===t?s.a.createElement(h.h,null):s.a.createElement(h.i,null),onClick:function(){a("light"===t?"dark":"light")},label:"Theme"})};var O=function(e){var t=e.theme,a=e.updateTheme,r=Object(l.f)();console.log(t);var u=Object(n.useState)(!0),o=Object(i.a)(u,2),p=o[0],c=o[1];return Object(n.useEffect)((function(){var e="/"===r.location.pathname;c(e)}),[r.location.pathname]),s.a.createElement(h.b,{primary:p?s.a.createElement(s.a.Fragment,null):s.a.createElement(h.a,{onClick:function(e){r.push("/")}}),secondary:s.a.createElement(s.a.Fragment,null,s.a.createElement(w,null),s.a.createElement(x,{theme:t,updateTheme:a}))})},E=[{addr:"0xddac4aed7c8f73032b388efe2c778fc194bc81ed",name:"cDai Insurance"},{addr:"0x98cc3bd6af1880fcfda17ac477b2f612980e5e33",name:"cDai Insurance"},{addr:"0x8ed9f862363ffdfd3a07546e618214b6d59f03d4",name:"cUSDC Insurance"},{addr:"0x4ba8c6ce0e855c051e65dfc37883360efaf7c82b",name:"y.curve.fi Insurance"}];var k=function(){var e=Object(l.f)();return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.f,{primary:"All Insurances"}),s.a.createElement(h.e,{fields:["Name","Contract","Detail"],entries:E,entriesPerPage:6,renderEntry:function(t){var a=t.addr,n=t.name;return[s.a.createElement(s.a.Fragment,null,n),s.a.createElement(h.j,{entity:a,shorten:!1}),s.a.createElement(h.d,{onClick:function(){return function(t){e.push("/token/".concat(t))}(a)}}," Manage ")]}}))},M=a(177),g="https://api.thegraph.com/subgraphs/name/aparnakr/opyn";function C(){return T.apply(this,arguments)}function T(){return(T=Object(y.a)(c.a.mark((function e(){var t,a,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"{\n    vaultOpenedActions(first: 100, ) {\n      owner\n    }\n  }",t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"{\n    vaultOpenedActions(first: 100, ) {\n      owner\n    }\n  }"})},e.next=4,fetch(g,t);case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent.data.vaultOpenedActions,s=n.map((function(e){return e.owner})),e.abrupt("return",Object(M.a)(new Set(s)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=a(69),F=a.n(j);function I(e,t){return parseFloat(e).toFixed(t)}var R=a(169),S=a(407),A=a(408),P=new F.a("https://mainnet.infura.io/v3/44fd23cda65746a699a5d3c0e2fa45d5"),_=function(){var e=Object(y.a)(c.a.mark((function e(t){var a,n,s,r,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.all([D(t),V(t),L(t)]);case 2:return a=e.sent,n=Object(i.a)(a,3),s=n[0],r=n[1],u=n[2],e.abrupt("return",{name:s.name,decimals:s.decimals,totalSupply:s.totalSupply,oracle:u.oracle,underlying:u.underlying,strike:u.strike,strikePrice:u.strikePrice,minRatio:u.minRatio,balance:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(y.a)(c.a.mark((function e(t,a){var n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new P.eth.Contract(R,a),e.next=3,A.map(t,function(){var e=Object(y.a)(c.a.mark((function e(t){var a,s,r,u,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.getVault(t).call();case 2:return a=e.sent,s=I(P.utils.fromWei(a[0]),6),r=a[1],u=a[2],i=a[3],e.abrupt("return",{collateral:s,oTokensIssued:r,underlying:u,owned:i,owner:t});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).filter((function(e){return e.owned&&parseFloat(e.collateral)>0}));case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(y.a)(c.a.mark((function e(t,a){var n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new P.eth.Contract(R,a),e.next=3,A.map(t,function(){var e=Object(y.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=0,!t.isUnsafe){e.next=5;break}return e.next=4,n.methods.maxOTokensLiquidatable(t.owner).call();case 4:a=e.sent;case 5:return t.maxLiquidatable=a,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return s=e.sent,e.abrupt("return",s.sort(H));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(y.a)(c.a.mark((function e(t){var a,n,s,r,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new P.eth.Contract(R,t),e.next=3,a.methods.name().call();case 3:return n=e.sent,e.next=6,a.methods.totalSupply().call();case 6:return s=e.sent,e.next=9,a.methods.decimals().call();case 9:return r=e.sent,u=parseInt(s)/Math.pow(10,parseInt(r)),e.abrupt("return",{name:n,decimals:r,totalSupply:u});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(y.a)(c.a.mark((function e(t){var a,n,s,r,u,o,l,p,y,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new P.eth.Contract(R,t),e.next=3,A.all([a.methods.COMPOUND_ORACLE().call(),a.methods.underlying().call(),a.methods.strike().call(),a.methods.minCollateralizationRatio().call(),a.methods.strikePrice().call()]);case 3:return n=e.sent,s=Object(i.a)(n,5),r=s[0],u=s[1],o=s[2],l=s[3],p=s[4],y=p[0]*Math.pow(10,p[1]),m=l[0]*Math.pow(10,l[1]),e.abrupt("return",{underlying:u,strike:o,minRatio:m,strikePrice:y,oracle:r});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(y.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.eth.getBalance(t);case 2:return a=e.sent,e.abrupt("return",P.utils.fromWei(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(y.a)(c.a.mark((function e(t,a){var n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new P.eth.Contract(S,t),e.next=3,n.methods.getPrice(a).call();case 3:return s=e.sent,e.abrupt("return",P.utils.fromWei(s));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function H(e,t){var a=e.ratio,n=t.ratio,s=0;return a>n?s=1:a<n&&(s=-1),s}var W=a(174),N=Object(W.a)({dappId:"7e7c9d55-dd5e-4ee1-bc38-edf27b59ce06",networkId:1}),z=a(169),J=function(){var e=Object(y.a)(c.a.mark((function e(t,a){var n,s,r,u,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return n=e.sent,s=new F.a(window.ethereum),r=new s.eth.Contract(z,t),e.next=7,r.methods.maxOTokensLiquidatable(a).call();case 7:return u=e.sent,e.next=10,r.methods.balanceOf(n[0]).call();case 10:return i=e.sent,o=Math.min(parseInt(i,10),parseInt(u,10)).toString(),e.next=14,r.methods.liquidate(a,o).send({from:n[0]}).on("transactionHash",(function(e){N.hash(e)}));case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!0,strikePrice:"0",vaults:[]},a.componentDidMount=Object(y.a)(c.a.mark((function e(){var t,n,s,r,u,i,o,l,p,y,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return t=e.sent,e.next=5,_(a.props.oToken);case 5:return n=e.sent,s=n.strike,r=n.decimals,u=n.minRatio,i=n.strikePrice,o=n.oracle,e.next=13,q(t,a.props.oToken);case 13:return l=e.sent,e.next=16,B(o,s);case 16:return e.t0=e.sent,p=1/e.t0,y=l.map((function(e){var t=parseFloat(i)*e.oTokensIssued,a=I(parseFloat(e.collateral)*p/t,4),n=I(parseInt(e.oTokensIssued)/Math.pow(10,r),4);return e.oTokensIssued=n,e.ratio=a,e.isSafe=a>u,e})),e.next=21,U(y);case 21:m=e.sent,a.setState({vaults:m,isLoading:!1,strikePrice:i});case 23:case"end":return e.stop()}}),e)}))),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(h.e,{heading:s.a.createElement("h3",null," All Vaults "),status:this.state.isLoading?"loading":"default",fields:["Owner","Collecteral","Issued","RATIO","Status"],entries:this.state.vaults,entriesPerPage:6,renderEntry:function(t){var a=t.owner,n=t.collateral,r=t.oTokensIssued,u=t.ratio,i=t.isSafe;return[s.a.createElement(h.j,{entity:a,shorten:!0}),n,r,u,i?u<1.7?s.a.createElement(h.n,{background:"#FFEBAD",color:"#FEC100"}," ","Danger"," "):s.a.createElement(h.n,{mode:"new"}," safe "):s.a.createElement(h.k,{onClick:function(){J(e.props.oToken,a)}},s.a.createElement(h.n,{color:"#E34343",background:"#FFC6C6"},"Unsafe!"))]}})}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(s)))).state={name:"oToken",balance:"0",supply:"0"},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t,a,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(this.props.oToken);case 2:t=e.sent,a=t.balance,n=t.totalSupply,s=t.name,this.setState({balance:a,supply:n,name:s});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.f,{primary:this.state.name}),s.a.createElement(h.m,{primary:s.a.createElement(h.m,{primary:s.a.createElement(h.c,{heading:"contract",padding:30},s.a.createElement(h.j,{entity:this.props.oToken,shorten:!1})),secondary:s.a.createElement(h.c,{heading:"balance",padding:30},this.state.balance)}),secondary:s.a.createElement(h.c,{heading:"supply",padding:30},this.state.supply," ",this.props.tokenName)}))}}]),t}(n.Component);var K=function(){var e=Object(l.g)().addr;return s.a.createElement(s.a.Fragment,null,s.a.createElement(G,{oToken:e}),s.a.createElement($,{oToken:e}))};a(412);var Q=function(){var e=Object(n.useState)("light"),t=Object(i.a)(e,2),a=t[0],r=t[1];return s.a.createElement(o.a,null,s.a.createElement(h.l,{theme:a},s.a.createElement(O,{theme:a,updateTheme:r}),s.a.createElement(l.c,null,s.a.createElement(l.a,{path:"/token/:addr",children:s.a.createElement(K,null)}),s.a.createElement(l.a,{path:"/",children:s.a.createElement(k,null)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(s.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[179,1,2]]]);
//# sourceMappingURL=main.62ed4fb7.chunk.js.map