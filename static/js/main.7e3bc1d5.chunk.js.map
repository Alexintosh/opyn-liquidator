{"version":3,"sources":["components/NavBar/ConnectButton.js","components/NavBar/SettingsButton.js","components/NavBar/index.js","constants/addresses.js","components/Dashboard/index.js","utils/graph.js","utils/common.js","utils/infura.js","utils/blockNative.js","utils/web3.js","components/TokenView/VaultModal.js","components/TokenView/MangeButton.js","components/TokenView/common.js","components/TokenView/MyVault.js","components/TokenView/VaultOwnerList.js","components/TokenView/VaultInfoBox.js","components/TokenView/index.js","components/ManageVault/Manage.js","components/ManageVault/index.js","components/Footer/index.js","App.js","serviceWorker.js","index.js"],"names":["ConnectButton","user","setUser","useState","isConnected","setIsConnected","connectWeb3","a","window","ethereum","enable","accounts","padding","entity","connectedAccount","icon","label","onClick","ChangeMode","theme","updateTheme","NavBar","history","useHistory","isHome","updateIsHome","useEffect","home","location","pathname","primary","addr","push","secondary","supportedList","name","DashBoard","fields","entries","entriesPerPage","renderEntry","shorten","goToToken","opynGraphEndpoint","getAllVaultOwners","options","method","headers","body","JSON","stringify","query","fetch","res","json","actions","data","vaultOpenedActions","owners","map","action","owner","Set","formatDigits","num","percision","parseFloat","toFixed","optionContractABI","require","oracleABI","Promise","web3","Web3","getOptionContractDetail","oToken","all","getERC20Info","getBalance","getAssetsAndOracle","tokenInfo","balance","optionInfo","symbol","decimals","totalSupply","oracle","underlying","strike","strikePrice","minRatio","getVaults","oTokenContract","eth","Contract","methods","getVault","call","collateral","utils","fromWei","oTokensIssued","owned","filter","vault","vaults","getVaultsWithLiquidatable","maxLiquidatable","isUnsafe","maxOTokensLiquidatable","NewVaults","sort","compare","getMaxLiquidatable","liquidator","maxVaultLiquidatable","balanceOf","userbalance","Math","min","parseInt","toString","getTokenBalance","getDecimals","address","token","totalSupplyDecimals","COMPOUND_ORACLE","minCollateralizationRatio","minRatioObj","strikePriceObj","getPrice","oracleAddr","price","ownerA","ownerB","rateA","ratio","rateB","comparison","notify","Notify","dappId","networkId","oTokenABI","getAccounts","liquidate","oTokenAddr","liquidateAmt","send","from","on","hash","burnOToken","burnAmt","burnOTokens","issueOToken","issueAmt","issueOTokens","addETHCollateral","ethAmount","value","toWei","removeETHCollateral","removeCollateral","PositionModal","isSafe","opened","setOpened","setTokenDecimals","addValue","setAddValue","setLiquidateAmt","_decimals","width","visible","onClose","heading","createTag","type","wide","adornment","adornmentPosition","onChange","event","target","disabled","MangeButton","manage","renderMyVaultRow","renderListEntry","VaultModal","background","color","mode","MyVault","myVault","find","undefined","VaultOwnerList","state","isLoading","updateInfo","props","ethValueInStrike","vaultDetail","valueProtectingInEth","vaultWithLiquidatable","setState","intervalID","setTimeout","bind","this","clearTimeout","status","Component","VaultBox","supply","tokenName","TokenView","useParams","ManageVault","tokenDecimal","tokenSymbol","tokenBalance","ethBalance","collateralAmt","issueOrBurnAmt","ownerBalance","isOwner","style","display","alignItems","balanceBlock","fontSize","split","paddingTop","invert","handleDecimals","rawAmt","decimal","asset","integer","digits","str","length","Manage","Footer","backgroundColor","textAlign","position","left","bottom","height","external","href","App","storedTheme","localStorage","getItem","setTheme","assetsUrl","process","setItem","path","children","Dashboard","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.7e3bc1d5.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { Button, IdentityBadge, IconConnect, Box } from '@aragon/ui';\n\nfunction ConnectButton({user, setUser}){\n  const [isConnected, setIsConnected] = useState(false)\n\n  const connectWeb3 = async () => {\n    const accounts = await window.ethereum.enable();\n    setIsConnected(true)\n    setUser(accounts[0])\n    return true;\n  };\n  \n    return isConnected ? (\n      <Box padding={6}>\n        <IdentityBadge entity={user} connectedAccount />\n      </Box>\n    ) : (\n      <Button \n        icon={<IconConnect/>} \n        label={'Connect'} \n        onClick={connectWeb3}\n      /> \n    );\n  \n}\n\nexport default ConnectButton;\n","import React from 'react';\nimport { Button, IconStarFilled, IconStar } from '@aragon/ui';\n\nfunction ChangeMode({theme, updateTheme}) {\n\n  const handleChangeTheme = () => {\n    if (theme === 'light') updateTheme('dark')\n    else updateTheme('light')\n  }\n\n    return (\n      <Button \n      icon={ theme === 'dark' ? <IconStar/> : <IconStarFilled/>} \n      onClick={handleChangeTheme}\n      label={ 'Theme' }\n      />\n    );\n  \n}\n\nexport default ChangeMode;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport ConnectButton from './ConnectButton';\nimport ChangeModeButton from './SettingsButton';\nimport { Bar, BackButton } from '@aragon/ui';\n\nfunction NavBar({ theme, updateTheme, user, setUser }) {\n  const history = useHistory();\n  const [isHome, updateIsHome] = useState(true);\n\n  useEffect(() => {\n    const home = history.location.pathname === '/';\n    updateIsHome(home);\n  }, [history.location.pathname]);\n\n  const handleBack = (addr) => {\n    history.push(`/`);\n  };\n\n  return (\n    <Bar\n      primary={isHome ? <></> : <BackButton onClick={handleBack} />}\n      secondary={\n        <>\n          <ConnectButton user={user} setUser={setUser} />\n          <ChangeModeButton theme={theme} updateTheme={updateTheme} />\n        </>\n      }\n    ></Bar>\n  );\n}\n\nexport default NavBar;\n","export const supportedList = [\n  {\n    addr: '0xddac4aed7c8f73032b388efe2c778fc194bc81ed',\n    name: 'cDai Insurance',\n  },\n  {\n    addr: '0x98cc3bd6af1880fcfda17ac477b2f612980e5e33',\n    name: 'cDai Insurance',\n  },\n  {\n    addr: '0x8ed9f862363ffdfd3a07546e618214b6d59f03d4',\n    name: 'cUSDC Insurance'\n  },\n  {\n    addr: '0x4ba8c6ce0e855c051e65dfc37883360efaf7c82b',\n    name: 'y.curve.fi Insurance'\n  },\n]","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { supportedList } from '../../constants/addresses';\n\nimport { Header, DataView, IdentityBadge, Button } from '@aragon/ui';\n\nfunction DashBoard() {\n  const history = useHistory();\n  const goToToken = (addr) => {\n    history.push(`/token/${addr}`);\n  };\n  return (\n    <>\n      <Header primary='All Insurances' />\n      <DataView\n        fields={['Name', 'Contract', '']}\n        entries={supportedList}\n        entriesPerPage={6}\n        renderEntry={({ addr, name }) => {\n          return [\n            <>{name}</>,\n            <IdentityBadge entity={addr} shorten={false} />,\n            <Button onClick={() => goToToken(addr)}> Access </Button>,\n          ];\n        }}\n      />\n    </>\n  );\n}\n\nexport default DashBoard;\n","// const prefix = 'https://cors-anywhere-anton.herokuapp.com/';\nconst opynGraphEndpoint = 'https://api.thegraph.com/subgraphs/name/aparnakr/opyn'\n\n/**\n * @return {Promise<Array<string>>}\n */\nexport async function getAllVaultOwners(){\n  const query = `{\n    vaultOpenedActions(first: 100, ) {\n      owner\n    }\n  }`\n  const options = {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ query }),\n  }\n  const res = await fetch(opynGraphEndpoint,  options)\n  const actions = (await res.json()).data.vaultOpenedActions\n  const owners = actions.map(action => action.owner)\n  return [...new Set(owners)]\n\n  // return [\"0xfb338c5fe584c026270e5ded1c2e0aca786a22fe\" ,\"0x7e5ce10826ee167de897d262fcc9976f609ecd2b\" ,\"0xabc04058e20c9cba4f360244648fedf30cebc3b4\" ,\"0x97c7c0c55a4ae424e9164bbc5cf8aa139cae5eec\" ,\"0x78353498a7c2741d52de5ef45e58bd17148a6297\" ,\"0x81bb32e4a7e4d0500d11a52f3a5f60c9a6ef126c\" ,\"0xd4c80637f45a55b5e1afa9cd0c935395063d4523\" ,\"0x855328ee5e94924cb83b267f25a513c2a2fc3e5e\"]\n}","export function formatDigits(num, percision) {\n  return parseFloat(num).toFixed(percision)\n}","import Web3 from 'web3';\nimport { formatDigits } from './common'\n\nconst optionContractABI = require('../constants/abi/OptionContract.json')\nconst oracleABI = require('../constants/abi/Oracle.json')\n\nconst Promise = require('bluebird');\nconst web3 = new Web3('https://mainnet.infura.io/v3/44fd23cda65746a699a5d3c0e2fa45d5');\n\n/**\n * Call only once\n * @param {*} oToken\n */\nexport const getOptionContractDetail = async (oToken) => {\n  const [tokenInfo, balance, optionInfo] = await Promise.all([\n    getERC20Info(oToken),\n    getBalance(oToken), \n    getAssetsAndOracle(oToken)]\n  );\n  return {\n    name: tokenInfo.name,\n    symbol: tokenInfo.symbol,\n    decimals: tokenInfo.decimals,\n    totalSupply: tokenInfo.totalSupply,\n    oracle: optionInfo.oracle,\n    underlying: optionInfo.underlying,\n    strike: optionInfo.strike,\n    strikePrice: optionInfo.strikePrice,\n    minRatio: optionInfo.minRatio,\n    balance,\n  };\n};\n\n/**\n *\n * @param {Array<string>} owners\n * @param {string} oToken\n */\nexport const getVaults = async (owners, oToken) => {\n  const oTokenContract = new web3.eth.Contract(optionContractABI, oToken);\n\n  const vaults = await Promise.map(owners, async (owner) => {\n    const res = await oTokenContract.methods.getVault(owner).call();\n    const collateral = formatDigits(web3.utils.fromWei(res[0]), 6);\n    const oTokensIssued = res[1];\n    const underlying = res[2];\n    const owned = res[3];\n    return { collateral, oTokensIssued, underlying, owned, owner, oToken };\n  }).filter((vault) => vault.owned && parseFloat(vault.collateral) > 0)\n  \n    return vaults \n};\n\nexport const getVaultsWithLiquidatable = async(vaults, oToken) => {\n  const oTokenContract = new web3.eth.Contract(optionContractABI, oToken);\n  const NewVaults = await Promise.map(vaults, async(vault) => {\n    let maxLiquidatable = 0\n    if(vault.isUnsafe) {\n      maxLiquidatable = await oTokenContract.methods\n        .maxOTokensLiquidatable(vault.owner)\n        .call();\n    }\n    vault.maxLiquidatable = maxLiquidatable\n    return vault\n  })\n  return NewVaults.sort(compare);\n}\n\nexport const getMaxLiquidatable = async(oToken, owner, liquidator) => {\n  const oTokenContract = new web3.eth.Contract(optionContractABI, oToken);\n  const maxVaultLiquidatable =  await oTokenContract.methods\n    .maxOTokensLiquidatable(owner)\n    .call();\n      \n  const userbalance = liquidator \n    ? await oTokenContract.methods.balanceOf(liquidator).call()\n    : 0\n  \n  const maxLiquidatable = Math.min(\n      parseInt(userbalance, 10), \n      parseInt(maxVaultLiquidatable, 10)\n  ).toString();\n  \n  return  parseInt(maxLiquidatable)\n  \n}\n\nexport const getTokenBalance = async(oToken, user) => {\n  const oTokenContract = new web3.eth.Contract(optionContractABI, oToken);\n  const balance = await oTokenContract.methods.balanceOf(user).call()\n  return parseInt(balance)\n}\n\nexport const getDecimals = async(oToken) => {\n  const oTokenContract = new web3.eth.Contract(optionContractABI, oToken);\n  const decimals = await oTokenContract.methods.decimals().call()\n  return parseInt(decimals)\n}\n\nexport const getERC20Info = async(address) => {\n  const token = new web3.eth.Contract(optionContractABI, address);\n  const name = await token.methods.name().call();\n  const totalSupplyDecimals = await token.methods.totalSupply().call();\n  const symbol = await token.methods.symbol().call();\n  const decimals = await token.methods.decimals().call();\n  const totalSupply = parseInt(totalSupplyDecimals) / 10 ** parseInt(decimals);\n  return { name, decimals, totalSupply, symbol }\n}\n\nexport const getAssetsAndOracle = async(address) => {\n  const token = new web3.eth.Contract(optionContractABI, address);\n  const [\n    oracle, \n    underlying, \n    strike, \n    minRatioObj, \n    strikePriceObj\n  ] = await Promise.all([\n    token.methods.COMPOUND_ORACLE().call(),\n    token.methods.underlying().call(),\n    token.methods.strike().call(),\n    token.methods.minCollateralizationRatio().call(),\n    token.methods.strikePrice().call()\n  ]) \n  const strikePrice = strikePriceObj[0] * (10 ** strikePriceObj[1])\n  const minRatio =  minRatioObj[0] * (10 ** minRatioObj[1])\n  return {  underlying, strike, minRatio, strikePrice, oracle }\n}\n\n/**\n * Get balance of accounts\n * @param {string} address\n */\nexport const getBalance = async (address) => {\n  const balance = await web3.eth.getBalance(address);\n  return web3.utils.fromWei(balance);\n};\n\nexport const getPrice = async (oracleAddr, token) => {\n  const oracle = new web3.eth.Contract(oracleABI, oracleAddr);\n  const price = await oracle.methods.getPrice(token).call();\n  return web3.utils.fromWei(price); // price base eth/ per token\n};\n\n\nfunction compare(ownerA, ownerB) {\n  const rateA = ownerA.ratio;\n  const rateB = ownerB.ratio;\n\n  let comparison = 0;\n  if (parseFloat(rateA) > parseFloat(rateB)) {\n    comparison = 1;\n  } else if (parseFloat(rateA) < parseFloat(rateB)) {\n    comparison = -1;\n  }\n  return comparison;\n}\n","import Notify from \"bnc-notify\"\n\nexport const notify = Notify({\n  dappId: '7e7c9d55-dd5e-4ee1-bc38-edf27b59ce06',\n  networkId: 1\n});\n\n","import Web3 from 'web3'\nimport { notify } from './blockNative'\nconst oTokenABI = require('../constants/abi/OptionContract.json')\n\nexport const getAccounts = async() => {\n  const accounts = await window.ethereum.enable();\n  return accounts\n}\n\nexport const liquidate = async(oTokenAddr, owner, liquidateAmt) => {\n\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const oToken = new web3.eth.Contract(oTokenABI, oTokenAddr)\n  \n  await oToken.methods.liquidate(owner, liquidateAmt).send({from: accounts[0]})\n    .on('transactionHash', (hash)=>{\n      notify.hash(hash)\n    })\n}\n\nexport const burnOToken = async(oTokenAddr, burnAmt) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const oToken = new web3.eth.Contract(oTokenABI, oTokenAddr)\n  \n  await oToken.methods.burnOTokens(burnAmt).send({from: accounts[0]})\n    .on('transactionHash', (hash)=>{\n      notify.hash(hash)\n    })\n}\n\nexport const issueOToken = async(oTokenAddr, issueAmt) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const oToken = new web3.eth.Contract(oTokenABI, oTokenAddr)\n  \n  await oToken.methods.issueOTokens(issueAmt, accounts[0]).send({from: accounts[0]})\n    .on('transactionHash', (hash)=>{\n      notify.hash(hash)\n    })\n}\n\nexport const addETHCollateral = async (oTokenAddr, owner, ethAmount) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const oToken = new web3.eth.Contract(oTokenABI, oTokenAddr)\n  await oToken.methods.addETHCollateral(owner).send({from: accounts[0], value: web3.utils.toWei(ethAmount)})\n    .on('transactionHash', (hash)=>{\n      notify.hash(hash)\n    })\n}\n\nexport const removeETHCollateral = async (oTokenAddr, ethAmount) => {\n  const accounts = await window.ethereum.enable();\n  const web3 = new Web3(window.ethereum);\n  const oToken = new web3.eth.Contract(oTokenABI, oTokenAddr)\n  await oToken.methods.removeCollateral(web3.utils.toWei(ethAmount)).send({from: accounts[0] })\n    .on('transactionHash', (hash)=>{\n      notify.hash(hash)\n    })\n}","import React, { useState, useEffect } from 'react';\n\nimport { addETHCollateral, liquidate, getAccounts } from '../../utils/web3';\nimport { getMaxLiquidatable, getDecimals } from '../../utils/infura';\n\nimport { createTag } from './common';\n\nimport {\n  Header,\n  Button,\n  Modal,\n  Box,\n  Split,\n  TextInput,\n  IdentityBadge,\n  IconEthereum,\n  IconFundraising,\n  DataView,\n} from '@aragon/ui';\n\nfunction PositionModal({ oToken, owner, collateral, isSafe, oTokensIssued, ratio }) {\n  const [opened, setOpened] = useState(false);\n  const [decimals, setTokenDecimals] = useState(0);\n  const [addValue, setAddValue] = useState(0);\n  const [liquidateAmt, setLiquidateAmt] = useState(0);\n  const open = () => setOpened(true);\n  const close = () => setOpened(false);\n\n  useEffect(\n    () =>\n      async function() {\n        const accounts = await getAccounts();\n        const maxLiquidatable = await getMaxLiquidatable(oToken, owner, accounts[0]);\n        const _decimals = await getDecimals(oToken);\n        setTokenDecimals(_decimals);\n        setLiquidateAmt(maxLiquidatable / 10 ** _decimals);\n      }\n  );\n\n  return (\n    <>\n      <Button onClick={open} label='More'></Button>\n      <Modal width={800} padding={50} visible={opened} onClose={close}>\n        <Header primary={'Access Position'}/>\n        <Box heading={'Owner'}>\n          <IdentityBadge entity={owner} shorten={false} />\n        </Box>\n        <DataView\n          fields={['Collateral', 'Issued', 'ratio', 'Status']}\n          entries={[{ collateral, isSafe, oTokensIssued, ratio }]}\n          entriesPerPage={1}\n          renderEntry={({ collateral, isSafe, oTokensIssued, ratio }) => {\n            return [collateral, oTokensIssued, ratio, createTag(isSafe, ratio)];\n          }}\n        />\n\n        <br></br>\n        <Box heading={'Add Collateral'}>\n          <Split\n            primary={\n              <TextInput\n                type='number'\n                wide={true}\n                adornment={<IconEthereum />}\n                adornmentPosition='end'\n                value={addValue}\n                onChange={(event) => {\n                  setAddValue(event.target.value);\n                }}\n              />\n            }\n            secondary={\n              <Button\n                label='Add Collateral'\n                wide={true}\n                onClick={() => {\n                  addETHCollateral(oToken, owner, addValue);\n                }}\n              />\n            }\n          />\n        </Box>\n\n        <br></br>\n        <Box heading={'Liquidate'}>\n          <Split\n            primary={\n              <TextInput\n                wide={true}\n                type='number'\n                adornment={<IconFundraising />}\n                adornmentPosition='end'\n                value={liquidateAmt}\n                onChange={(event) => {\n                  setLiquidateAmt(event.target.value);\n                }}\n              />\n            }\n            secondary={\n              <Button\n                wide={true}\n                disabled={isSafe}\n                label='Liquidate'\n                onClick={() => {\n                  liquidate(oToken, owner, liquidateAmt * 10 ** decimals);\n                }}\n              />\n            }\n          />\n        </Box>\n      </Modal>\n    </>\n  );\n}\n\nexport default PositionModal;\n","import React from 'react';\n\nimport { useHistory } from 'react-router-dom';\n\nimport {\n  Button\n} from '@aragon/ui';\n\nfunction MangeButton({ oToken, owner, collateral, isSafe, oTokensIssued, ratio }) {\n  const history = useHistory();\n\n  const manage = (oToken, owner) => {\n    history.push(`/manage/${oToken}/${owner}`);\n  };\n\n  return <Button onClick={() => manage(oToken, owner)} label='Manage'></Button>;\n}\n\nexport default MangeButton;\n","import React from 'react'\n\nimport {\n  Tag,\n  IdentityBadge,\n} from '@aragon/ui';\nimport VaultModal from './VaultModal';\nimport MangeButton from './MangeButton'\n\nexport const renderMyVaultRow = ({ owner, collateral, oTokensIssued, ratio, isSafe, oToken }) => {\n  return [\n    <IdentityBadge entity={owner} shorten={true} connectedAccount={true} />,\n    collateral,\n    oTokensIssued,\n    ratio,\n    createTag(isSafe, ratio),\n    MangeButton({oToken, owner})\n  ]\n}\n\nexport const renderListEntry = ({ owner, collateral, oTokensIssued, ratio, isSafe, oToken }) => {\n  return [\n    <IdentityBadge entity={owner} shorten={true} />,\n    collateral,\n    oTokensIssued,\n    ratio,\n    createTag(isSafe, ratio),\n    <VaultModal\n      oToken={oToken}\n      owner={owner}\n      collateral={collateral}\n      isSafe={isSafe}\n      oTokensIssued={oTokensIssued}\n      ratio={ratio}\n    />,\n  ];\n}\n\nexport const createTag = (isSafe, ratio) => {\n  return isSafe ? (\n    ratio < 1.7 ? (\n      <Tag background='#FFEBAD' color='#FEC100'>\n        {' '}\n        Danger{' '}\n      </Tag>\n    ) : (\n      <Tag mode='new'> safe </Tag>\n    )\n  ) : (\n    <Tag color='#E34343' background='#FFC6C6'>\n      Unsafe!\n    </Tag>\n  )\n}","import React from 'react';\n\nimport { DataView } from '@aragon/ui';\n\nimport { renderMyVaultRow } from './common'\n\nfunction MyVault({ vaults, oToken, user }) {\n  const myVault = vaults.find((vault) => vault.owner === user);\n  return user === '' ? (\n    <></> // not login\n  ) : myVault === undefined ? (\n    <></> // has no open vault\n  ) : (\n    <DataView\n      heading={'Your Vault'}\n      fields={['Owner', 'collateral', 'Issued', 'RATIO', 'Status', '']}\n      entries={[myVault]}\n      entriesPerPage={1}\n      renderEntry={renderMyVaultRow}\n    />\n  );\n}\n\nexport default MyVault;\n","import React, { Component } from 'react';\nimport {\n  DataView\n} from '@aragon/ui';\nimport { getAllVaultOwners } from '../../utils/graph';\nimport {\n  getOptionContractDetail,\n  getVaults,\n  getPrice,\n  getVaultsWithLiquidatable,\n} from '../../utils/infura';\n\nimport { renderListEntry } from './common'\nimport { formatDigits } from '../../utils/common';\nimport MyVault from './MyVault';\n\nclass VaultOwnerList extends Component {\n  state = {\n    isLoading: true,\n    strikePrice: '0',\n    vaults: [], // { account, maxLiquidatable, collateral, oTokensIssued, ratio } []\n  };\n\n  intervalID\n\n  componentDidMount(){\n    this.updateInfo()\n  };\n\n  componentWillUnmount(){\n    clearTimeout(this.intervalID)\n  }\n\n  updateInfo = async() => {\n    const owners = await getAllVaultOwners();\n    const { strike, decimals, minRatio, strikePrice, oracle } = await getOptionContractDetail(\n      this.props.oToken\n    );\n    const vaults = await getVaults(owners, this.props.oToken)\n\n    const ethValueInStrike = 1 / (await getPrice(oracle, strike));\n    const vaultDetail = vaults.map((vault) => {\n      const valueProtectingInEth = parseFloat(strikePrice) * vault.oTokensIssued;\n      const ratio = formatDigits(\n        (parseFloat(vault.collateral) * ethValueInStrike) / valueProtectingInEth,\n        4\n      );\n\n      const oTokensIssued = formatDigits(parseInt(vault.oTokensIssued) / 10 ** decimals, 4);\n      vault.oTokensIssued = oTokensIssued;\n      vault.ratio = ratio;\n      vault.isSafe = ratio > minRatio;\n      return vault;\n    });\n\n    const vaultWithLiquidatable = await getVaultsWithLiquidatable(vaultDetail);\n    this.setState({\n      vaults: vaultWithLiquidatable,\n      isLoading: false,\n      strikePrice,\n    });\n\n    this.intervalID = setTimeout(this.updateInfo.bind(this), 10000)\n  }\n\n  render() {\n    return (\n      <>\n      <MyVault vaults={this.state.vaults} oToken={this.props.oToken} user={this.props.user} />\n      <DataView\n        status={this.state.isLoading ? 'loading' : 'default'}\n        fields={['Owner', 'collateral', 'Issued', 'RATIO', 'Status', '']}\n        entries={this.state.vaults}\n        entriesPerPage={5}\n        renderEntry={renderListEntry}\n      />\n      </>\n    );\n  }\n}\n\nexport default VaultOwnerList;\n","import React, { Component } from 'react';\nimport { Box, Split, Header, IdentityBadge } from '@aragon/ui';\nimport { getOptionContractDetail } from '../../utils/infura';\n\nclass VaultBox extends Component {\n  state = {\n    name: 'oToken',\n    balance: '0',\n    supply: '0',\n  };\n\n  async componentDidMount() {\n    const { balance, totalSupply, name } = await getOptionContractDetail(this.props.oToken);\n    this.setState({ balance, supply: totalSupply, name });\n  }\n\n  render() {\n    return (\n      <>\n        <Header\n          primary={this.state.name}\n        />\n        <Split\n          primary={\n            <Split\n              primary={\n                <Box heading={'contract'} padding={20}>\n                  <IdentityBadge entity={this.props.oToken} shorten={false} />\n                </Box>\n              }\n              secondary={\n                <Box heading={'balance'} padding={20}>\n                  {this.state.balance}\n                </Box>\n              }\n            />\n          }\n          secondary={\n            <Box heading={'supply'} padding={20}>\n              {this.state.supply} {this.props.tokenName}\n            </Box>\n          }\n        />\n      </>\n    );\n  }\n}\n\nexport default VaultBox;\n","import React from 'react';\n\nimport { useParams } from 'react-router-dom';\n\nimport VaultOwnerList from './VaultOwnerList';\nimport Overview from './VaultInfoBox';\n\nfunction TokenView({user}) {\n  let { addr } = useParams();\n  return (\n    <>\n      <Overview oToken={addr} user={user} />\n      <VaultOwnerList oToken={addr} user={user}/>\n    </>\n  );\n}\n\nexport default TokenView;\n","import React, { Component } from 'react';\n\nimport {\n  getVaults,\n  getVaultsWithLiquidatable,\n  getTokenBalance,\n  getBalance,\n  getOptionContractDetail,\n  getPrice,\n} from '../../utils/infura';\n\nimport { Split, IconCirclePlus, IconCircleMinus, Button, TextInput, Header, Box } from '@aragon/ui';\n\nimport { addETHCollateral, removeETHCollateral, burnOToken, issueOToken } from '../../utils/web3';\n\nimport { formatDigits } from '../../utils/common'\nimport { createTag } from '../TokenView/common'\nclass ManageVault extends Component {\n  state = {\n    isLoading: true,\n    vault: {},\n    tokenDecimal: 0,\n    tokenSymbol: 'oToken',\n    strikePrice: 0,\n    strike: '',\n    oracle: '',\n    ratio: 0,\n    minRatio: 1.6,\n\n    tokenBalance: 0,\n    ethBalance: 0,\n\n    collateralAmt: 0, // input\n    issueOrBurnAmt: 0, //\n  };\n\n  intervalID;\n\n  componentDidMount() {\n    this.updateInfo();\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.intervalID);\n  }\n\n  updateInfo = async () => {\n    const token = this.props.token;\n    const owner = this.props.owner;\n\n    const vaults = await getVaults([owner], token);\n    const vault = (await getVaultsWithLiquidatable(vaults))[0];\n    const [ownerBalance, optionInfo, ethBalance] = await Promise.all([\n      getTokenBalance(token, owner),\n      getOptionContractDetail(token),\n      getBalance(owner),\n    ]);\n\n    const { decimals, symbol, strikePrice, strike, oracle, minRatio } = optionInfo;\n\n    const tokenBalance = ownerBalance / 10 ** optionInfo.decimals;\n    const ethValueInStrike = 1 / (await getPrice(oracle, strike));\n    const valueProtectingInEth = parseFloat(strikePrice) * vault.oTokensIssued;\n    const ratio = formatDigits((parseFloat(vault.collateral) * ethValueInStrike) / valueProtectingInEth, 5);\n\n    this.setState({\n      vault,\n      tokenBalance,\n      ethBalance,\n      tokenDecimal: decimals,\n      tokenSymbol: symbol,\n      strikePrice,\n      strike,\n      oracle,\n      minRatio,\n      ratio\n    });\n\n    this.intervalID = setTimeout(this.updateInfo.bind(this), 15000);\n  };\n\n  render() {\n    const isOwner = this.props.user === this.props.owner;\n\n    return (\n      <>\n        <Header primary={isOwner ? 'Manage Your Vault' : 'Vault Detail'} />\n\n        <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\n          <div style={{ width: '30%' }}>\n            {balanceBlock('Owner ETH Balance', this.state.ethBalance)}\n          </div>\n          <div style={{ width: '50%' }}>\n            {balanceBlock(`${this.state.tokenSymbol} Balance`, this.state.tokenBalance)}\n          </div>\n          <div style={{ width: '20%', }}>\n            <>\n              <div style={{ fontSize: 14, padding: 3 }}> \n                Current Ratio {\n                  this.state.ratio > 0 ?\n                  createTag(this.state.ratio >= this.state.minRatio, this.state.ratio) : ''\n                } \n              </div>\n              <div style={{ fontSize: 24, padding: 3 }}>\n                <span style={{ fontSize: 24 }}>{this.state.ratio.toString().split('.')[0]}</span>.\n                <span style={{ fontSize: 18 }}>{this.state.ratio.toString().split('.')[1]} </span>\n                { this.state.minRatio > 0 ? <span style={{ fontSize: 16 }}> / {this.state.minRatio} </span> : '' }\n                \n                {/* {balance} */}\n              </div>\n            </>\n          </div>\n        </div>\n        {/* </Box> */}\n\n        <Box heading={'Collateral'}>\n          <Split\n            primary={\n              <div style={{ paddingTop: '3%' }}>\n                <Split\n                  primary={\n                    <TextInput\n                      type='number'\n                      wide={true}\n                      value={this.state.collateralAmt}\n                      onChange={(event) => {\n                        this.setState({ collateralAmt: event.target.value });\n                      }}\n                    />\n                  }\n                  secondary={\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\n                      <Button\n                        wide={true}\n                        icon={<IconCirclePlus />}\n                        label='Add'\n                        onClick={() => {\n                          addETHCollateral(\n                            this.props.token,\n                            this.props.owner,\n                            this.state.collateralAmt\n                          );\n                        }}\n                      />\n                      <Button\n                        wide={true}\n                        icon={<IconCircleMinus />}\n                        label='Remove'\n                        disabled={!isOwner}\n                        onClick={() => {\n                          removeETHCollateral(this.props.token, this.state.collateralAmt);\n                        }}\n                      />\n                    </div>\n                  }\n                />\n              </div>\n            }\n            secondary={balanceBlock('ETH', this.state.vault.collateral)}\n            invert='horizontal'\n          />\n        </Box>\n\n        <Box heading={'Issued'}>\n          <Split\n            primary={\n              <div style={{ paddingTop: '3%' }}>\n                <Split\n                  primary={\n                    <TextInput\n                      type='number'\n                      wide={true}\n                      value={this.state.issueOrBurnAmt}\n                      onChange={(event) => {\n                        this.setState({ issueOrBurnAmt: event.target.value });\n                      }}\n                    />\n                  }\n                  secondary={\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\n                      <Button\n                        wide={true}\n                        icon={<IconCirclePlus />}\n                        label='Issue'\n                        disabled={!isOwner}\n                        onClick={() => {\n                          issueOToken(\n                            this.props.token,\n                            handleDecimals(this.state.issueOrBurnAmt, this.state.tokenDecimal)\n                          );\n                        }}\n                      />\n                      <Button\n                        wide={true}\n                        icon={<IconCircleMinus />}\n                        disabled={!isOwner}\n                        label='Burn'\n                        onClick={() => {\n                          burnOToken(\n                            this.props.token,\n                            handleDecimals(this.state.issueOrBurnAmt, this.state.tokenDecimal)\n                          );\n                        }}\n                      />\n                    </div>\n                  }\n                />\n              </div>\n            }\n            secondary={balanceBlock(\n              this.state.tokenSymbol,\n              this.state.vault.oTokensIssued\n                ? this.state.vault.oTokensIssued / 10 ** this.state.tokenDecimal\n                : 0\n            )}\n            invert='horizontal'\n          />\n        </Box>\n        <Box heading={'Exchange'}></Box>\n      </>\n    );\n  }\n}\n\nconst handleDecimals = (rawAmt, decimal) => {\n  return parseInt(rawAmt) * 10 ** decimal;\n};\n\nconst balanceBlock = (asset, balance) => {\n  let integer = '0',\n    digits = '0';\n  if (balance > 0) {\n    const str = balance.toString();\n    const split = str.split('.');\n    integer = split[0];\n    digits = split.length > 1 ? str.split('.')[1] : '0';\n  }\n\n  return (\n    <>\n      <div style={{ fontSize: 14, padding: 3 }}> {asset} </div>\n      <div style={{ padding: 3 }}>\n        <span style={{ fontSize: 24 }}>{integer}</span>.\n        <span style={{ fontSize: 18 }}> {digits} </span>\n        {/* {balance} */}\n      </div>\n    </>\n  );\n};\n\nexport default ManageVault;\n","import React from 'react';\n\nimport { useParams } from 'react-router-dom';\n\nimport ManageMyVault from './Manage'\n\nfunction ManageVault({user}) {\n  let { token, owner } = useParams();\n\n  return (\n    <>\n      <ManageMyVault owner={owner} user={user} token={token}/>\n    </>\n  );\n}\n\nexport default ManageVault;\n","import React from 'react'\n\nimport { Link } from '@aragon/ui'\n\nfunction Footer({theme}) {\n  var style = {\n    backgroundColor: theme === 'light' ? \"#F8F8F8\" : '#35425e' ,\n    textAlign: \"center\",\n    padding: \"17px\",\n    position: \"fixed\",\n    left: \"0\",\n    bottom: \"0\",\n    height: \"50px\",\n    width: \"100%\",\n    fontSize: \"12px\"\n  }\n\n  return (  \n    <div style={style}>\n      Powered By {' '}\n      <Link  external={true} href=\"https://opyn.co/#/\">Opyn</Link>{', '} \n      <Link  external={true} href=\"https://ui.aragon.org/\">Aragon UI</Link>{', '}  \n      <Link  external={true} href=\"https://www.blocknative.com/\">Blocknative</Link>{'. '}  \n      Hosted on <Link  external={true} href=\"https://github.com/antoncoding/opyn-liquidator\">GitHub</Link>.\n    </div>\n  )\n}\n\nexport default Footer","import React, { useState } from 'react';\n\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport NavBar from './components/NavBar';\nimport Dashboard from './components/Dashboard';\nimport TokenView from './components/TokenView';\nimport ManageVault from './components/ManageVault'\nimport Footer from './components/Footer';\nimport { Main } from '@aragon/ui';\n\nfunction App() {\n  const storedTheme = window.localStorage.getItem('theme') || 'light';\n\n  const [user, setUser] = useState(''); // the current connected user\n  const [theme, setTheme] = useState(storedTheme);\n\n  const updateTheme = (theme) => {\n    setTheme(theme);\n    window.localStorage.setItem('theme', theme);\n  };\n\n  return (\n    <Router>\n      <Main assetsUrl={`${process.env.PUBLIC_URL}/aragon-ui/`} theme={theme}>\n        <NavBar user={user} setUser={setUser} theme={theme} updateTheme={updateTheme} />\n\n        <Switch>\n          <Route path='/token/:addr' children={<TokenView user={user} />} />\n          <Route path='/manage/:token/:owner' children={<ManageVault user={user}/>} />\n          <Route path='/' children={<Dashboard />} />\n        </Switch>\n        <Footer theme={theme} />\n      </Main>\n    </Router>\n  );\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}