(this["webpackJsonpweb-liquidate"]=this["webpackJsonpweb-liquidate"]||[]).push([[2],{183:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"},{"name":"amt","type":"uint256"}],"name":"addERC20Collateral","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getVaultOwners","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"amount","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"hasVault","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isExerciseWindow","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"getVault","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"oTokensToIssue","type":"uint256"},{"name":"receiver","type":"address"}],"name":"issueOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"sender","type":"address"},{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addAndSellERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToRemove","type":"uint256"}],"name":"removeCollateral","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"liquidationFactor","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createAndSellETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"optionsExchange","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"oTokensToExercise","type":"uint256"},{"name":"vaultsToExerciseFrom","type":"address[]"}],"name":"exercise","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"collateralAmt","type":"uint256"}],"name":"maxOTokensIssuable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlying","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"oTokensToExercise","type":"uint256"}],"name":"underlyingRequiredToExercise","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"openVault","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"COMPOUND_ORACLE","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"liquidationIncentive","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"hasExpired","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"addETHCollateral","outputs":[{"name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"transactionFee","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"strike","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlyingExp","outputs":[{"name":"","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"collateralExp","outputs":[{"name":"","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oTokenExchangeRate","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"redeemVaultBalance","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"}],"name":"setDetails","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"minCollateralizationRatio","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"},{"name":"oTokensToLiquidate","type":"uint256"}],"name":"liquidate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"strikePrice","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createAndSellERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"isUnsafe","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addAndSellETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"collateral","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"maxOTokensLiquidatable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"expiry","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_address","type":"address"}],"name":"transferFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToBurn","type":"uint256"}],"name":"burnOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_liquidationIncentive","type":"uint256"},{"name":"_liquidationFactor","type":"uint256"},{"name":"_transactionFee","type":"uint256"},{"name":"_minCollateralizationRatio","type":"uint256"}],"name":"updateParameters","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_ierc20","type":"address"}],"name":"isETH","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[],"name":"removeUnderlying","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_collateral","type":"address"},{"name":"_collExp","type":"int32"},{"name":"_underlying","type":"address"},{"name":"_underlyingExp","type":"int32"},{"name":"_oTokenExchangeExp","type":"int32"},{"name":"_strikePrice","type":"uint256"},{"name":"_strikeExp","type":"int32"},{"name":"_strike","type":"address"},{"name":"_expiry","type":"uint256"},{"name":"_optionsExchange","type":"address"},{"name":"_oracleAddress","type":"address"},{"name":"_windowSize","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"VaultOpened","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"payer","type":"address"}],"name":"ETHCollateralAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"payer","type":"address"}],"name":"ERC20CollateralAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"issuedTo","type":"address"},{"indexed":false,"name":"oTokensIssued","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"IssuedOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtCollateralToPay","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"liquidator","type":"address"}],"name":"Liquidate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtUnderlyingToPay","type":"uint256"},{"indexed":false,"name":"amtCollateralToPay","type":"uint256"},{"indexed":false,"name":"exerciser","type":"address"},{"indexed":false,"name":"vaultExercisedFrom","type":"address"}],"name":"Exercise","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtCollateralRedeemed","type":"uint256"},{"indexed":false,"name":"amtUnderlyingRedeemed","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RedeemVaultBalance","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"oTokensBurned","type":"uint256"}],"name":"BurnOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtRemoved","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RemoveCollateral","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"liquidationIncentive","type":"uint256"},{"indexed":false,"name":"liquidationFactor","type":"uint256"},{"indexed":false,"name":"transactionFee","type":"uint256"},{"indexed":false,"name":"minCollateralizationRatio","type":"uint256"},{"indexed":false,"name":"owner","type":"address"}],"name":"UpdateParameters","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"to","type":"address"},{"indexed":false,"name":"fees","type":"uint256"}],"name":"TransferFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amountUnderlying","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RemoveUnderlying","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}]')},184:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"oTokenAddress","type":"address"},{"name":"payoutTokenAddress","type":"address"},{"name":"oTokensToSell","type":"uint256"}],"name":"premiumReceived","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"receiver","type":"address"},{"name":"oTokenAddress","type":"address"},{"name":"payoutTokenAddress","type":"address"},{"name":"oTokensToSell","type":"uint256"}],"name":"sellOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"receiver","type":"address"},{"name":"oTokenAddress","type":"address"},{"name":"paymentTokenAddress","type":"address"},{"name":"oTokensToBuy","type":"uint256"}],"name":"buyOTokens","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"oTokenAddress","type":"address"},{"name":"paymentTokenAddress","type":"address"},{"name":"oTokensToBuy","type":"uint256"}],"name":"premiumToPay","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"UNISWAP_FACTORY","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"paymentToken","type":"address"},{"name":"oToken","type":"address"},{"name":"_amt","type":"uint256"},{"name":"_transferTo","type":"address"}],"name":"uniswapBuyOToken","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_uniswapFactory","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"seller","type":"address"},{"indexed":false,"name":"receiver","type":"address"},{"indexed":false,"name":"oTokenAddress","type":"address"},{"indexed":false,"name":"payoutTokenAddress","type":"address"},{"indexed":false,"name":"oTokensToSell","type":"uint256"}],"name":"SellOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"buyer","type":"address"},{"indexed":false,"name":"receiver","type":"address"},{"indexed":false,"name":"oTokenAddress","type":"address"},{"indexed":false,"name":"paymentTokenAddress","type":"address"},{"indexed":false,"name":"oTokensToBuy","type":"uint256"},{"indexed":false,"name":"premiumPaid","type":"uint256"}],"name":"BuyOTokens","type":"event"}]')},201:function(e,t,a){e.exports=a(463)},206:function(e,t,a){},216:function(e,t){},225:function(e,t){},240:function(e,t){},242:function(e,t){},268:function(e,t){},286:function(e,t){},288:function(e,t){},317:function(e,t){},319:function(e,t){},320:function(e,t){},326:function(e,t){},328:function(e,t){},345:function(e,t){},348:function(e,t){},364:function(e,t){},367:function(e,t){},372:function(e,t){},386:function(e,t){},387:function(e,t){},389:function(e,t){},456:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"getPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"PriceOracle","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"isCETH","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_oracleAddress","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]')},457:function(e){e.exports=JSON.parse('[{"name":"TokenPurchase","inputs":[{"type":"address","name":"buyer","indexed":true},{"type":"uint256","name":"eth_sold","indexed":true},{"type":"uint256","name":"tokens_bought","indexed":true}],"anonymous":false,"type":"event"},{"name":"EthPurchase","inputs":[{"type":"address","name":"buyer","indexed":true},{"type":"uint256","name":"tokens_sold","indexed":true},{"type":"uint256","name":"eth_bought","indexed":true}],"anonymous":false,"type":"event"},{"name":"AddLiquidity","inputs":[{"type":"address","name":"provider","indexed":true},{"type":"uint256","name":"eth_amount","indexed":true},{"type":"uint256","name":"token_amount","indexed":true}],"anonymous":false,"type":"event"},{"name":"RemoveLiquidity","inputs":[{"type":"address","name":"provider","indexed":true},{"type":"uint256","name":"eth_amount","indexed":true},{"type":"uint256","name":"token_amount","indexed":true}],"anonymous":false,"type":"event"},{"name":"Transfer","inputs":[{"type":"address","name":"_from","indexed":true},{"type":"address","name":"_to","indexed":true},{"type":"uint256","name":"_value","indexed":false}],"anonymous":false,"type":"event"},{"name":"Approval","inputs":[{"type":"address","name":"_owner","indexed":true},{"type":"address","name":"_spender","indexed":true},{"type":"uint256","name":"_value","indexed":false}],"anonymous":false,"type":"event"},{"name":"setup","outputs":[],"inputs":[{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":175875},{"name":"addLiquidity","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"min_liquidity"},{"type":"uint256","name":"max_tokens"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":true,"type":"function","gas":82605},{"name":"removeLiquidity","outputs":[{"type":"uint256","name":"out"},{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"amount"},{"type":"uint256","name":"min_eth"},{"type":"uint256","name":"min_tokens"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":false,"type":"function","gas":116814},{"name":"__default__","outputs":[],"inputs":[],"constant":false,"payable":true,"type":"function"},{"name":"ethToTokenSwapInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"min_tokens"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":true,"type":"function","gas":12757},{"name":"ethToTokenTransferInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"min_tokens"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"}],"constant":false,"payable":true,"type":"function","gas":12965},{"name":"ethToTokenSwapOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":true,"type":"function","gas":50455},{"name":"ethToTokenTransferOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"}],"constant":false,"payable":true,"type":"function","gas":50663},{"name":"tokenToEthSwapInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_eth"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":false,"type":"function","gas":47503},{"name":"tokenToEthTransferInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_eth"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"}],"constant":false,"payable":false,"type":"function","gas":47712},{"name":"tokenToEthSwapOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"eth_bought"},{"type":"uint256","name":"max_tokens"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":false,"type":"function","gas":50175},{"name":"tokenToEthTransferOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"eth_bought"},{"type":"uint256","name":"max_tokens"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"}],"constant":false,"payable":false,"type":"function","gas":50384},{"name":"tokenToTokenSwapInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_tokens_bought"},{"type":"uint256","name":"min_eth_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":51007},{"name":"tokenToTokenTransferInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_tokens_bought"},{"type":"uint256","name":"min_eth_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"},{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":51098},{"name":"tokenToTokenSwapOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"max_tokens_sold"},{"type":"uint256","name":"max_eth_sold"},{"type":"uint256","name":"deadline"},{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":54928},{"name":"tokenToTokenTransferOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"max_tokens_sold"},{"type":"uint256","name":"max_eth_sold"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"},{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":55019},{"name":"tokenToExchangeSwapInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_tokens_bought"},{"type":"uint256","name":"min_eth_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"exchange_addr"}],"constant":false,"payable":false,"type":"function","gas":49342},{"name":"tokenToExchangeTransferInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_tokens_bought"},{"type":"uint256","name":"min_eth_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"},{"type":"address","name":"exchange_addr"}],"constant":false,"payable":false,"type":"function","gas":49532},{"name":"tokenToExchangeSwapOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"max_tokens_sold"},{"type":"uint256","name":"max_eth_sold"},{"type":"uint256","name":"deadline"},{"type":"address","name":"exchange_addr"}],"constant":false,"payable":false,"type":"function","gas":53233},{"name":"tokenToExchangeTransferOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"max_tokens_sold"},{"type":"uint256","name":"max_eth_sold"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"},{"type":"address","name":"exchange_addr"}],"constant":false,"payable":false,"type":"function","gas":53423},{"name":"getEthToTokenInputPrice","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"eth_sold"}],"constant":true,"payable":false,"type":"function","gas":5542},{"name":"getEthToTokenOutputPrice","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"}],"constant":true,"payable":false,"type":"function","gas":6872},{"name":"getTokenToEthInputPrice","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"}],"constant":true,"payable":false,"type":"function","gas":5637},{"name":"getTokenToEthOutputPrice","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"eth_bought"}],"constant":true,"payable":false,"type":"function","gas":6897},{"name":"tokenAddress","outputs":[{"type":"address","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1413},{"name":"factoryAddress","outputs":[{"type":"address","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1443},{"name":"balanceOf","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"address","name":"_owner"}],"constant":true,"payable":false,"type":"function","gas":1645},{"name":"transfer","outputs":[{"type":"bool","name":"out"}],"inputs":[{"type":"address","name":"_to"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":75034},{"name":"transferFrom","outputs":[{"type":"bool","name":"out"}],"inputs":[{"type":"address","name":"_from"},{"type":"address","name":"_to"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":110907},{"name":"approve","outputs":[{"type":"bool","name":"out"}],"inputs":[{"type":"address","name":"_spender"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":38769},{"name":"allowance","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"address","name":"_owner"},{"type":"address","name":"_spender"}],"constant":true,"payable":false,"type":"function","gas":1925},{"name":"name","outputs":[{"type":"bytes32","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1623},{"name":"symbol","outputs":[{"type":"bytes32","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1653},{"name":"decimals","outputs":[{"type":"uint256","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1683},{"name":"totalSupply","outputs":[{"type":"uint256","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1713}]')},458:function(e){e.exports=JSON.parse('[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"invokeTo","type":"address"},{"indexed":false,"internalType":"uint256","name":"invokeValue","type":"uint256"},{"indexed":false,"internalType":"bytes32","name":"invokeDataHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"underlyingAmount","type":"uint256"}],"name":"Invocation","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"poolReward","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"platformReward","type":"uint256"},{"indexed":false,"internalType":"address","name":"tokenAddress","type":"address"}],"name":"Reward","type":"event"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"constant":true,"inputs":[],"name":"currentRepaymentAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"currentSender","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"currentTokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"currentTokenAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"estimateRepaymentAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"invokeTo","type":"address"},{"internalType":"bytes","name":"invokeData","type":"bytes"},{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"invoke","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[],"name":"invokeCallback","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"}],"name":"isTokenAddressRegistered","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"}],"name":"liquidityProxies","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"platformReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"platformVaultAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"poolReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"}],"name":"poolRewardAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"removeStuckTokens","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"address[]","name":"liquidityProxies","type":"address[]"}],"name":"setLiquidityProxies","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"platformRewardBips","type":"uint256"}],"name":"setPlatformReward","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"platformVaultAddress","type":"address"}],"name":"setPlatformVaultAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"poolRewardBips","type":"uint256"}],"name":"setPoolReward","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"address","name":"poolRewardAddress","type":"address"}],"name":"setPoolRewardAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"}],"name":"totalLiquidity","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},463:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(38),i=a.n(s),l=(a(206),a(5)),o=a(22),u=a(30),c=a(2),p=a(3),d=a.n(p),m=a(6),y=a(37),f=a.n(y),b=a(4),v=a.n(b),h=a(185),w=a(186),E=Object(w.a)({dappId:"2240560c-7680-45d0-bd1c-34c032e00ccd",networkId:1}),x=a(189),g=a.n(x),k=a(183),O=a(184),T=a(456),C=new f.a("https://mainnet.infura.io/v3/".concat("c978e1072d0741728c4adce5ede172c1")),j=new g.a(C),S="0x0000000000000000000000000000000000000000",A=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("infura resolve ETNS"),e.next=3,j.resolver(t).addr();case 3:return a=e.sent,e.abrupt("return",a.toLowerCase());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a){e.next=2;break}return e.abrupt("return","0");case 2:return console.log("infura getTokenBalance ".concat(t," for ").concat(a)),n=new C.eth.Contract(k,t),e.next=6,n.methods.balanceOf(a).call();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("get total supply"),a=new C.eth.Contract(k,t),e.next=4,a.methods.totalSupply().call();case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("infura getMaxLiquidatable ".concat(t)),n=new C.eth.Contract(k,t),e.next=4,n.methods.maxOTokensLiquidatable(a).call();case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("infura getUnderlyingRequiredToExercise ".concat(t)),n=new C.eth.Contract(k,t),e.next=4,n.methods.underlyingRequiredToExercise(a).call();case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("infura get Allowance"),r=new C.eth.Contract(k,t),e.next=4,r.methods.allowance(a,n).call();case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return","0");case 2:return console.log("infura getBalance ".concat(t)),e.next=5,C.eth.getBalance(t);case 5:return a=e.sent,e.abrupt("return",C.utils.fromWei(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("infura getPrice ".concat(a)),n=new C.eth.Contract(T,t),e.next=4,n.methods.getPrice(a).call();case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var r,s,i,l=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>3&&void 0!==l[3]?l[3]:S,console.log("infura getPremiumToPay"),s=new C.eth.Contract(O,t),e.next=5,s.methods.premiumToPay(a,r,n).call();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("infura getPremiumReceived"),r=new C.eth.Contract(O,t),S,e.next=5,r.methods.premiumReceived(a,"0x0000000000000000000000000000000000000000",n).call();case 5:return s=e.sent,e.abrupt("return",C.utils.fromWei(s));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();function H(e,t){return localStorage.getItem(e)||t}function N(e,t){localStorage.setItem(e,t)}function L(e){var t=H("watch_addresses","[]"),a=JSON.parse(t);a.includes(e.toLowerCase())||a.includes(e)||(a.push(e),N("watch_addresses",JSON.stringify(a)))}var U,V="0x0000000000000000000000000000000000000000",z="0x0000000000000000000000000000000000000001",W=a(183),$=a(184),J=a(457),Y=a(458),K="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",G=Object(h.a)({darkMode:"dark"===H("theme","light"),dappId:"2240560c-7680-45d0-bd1c-34c032e00ccd",networkId:1,subscriptions:{wallet:function(e){U=new f.a(e.provider)}},walletSelect:{description:"Please select a wallet to connect to Opyn Monitor",wallets:[{walletName:"metamask"},{walletName:"walletConnect",infuraKey:"c978e1072d0741728c4adce5ede172c1"},{walletName:"fortmatic",apiKey:"pk_live_2B9ACA8AB26458D8"},{walletName:"trust"},{walletName:"coinbase"},{walletName:"status"}]}}),Z=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="dark"===t,G.config({darkMode:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.walletSelect();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,G.walletCheck();case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",G.getState().address);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.walletReset();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,e.next=4,G.walletCheck();case 4:t=e.sent,e.next=14;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,G.walletSelect();case 11:return e.next=13,G.walletCheck();case 13:t=e.sent;case 14:if(e.prev=14,!t){e.next=17;break}return e.abrupt("return",G.getState().address);case 17:return e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[1,7,14,18]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return r=e.sent,s=new U.eth.Contract(W,t),e.next=6,s.methods.liquidate(a,n).send({from:r}).on("transactionHash",(function(e){E.hash(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n,r){var s,i,l,o,u,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return s=e.sent,i=new U.eth.Contract(W,t),e.next=6,i.methods.maxOTokensLiquidatable(n).call();case 6:if(l=e.sent,!new v.a(l).lte(new v.a(0))){e.next=9;break}throw new Error("Nothing to liquidate");case 9:return e.next=11,D(a,t,l,r===z?V:r);case 11:return o=e.sent,u=new U.eth.Contract(Y,"0x06d1f34fd7c055ae5ca39aa8c6a8e10100a45c01"),c=U.eth.abi.encodeParameters(["address","address"],[n,t]),e.next=16,u.methods.invoke("0xfBaB30f79bbbC92C708E7e9b01E329e003d8Ce48",c,r,o).send({from:s}).on("transactionHash",(function(e){E.hash(e)}));case 16:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),ne=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return n=e.sent,r=new U.eth.Contract(W,t),e.next=6,r.methods.burnOTokens(a).send({from:n}).on("transactionHash",(function(e){E.hash(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),re=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return n=e.sent,r=new U.eth.Contract(W,t),e.next=6,r.methods.issueOTokens(a,n).send({from:n}).on("transactionHash",(function(e){E.hash(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),se=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return r=e.sent,s=new U.eth.Contract(W,t),e.next=6,s.methods.addETHCollateral(a).send({from:r,value:U.utils.toWei(n.toString())}).on("transactionHash",(function(e){E.hash(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n,r){var s,i,l,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new v.a(r),e.next=3,ee();case 3:return i=e.sent,l=new U.eth.Contract(W,a),e.next=7,I(t,i,a);case 7:if(o=e.sent,!new v.a(o).lt(s)){e.next=12;break}return u=new U.eth.Contract(W,t),e.next=12,u.methods.approve(a,K).send({from:i}).on("transactionHash",(function(e){E.hash(e)}));case 12:return e.next=14,l.methods.addERC20Collateral(n,s.toString()).send({from:i}).on("transactionHash",(function(e){E.hash(e)}));case 14:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),le=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:if(r=e.sent,s=new U.eth.Contract(W,a),t!==V){e.next=9;break}return e.next=7,s.methods.removeCollateral(n).send({from:r}).on("transactionHash",(function(e){E.hash(e)}));case 7:e.next=11;break;case 9:return e.next=11,s.methods.removeCollateral(n).send({from:r}).on("transactionHash",(function(e){E.hash(e)}));case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return a=e.sent,n=new U.eth.Contract(W,t),e.next=6,n.methods.redeemVaultBalance().send({from:a}).on("transactionHash",(function(e){E.hash(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return a=e.sent,n=new U.eth.Contract(W,t),e.next=6,n.methods.removeUnderlying().send({from:a}).on("transactionHash",(function(e){E.hash(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return r=e.sent,s=new U.eth.Contract(W,t),e.next=6,s.methods.approve(a,n).send({from:r}).on("transactionHash",(function(e){E.hash(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n,r){var s,i,l,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return s=e.sent,i=new U.eth.Contract(W,t),e.next=6,i.methods.underlyingRequiredToExercise(n).call();case 6:if(l=e.sent,o=a===V){e.next=15;break}return e.next=11,I(a,s,t);case 11:if(u=e.sent,!new v.a(u).lt(new v.a(l))){e.next=15;break}return e.next=15,ce(a,t,K);case 15:return e.next=17,i.methods.exercise(n,r).send({from:s,value:o?l:"0"}).on("transactionHash",(function(e){E.hash(e)}));case 17:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),de=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return a=e.sent,n=new U.eth.Contract(W,t),e.next=6,n.methods.openVault().send({from:a}).on("transactionHash",(function(e){E.hash(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n,r){var s,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:if(s=e.sent,i=new U.eth.Contract(W,t),a!==V){e.next=9;break}return e.next=7,i.methods.createETHCollateralOption(r,s).send({from:s,value:n}).on("transactionHash",(function(e){E.hash(e)}));case 7:e.next=17;break;case 9:return e.next=11,I(a,s,t);case 11:if(l=e.sent,!new v.a(l).lt(new v.a(n))){e.next=15;break}return e.next=15,ce(a,t,K);case 15:return e.next=17,i.methods.createERC20CollateralOption(r,n,s).send({from:s}).on("transactionHash",(function(e){E.hash(e)}));case 17:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),ye=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n,r){var s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return s=e.sent,i=new U.eth.Contract($,a),e.next=6,i.methods.buyOTokens(s,t,"0x0000000000000000000000000000000000000000",n).send({from:s,value:r}).on("transactionHash",(function(e){E.hash(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),fe=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var r,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return r=e.sent,e.next=5,I(t,r,a);case 5:if(s=e.sent,!new v.a(s).lt(new v.a(n))){e.next=9;break}return e.next=9,ce(t,a,K);case 9:return i=new U.eth.Contract($,a),e.next=12,i.methods.sellOTokens(r,t,"0x0000000000000000000000000000000000000000",n).send({from:r}).on("transactionHash",(function(e){E.hash(e)}));case 12:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n,r,s){var i,l,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return i=e.sent,e.next=5,I(t,i,a);case 5:if(l=e.sent,!new v.a(l).lt(new v.a(n))){e.next=9;break}return e.next=9,ce(t,a,K);case 9:return o=new U.eth.Contract(J,a),u=Math.ceil(Date.now()/1e3)+900,e.next=13,o.methods.addLiquidity(r,n,u).send({from:i,value:s}).on("transactionHash",(function(e){E.hash(e)}));case 13:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),ve=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n,r){var s,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return s=e.sent,i=new U.eth.Contract(J,t),l=Math.ceil(Date.now()/1e3)+900,e.next=7,i.methods.removeLiquidity(a,n,r,l).send({from:s}).on("transactionHash",(function(e){E.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}();var he=function(e){var t=e.user,a=e.setUser,s=Object(n.useState)(!1),i=Object(l.a)(s,2),o=i[0],u=i[1],p=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:if(!1!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:u(!0),a(t),L(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:u(!1),a("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{paddingTop:5,paddingRight:5}},r.a.createElement(c.u,{onClick:y,size:"small"}," ",r.a.createElement(c.p,null)," ")),r.a.createElement(c.c,{padding:6},r.a.createElement(c.s,{entity:t}))):r.a.createElement(c.d,{icon:r.a.createElement(c.m,null),label:"Connect",onClick:p})};var we=function(e){var t=e.theme,a=e.updateTheme;return r.a.createElement(c.d,{icon:"dark"===t?r.a.createElement(c.q,null):r.a.createElement(c.r,null),onClick:function(){a("light"===t?"dark":"light")},label:"Theme"})};function Ee(e){var t=e.title,a=e.onClick,n=e.isSelected,s=void 0!==n&&n;return r.a.createElement("div",{style:{paddingLeft:40}},r.a.createElement(c.u,{onClick:a},r.a.createElement("div",{style:{padding:"1%",opacity:s?1:.5,fontSize:17}},t)))}var xe=function(e){var t=e.theme,a=e.updateTheme,s=e.user,i=e.setUser,o=Object(u.f)(),p=Object(n.useState)(!0),d=Object(l.a)(p,2),m=d[0],y=d[1];return Object(n.useEffect)((function(){var e="/"===o.location.pathname;y(e)}),[o.location.pathname]),r.a.createElement(c.b,{primary:m?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(c.a,{onClick:function(){o.goBack()}})),r.a.createElement(Ee,{title:"Home",onClick:function(){o.push("/")},isSelected:"/"===o.location.pathname}),r.a.createElement(Ee,{title:"My Vaults",onClick:function(){o.push("/myvaults/")},isSelected:"/myvaults/"===o.location.pathname}),r.a.createElement(Ee,{title:"All Contracts",onClick:function(){o.push("/options/")},isSelected:"/options/"===o.location.pathname}),r.a.createElement(Ee,{title:"Trade",onClick:function(){o.push("/trade/")},isSelected:"/trade/"===o.location.pathname})),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(he,{user:s,setUser:i}),r.a.createElement(we,{theme:t,updateTheme:a}))})};function ge(e){var t=e.title,a=e.description,n=e.iconUrl,s=e.onClick;return r.a.createElement(c.u,{onClick:s,style:{width:"100%"}},r.a.createElement(c.c,null,r.a.createElement("div",{style:{padding:10,fontSize:18}},t),r.a.createElement("img",{alt:"icon",style:{padding:10,height:64},src:n}),r.a.createElement("div",{style:{paddingTop:5,opacity:.5}}," ",a," ")))}var ke=function(){var e=Object(u.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.j,{primary:"Welcome to Opyn Monitor"}),r.a.createElement("div",{style:{padding:5,opacity:.5}}," Tools for DeFi Risk Management. "),r.a.createElement("div",{style:{padding:"1%",display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:"30%",marginRight:"3%"}},r.a.createElement(ge,{title:"My Vaults",description:"Manage collateral, Mint/Burn oTokens",iconUrl:"https://opyn.co/static/media/1.68813886.svg",onClick:function(){e.push("/myvaults")}})),r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(ge,{title:"All Contracts",description:" Monitor and liquidate vaults.",iconUrl:"https://opyn.co/static/media/2.18d22be0.svg",onClick:function(){e.push("/options/")}})),r.a.createElement("div",{style:{width:"30%",marginLeft:"3%"}},r.a.createElement(ge,{title:"Trade",description:"Buy, Sell or Provided Liquidity.",iconUrl:"https://opyn.co/static/media/3.4da8b24d.svg",onClick:function(){e.push("./trade")}}))))},Oe=[],Te={addr:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",decimals:6,symbol:"USDC"},Ce={addr:"0x0000000000000000000000000000000000000000",decimals:18,symbol:"ETH"},je={addr:"0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643",decimals:8,symbol:"cDai"},Se=[{addr:"0x48ab8a7d3bf2eb942e153e4275ae1a8988238dc7",title:"ETH Put $100 04/03/20",symbol:"oETH $100 Put",name:"Opyn ETH Put $100 04/03/20",decimals:8,oracle:"0x7054e08461e3eCb7718B63540adDB3c3A1746415",collateral:Te,underlying:Ce,strike:Te,strikePrice:1e-6,minRatio:1,exchange:"0x39246c4f3f6592c974ebc44f80ba6dc69b817c71",uniswapExchange:"0x30651Fc7F912f5E40AB22F3D34C2159431Fb1c4F",expiry:1585958340},{addr:"0x6c79f10543c7886c6946b8a996f824e474bac8f2",title:"ETH Put $100 04/24/20",symbol:"oETH $100 Put",name:"Opyn ETH Put $100 04/24/20",decimals:8,oracle:"0x7054e08461e3eCb7718B63540adDB3c3A1746415",collateral:Te,underlying:Ce,strike:Te,strikePrice:1e-6,minRatio:1,exchange:"0x39246c4f3f6592c974ebc44f80ba6dc69b817c71",uniswapExchange:"0x5734a78b1985B47dF3fbf1736c278F57c2C30983",expiry:1587715200},{addr:"0xaefc7b368f7b536c9e5e3f342bf534931ce58584",title:"ETH Put $150 04/24/20",symbol:"oETH $150 Put",name:"Opyn ETH Put $150 04/24/20",decimals:7,oracle:"0x7054e08461e3eCb7718B63540adDB3c3A1746415",collateral:Te,underlying:Ce,strike:Te,strikePrice:15e-6,minRatio:1,exchange:"0x39246c4f3f6592c974ebc44f80ba6dc69b817c71",uniswapExchange:"0xD2840757B0DeF8fBC2A7DC990CEF75975C2d3F0e",expiry:1587715200},{addr:"0x461cd647add2159e85ad57141cb5371566fceed3",title:"ETH Put $160 05/01/20",symbol:"oETH $160 Put",name:"Opyn ETH Put $160 05/01/20",decimals:7,oracle:"0x7054e08461e3eCb7718B63540adDB3c3A1746415",collateral:Te,underlying:Ce,strike:Te,strikePrice:16e-6,minRatio:1,exchange:"0x39246c4f3f6592c974ebc44f80ba6dc69b817c71",uniswapExchange:"0xd03f7298aE74a8618711Ec43F45Ad2225F141aa4",expiry:158832e4}],Ae=[{title:"cDai Insurance",addr:"0x98cc3bd6af1880fcfda17ac477b2f612980e5e33",symbol:"ocDai",name:"Opyn cDai Insurance",decimals:8,oracle:"0x7054e08461e3eCb7718B63540adDB3c3A1746415",collateral:Ce,underlying:je,strike:Te,strikePrice:1.859e-10,minRatio:1.4,exchange:"0x5778f2824a114f6115dc74d432685d3336216017",uniswapExchange:"0xA6923533A6362008e9b536271C2Bdc0FF1467D3c",expiry:1612915200},{addr:"0x8ed9f862363ffdfd3a07546e618214b6d59f03d4",title:"cUSDC Insurance",symbol:"ocUSDC",name:"Opyn cUSDC Insurance",decimals:8,oracle:"0x7054e08461e3eCb7718B63540adDB3c3A1746415",collateral:Ce,underlying:{addr:"0x39AA39c021dfbaE8faC545936693aC917d5E7563",decimals:8,symbol:"cUSDC"},strike:Te,strikePrice:2.08e-10,minRatio:1.4,exchange:"0x5778f2824a114f6115dc74d432685d3336216017",uniswapExchange:"0xE3A0a2431a093fed99037987eD0A88550e5E79AA",expiry:1612915200},{addr:"0x4ba8c6ce0e855c051e65dfc37883360efaf7c82b",title:"y.curve.fi Insurance",symbol:"oCRV",name:"Opyn y.curve.fi Insurance",decimals:8,oracle:"0x7054e08461e3eCb7718B63540adDB3c3A1746415",collateral:Ce,underlying:{addr:"0xdF5e0e81Dff6FAF3A7e52BA697820c5e32D806A8",decimals:18,symbol:"yDAI+yUSDC+yUSDT+yTUSD"},strike:Te,strikePrice:92e-17,minRatio:1.6,exchange:"0x5778f2824a114f6115dc74d432685d3336216017",uniswapExchange:"0x21f5E9D4Ec20571402A5396084B1634314A68c97",expiry:158544e4},{addr:"0xddac4aed7c8f73032b388efe2c778fc194bc81ed",title:"cDai Insurance (Old)",symbol:"ocDai",name:"Opyn cDai Insurance ",decimals:8,oracle:"0x7054e08461e3eCb7718B63540adDB3c3A1746415",collateral:Ce,underlying:je,strike:Te,strikePrice:2e-10,minRatio:1.4,exchange:"0x5778f2824a114f6115dc74d432685d3336216017",uniswapExchange:"0x8a0976500EED661202810bAB030a057DF15c4CC9",expiry:1612915200}],Me=Oe.concat(Se),_e=Ae.concat(Oe).concat(Se);var Pe=function(e){var t=e.label,a=e.address;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{fontSize:16,padding:3}},t),r.a.createElement("div",{style:{padding:5}},r.a.createElement(c.s,{entity:a,shorten:!0})))};var Fe=function(e){var t=e.asset,a=e.balance,n="0",s="0";if(new v.a(a).gt(new v.a(0))){var i=new v.a(a).toString(),l=i.split(".");n=l[0],s=l.length>1?i.split(".")[1]:"0"}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{fontSize:14,padding:3}},t),r.a.createElement("div",{style:{padding:3}},r.a.createElement("span",{style:{fontSize:24}},n),".",r.a.createElement("span",{style:{fontSize:18}}," ",s," ")))};function Ie(e){var t=e.isSafe,a=e.ratio,n=e.useCollateral;return void 0===n||n?t?a<1.6?r.a.createElement(c.z,{background:"#FFEBAD",color:"#FEC100"}," ","Danger"," "):r.a.createElement(c.z,{mode:"new"}," safe "):r.a.createElement(c.z,{color:"#E34343",background:"#FFC6C6"},"Unsafe!"):r.a.createElement(c.z,{color:"#78827a",background:"#c0c2c0"},"Cool")}Ie.defaultProps={useCollateral:!0};var Re=Ie;var Be=function(e){var t=e.title;return r.a.createElement("div",{style:{padding:10,fontSize:20}},t)};var De=function(e){var t=e.onClick;return r.a.createElement("div",{style:{padding:3}},r.a.createElement(c.e,{onClick:t},r.a.createElement("span",{style:{opacity:.5}}," Max ")))};var qe=function(e){var t=e.label,a=e.amt;return parseFloat(a)>0?r.a.createElement("div",{style:{padding:3,opacity:.5}},r.a.createElement("span",{style:{fontSize:13}},t),r.a.createElement("span",{style:{fontSize:13}},parseFloat(a).toFixed(5))):r.a.createElement("div",{style:{padding:3,opacity:.5}})};function He(e){var t=e.label,a=e.amt,n=e.symbol,s=void 0===n?"":n,i=e.forceDisplay,l=void 0!==i&&i,o=new v.a(a);return o.gt(new v.a(0))||l?r.a.createElement("div",{style:{padding:3,opacity:.5}},r.a.createElement("span",{style:{fontSize:13}},t),r.a.createElement("span",{style:{fontSize:13}},o.toNumber().toFixed(5)),r.a.createElement("span",{style:{fontSize:13}},s)):r.a.createElement("div",{style:{padding:3,opacity:.5}})}He.defaultProps={symbol:"",forceDisplay:!1};var Ne=He;var Le=function(e){var t=e.text;return r.a.createElement("div",{style:{padding:5,opacity:.5}},t)};function Ue(e){var t=e.oToken,a=e.owner,n=Object(u.f)();return r.a.createElement(c.d,{onClick:function(){n.push("/manage/".concat(t,"/").concat(a))},label:"Manage"})}function Ve(e){var t=e.oToken,a=e.user,n=e.goToMangePage,s=void 0===n||n,i=Object(u.f)(),l=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t);case 2:s&&i.push("/manage/".concat(t,"/").concat(a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(c.d,{onClick:function(){return l(t)},label:"Open"})}Ve.defaultProps={goToMangePage:!0};var ze=a(194),We=a(1);function $e(){var e=Object(ze.a)(["{\n  padding: 5px;\n  font-size: 14px;\n  color: ","\n}"]);return $e=function(){return e},e}var Je=function(e){var t=e.text,a=e.checked,n=e.onCheck,s=Object(c.D)();return r.a.createElement(Ye,{theme:s},r.a.createElement(c.g,{checked:a,onChange:n}),r.a.createElement("span",{style:{paddingBottom:"5px"}},t),r.a.createElement("br",null))},Ye=We.c.div($e(),(function(e){return e.theme.surfaceContentSecondary})),Ke=a(99);Ke.a.initialize("UA-159329688-1");var Ge=Ke.a;var Ze=function(){Ge.pageview("/options/");var e=H("optionTab","0"),t=H("showExpired","0"),a=Object(n.useState)(parseInt(e,10)),s=Object(l.a)(a,2),i=s[0],o=s[1],p=Object(n.useState)("1"===t),d=Object(l.a)(p,2),m=d[0],y=d[1],f=Object(u.f)(),b=function(e){f.push("/option/".concat(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.j,{primary:"All Contracts"}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Le,{text:"Choose an option contract to proceed."}),r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(Je,{text:"Expired",onCheck:function(e){N("showExpired",e?"1":"0"),y(e)},checked:m}))),r.a.createElement(c.y,{items:["DeFi Insurance","ETH Options"],selected:i,onChange:function(e){o(e),N("optionTab",e.toString())}}),0===i?r.a.createElement(c.h,{fields:["Name","Contract",""],entries:Ae.filter((function(e){return m||1e3*e.expiry>Date.now()})),entriesPerPage:6,renderEntry:function(e){var t=e.addr,a=e.title;return[r.a.createElement(r.a.Fragment,null,a),r.a.createElement(c.s,{entity:t,shorten:!1}),r.a.createElement(c.d,{onClick:function(){return b(t)}}," View Vaults ")]}}):r.a.createElement(c.h,{header:"Options",fields:["Name","Contract","Expiry",""],entries:Me.filter((function(e){return m||1e3*e.expiry>Date.now()})),entriesPerPage:6,renderEntry:function(e){var t=e.addr,a=e.title,n=e.expiry;return[r.a.createElement(r.a.Fragment,null,a),r.a.createElement(c.s,{entity:t,shorten:!1}),new Date(parseInt(1e3*n,10)).toDateString(),r.a.createElement(c.d,{onClick:function(){return b(t)}}," View Vaults ")]}}))};var Qe=function(){var e=Object(u.f)();Ge.pageview("/trade/");var t=function(t){e.push("/trade/".concat(t))},a=Object(n.useState)("1"===H("showExpired","0")),s=Object(l.a)(a,2),i=s[0],o=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.j,{primary:"Trade"}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Le,{text:"Buy or Sell DeFi Insurance"}),r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(Je,{text:"Expired",checked:i,onCheck:function(e){N("showExpired",e?"1":"0"),o(e)}}))),r.a.createElement(c.h,{fields:["Name","Contract",""],entries:Ae.filter((function(e){return i||1e3*e.expiry>Date.now()})),entriesPerPage:6,renderEntry:function(e){var a=e.addr,n=e.title;return[r.a.createElement(r.a.Fragment,null,n),r.a.createElement(c.s,{entity:a,shorten:!1}),r.a.createElement(c.d,{onClick:function(){return t(a)}}," Start Trading ")]}}),r.a.createElement("br",null),r.a.createElement(Le,{text:"Trade Options"}),r.a.createElement(c.h,{fields:["Name","Contract",""],entries:Me.filter((function(e){return i||1e3*e.expiry>Date.now()})),entriesPerPage:6,renderEntry:function(e){var a=e.addr,n=e.title;return[r.a.createElement(r.a.Fragment,null,n),r.a.createElement(c.s,{entity:a,shorten:!1}),r.a.createElement(c.d,{onClick:function(){return t(a)}}," Start Trading ")]}}))},Xe=new f.a;function et(e,t){var a=new v.a(e),n=new v.a(10),r=new v.a(t);return a.times(n.pow(r)).integerValue()}var tt=function(e,t){var a=new v.a(e),n=new v.a(10).pow(new v.a(t));return a.div(n)};function at(e,t){return parseFloat(e).toFixed(t)}var nt=Xe.utils.fromWei;Xe.utils.toWei;function rt(e){var t=new Date,a=(t.getTime()-e)/1e3;if(a<60)return"".concat(parseInt(a,10),"s ago");if(a<3600)return"".concat(parseInt(a/60,10),"m ago");if(a<=86400)return"".concat(parseInt(a/3600,10),"h ago");if(a>86400){var n=new Date(e),r=n.getDate(),s=n.toDateString().match(/ [a-zA-Z]*/)[0].replace(" ",""),i=n.getFullYear()===t.getFullYear()?"":" ".concat(n.getFullYear());return"".concat(r," ").concat(s).concat(i)}return e}function st(e,t){var a=e.ratio,n=t.ratio,r=0;return parseFloat(a)>parseFloat(n)?r=1:parseFloat(a)<parseFloat(n)&&(r=-1),r}function it(e,t){var a=e.oTokensIssued,n=t.oTokensIssued,r=0;return parseInt(a,10)>parseInt(n,10)?r=-1:parseInt(a,10)<parseInt(n,10)&&(r=1),r}var lt=Xe.utils.isAddress;var ot=function(e){var t=e.setWatchAddress,a=Object(c.E)(),s=Object(n.useState)(""),i=Object(l.a)(s,2),o=i[0],u=i[1],p=H("watch_addresses","[]"),y=JSON.parse(p);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,{text:"Please connect wallet to proceed or enter an address to use Watch Mode."}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{style:{fontSize:20}}," Watch Mode "),r.a.createElement(Le,{text:"You won't be able to interact with any smart contract under Watch Mode."}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"50%"}},r.a.createElement(c.A,{placeholder:"Ethereum address or ENS",value:o,onChange:function(e){u(e.target.value.toLowerCase())},wide:!0}),y.length>0?r.a.createElement("div",{style:{paddingTop:"3%"}},r.a.createElement(c.h,{entries:y.reverse(),fields:["used"],entriesPerPage:5,renderEntry:function(e){return[r.a.createElement(c.u,{onClick:function(){t(e),L(e)}},r.a.createElement(c.i,{address:e,scale:1.3,radius:5}),r.a.createElement("span",{style:{paddingLeft:8,fontSize:15,fontFamily:"aragon-ui-monospace"}},e))]}})):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{style:{width:"8%",paddingLeft:"1%",paddingRight:"1%"}},r.a.createElement(c.d,{label:"Watch Address",onClick:Object(m.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lt(o)){e.next=5;break}t(o),L(o),e.next=16;break;case 5:return e.prev=5,e.next=8,A(o);case 8:n=e.sent,t(n),L(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),a("Invalid Address");case 16:case"end":return e.stop()}}),e,null,[[5,13]])})))}))))};function ut(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a='\n  {\n    vaults(where: {\n      optionsContract: "'.concat(t,'"\n    }) {\n      owner\n      oTokensIssued,\n      collateral,\n    }\n  }'),e.next=3,gt(a);case 3:return n=e.sent,r=n.data.vaults,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e){return dt.apply(this,arguments)}function dt(){return(dt=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a='{\n    vaults (where: {owner: "'.concat(t,'"}) {\n      optionsContract {\n        address\n      }\n      oTokensIssued,\n      collateral,\n      underlying\n    }\n  }'),e.next=3,gt(a);case 3:return n=e.sent,r=n.data.vaults,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=Object(m.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n='{\n    vault(\n     id: "'.concat(a.toLowerCase(),"-").concat(t.toLowerCase(),'"\n    ) {\n      underlying\n      collateral\n      oTokensIssued\n    }\n  }'),e.next=3,gt(n);case 3:return r=e.sent,e.abrupt("return",r.data.vault);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e){return bt.apply(this,arguments)}function bt(){return(bt=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vt(t),e.next=3,gt(a);case 3:return n=e.sent,e.abrupt("return",n.data.liquidateActions);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vt=function(e){return'{\n  liquidateActions(where: {\n    vault_contains: "'.concat(e,'"\n  }) {\n    vault {\n      owner,\n      optionsContract {\n        address\n      }\n    },\n    liquidator,\n    collateralToPay,\n    timestamp\n    transactionHash\n  }\n}\n\n')};function ht(e,t){return wt.apply(this,arguments)}function wt(){return(wt=Object(m.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n='{\n    exerciseActions (where: {\n      vault_contains: "'.concat(t,'"\n      optionsContract_contains: "').concat(a,'"\n    }) {\n      exerciser\n      oTokensToExercise\n      amtCollateralToPay\n      transactionHash\n      timestamp\n    }\n  }'),e.next=3,gt(n);case 3:return r=e.sent,e.abrupt("return",r.data.exerciseActions);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(m.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n='{\n    removeUnderlyingActions(\n      where: {\n        vault_contains: "'.concat(a,'"\n        owner: "').concat(t,'"   \n      }\n    ) {\n      timestamp\n      transactionHash\n      amount\n    }\n  }'),e.next=3,gt(n);case 3:return r=e.sent,e.abrupt("return",r.data.removeUnderlyingActions);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gt=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})},e.next=3,fetch("https://api.thegraph.com/subgraphs/name/aparnakr/opyn",a);case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n,r){var s,i,l,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("0x0000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000"!==t){e.next=8;break}return e.next=4,B(n,a);case 4:i=e.sent,s=new v.a(i),e.next=19;break;case 8:if(t!==a){e.next=12;break}s=new v.a(10).pow(new v.a(r)),e.next=19;break;case 12:return e.next=14,B(n,a);case 14:return l=e.sent,e.next=17,B(n,t);case 17:o=e.sent,s=et(parseInt(l,10)/parseInt(o,10),r);case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Ot=function(e,t,a,n){if("0"===t)return 1/0;var r=new v.a(e),s=new v.a(t),i=new v.a(a);return r.div(s).div(i).div(n).toNumber()},Tt=a(10),Ct=a.n(Tt),jt=(Ct.a.shape({owner:Ct.a.string,oTokensIssued:Ct.a.string,collateral:Ct.a.string}),Ct.a.shape({addr:Ct.a.string.isRequired,decimals:Ct.a.number.isRequired,symbol:Ct.a.string.isRequired}));Ct.a.shape({addr:Ct.a.string.isRequired,title:Ct.a.string.isRequired,symbol:Ct.a.string.isRequired,name:Ct.a.string.isRequired,decimals:Ct.a.number.isRequired,oracle:Ct.a.string.isRequired,collateral:jt.isRequired,underlying:jt.isRequired,strike:jt.isRequired,strikePrice:Ct.a.number.isRequired,minRatio:Ct.a.number.isRequired,exchange:Ct.a.string.isRequired,uniswapExchange:Ct.a.string.isRequired,expiry:Ct.a.number.isRequired});var St=function(e){var t=e.user,a=e.option,s=Object(c.E)(),i=Object(u.f)(),o=Object(n.useState)(!1),p=Object(l.a)(o,2),y=p[0],f=p[1],b=Object(n.useState)(new v.a(0)),h=Object(l.a)(b,2),w=h[0],E=h[1],x=Object(n.useState)(new v.a(0)),g=Object(l.a)(x,2),k=g[0],O=g[1],T=Object(n.useState)(new v.a(0)),C=Object(l.a)(T,2),j=C[0],S=C[1],A=Object(n.useState)(1),M=Object(l.a)(A,2),_=M[0],P=M[1];Object(n.useMemo)(Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,kt(a.collateral.addr,a.strike.addr,a.oracle,a.collateral.decimals);case 4:t=e.sent,S(t);case 6:case"end":return e.stop()}}),e)}))),[a,y]),Object(n.useEffect)((function(){var e=Ot(et(w,a.collateral.decimals),et(k,a.decimals),a.strikePrice,j);P(e)}),[w,k,j,a]);var F=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_<a.minRatio)){e.next=3;break}return s("Collateral ratio must > ".concat(a.minRatio)),e.abrupt("return");case 3:return e.next=5,me(a.addr,a.collateral.addr,et(w,a.collateral.decimals),et(k,a.decimals));case 5:i.push("/manage/".concat(a.addr,"/").concat(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.d,{onClick:function(){return f(!0)},label:"Open Vault"}),r.a.createElement(c.w,{width:800,padding:50,visible:y,onClose:function(){return f(!1)}},r.a.createElement(c.j,{primary:"Open Vault"}),r.a.createElement(Le,{text:"Select how you want to open a vault."}),r.a.createElement(c.f,{height:"300",width:"729"},r.a.createElement(Be,{title:"Open Empty Vault"}),r.a.createElement(Le,{text:"You can add collateral and mint tokens later."}),r.a.createElement("br",null),r.a.createElement(Ve,{oToken:a.addr,user:t,goToMangePage:!0}),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement(c.f,{height:"300",width:"729"},r.a.createElement(Be,{title:"Add Collateral and Mint Tokens"}),r.a.createElement(Le,{text:"Open vault, add collateral and mint some options in one transaction."}),r.a.createElement("div",{style:{display:"flex",paddingBottom:15}},r.a.createElement(c.A,{type:"number",value:w.toNumber(),onChange:function(e){return function(e){if(e){var t=new v.a(e);E(t)}else E(new v.a(0))}(e.target.value)},adornmentPosition:"end",adornment:a.collateral.symbol}),r.a.createElement("div",{style:{paddingLeft:15}},r.a.createElement(c.A,{type:"number",value:k.toNumber(),onChange:function(e){return t=e.target.value,void O(t?new v.a(t):new v.a(0));var t},adornmentPosition:"end",adornment:a.symbol}))),r.a.createElement(c.d,{label:"Mint",onClick:F}),_===1/0?r.a.createElement(r.a.Fragment,null," "):r.a.createElement(qe,{label:"Collateral Ratio ",amt:_.toString()}),r.a.createElement("br",null))))},At=a(182);var Mt=function(e){var t=e.user;Ge.pageview("/myvaults");var a=Object(n.useState)([]),s=Object(l.a)(a,2),i=s[0],o=s[1],u=Object(n.useState)([]),p=Object(l.a)(u,2),y=p[0],f=p[1],b=Object(n.useState)(!0),h=Object(l.a)(b,2),w=h[0],E=h[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),k=g[0],O=g[1],T=""===t&&""!==k,C=""!==t||""!==k,j=Object(n.useState)("1"===H("showExpired","0")),S=Object(l.a)(j,2),A=S[0],M=S[1],_=Object(n.useState)("1"===H("showEmpty","1")),P=Object(l.a)(_,2),F=P[0],I=P[1],R=i.filter((function(e){return A||1e3*e.expiry>Date.now()})).filter((function(e){return F||new v.a(e.collateral).gt(new v.a(0))}));return Object(n.useMemo)(Object(m.a)(d.a.mark((function e(){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pt(T?k:t);case 4:return a=e.sent,n=[],r=[],e.next=9,At.map(_e,function(){var e=Object(m.a)(d.a.mark((function e(t){var s,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a.find((function(e){return e.optionsContract.address===t.addr})),!(void 0!==s)){e.next=10;break}return e.next=5,kt(t.collateral.addr,t.strike.addr,t.oracle,t.collateral.decimals);case 5:i=e.sent,l=Ot(s.collateral,s.oTokensIssued,t.strikePrice,i),n.push({oToken:t.addr,oTokenName:t.title,collateral:s.collateral,collateralDecimals:t.collateral.decimals,expiry:t.expiry,ratio:l}),e.next=11;break;case 10:t.expiry>Date.now()/1e3&&r.push({oToken:t.addr,oTokenName:t.title});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:E(!1),o(n.sort(st)),f(r);case 12:case"end":return e.stop()}}),e)}))),[t,k,C,T]),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.j,{primary:"My Vaults"}),C?r.a.createElement(r.a.Fragment,null,i.length>0?r.a.createElement("div",{style:{paddingBottom:"3%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Be,{title:"Existing Vaults"}),r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Je,{text:"Expired",checked:A,onCheck:function(e){N("showExpired",e?"1":"0"),M(e)}}),r.a.createElement(Je,{text:"Empty",checked:F,onCheck:function(e){N("showEmpty",e?"1":"0"),I(e)}})))),r.a.createElement(c.h,{fields:["Token","contract","collateral","Ratio",""],entries:R,entriesPerPage:6,renderEntry:function(e){var a=e.oToken,n=e.oTokenName,s=e.collateral,i=e.collateralDecimals,l=e.ratio;return[n,r.a.createElement(c.s,{entity:a}),at(tt(s,i).toNumber(),5),at(l,4),r.a.createElement(Ue,{oToken:a,owner:T?k:t})]}})):w?r.a.createElement(Le,{text:"Loading"}):r.a.createElement(Le,{text:"No Opened Vaults"}),y.length>0&&!T?r.a.createElement("div",null,r.a.createElement(Be,{title:"Open new vaults"}),r.a.createElement(c.h,{fields:["Token","contract","manage"],entries:y,renderEntry:function(e){var a=e.oToken,n=e.oTokenName,s=_e.find((function(e){return e.addr===a}));return[n,r.a.createElement(c.s,{entity:a,shorten:!1}),r.a.createElement(St,{user:t,option:s})]}})):r.a.createElement(r.a.Fragment,null)):r.a.createElement(ot,{watchAddress:k,setWatchAddress:O}))};var _t=function(e){var t=e.user,a=e.token,s=e.vaults,i=_e.find((function(e){return e.addr===a})),o=i.underlying.addr===V,u=Object(n.useState)(new v.a(0)),p=Object(l.a)(u,2),y=p[0],f=p[1],b=Object(n.useState)(new v.a(0)),h=Object(l.a)(b,2),w=h[0],E=h[1],x=Object(n.useState)(!1),g=Object(l.a)(x,2),k=g[0],O=g[1],T=Object(n.useState)(new v.a(0)),C=Object(l.a)(T,2),j=C[0],S=C[1],A=Object(n.useState)(new v.a(0)),_=Object(l.a)(A,2),P=_[0],I=_[1],B=s.filter((function(e){return parseInt(e.collateral,10)>0})).sort(it),D=Object(n.useState)([]),q=Object(l.a)(D,2),H=q[0],N=q[1],L=Object(n.useState)(!1),U=Object(l.a)(L,2),z=U[0],W=U[1];Object(n.useMemo)(Object(m.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(k){e.next=4;break}return e.abrupt("return");case 4:if(!o){e.next=12;break}return e.t0=v.a,e.next=8,R(t);case 8:e.t1=e.sent,a=new e.t0(e.t1),e.next=18;break;case 12:return e.t2=tt,e.next=15,M(i.underlying.addr,t);case 15:e.t3=e.sent,e.t4=i.underlying.decimals,a=(0,e.t2)(e.t3,e.t4);case 18:return e.t5=tt,e.next=21,M(i.addr,t);case 21:e.t6=e.sent,e.t7=i.decimals,n=(0,e.t5)(e.t6,e.t7),f(a),E(n);case 26:case"end":return e.stop()}}),e)}))),[i,o,t,k]);var $=function(e){var t=e.reduce((function(e,t){return e.plus(new v.a(t.oTokensIssued))}),new v.a(0));t.gt(new v.a(0))&&t.gte(et(j,i.decimals))?W(!0):W(!1)},J=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return S(new v.a(0)),I(new v.a(0)),e.abrupt("return");case 4:return a=new v.a(t),S(a),e.next=8,F(i.addr,et(a,i.decimals).toString());case 8:n=e.sent,r=tt(n,i.underlying.decimals),I(r),s=H.map((function(e){return B[e]})),$(s);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.d,{onClick:function(){return O(!0)},label:"Claim"}),r.a.createElement(c.w,{width:800,padding:50,visible:k,onClose:function(){return O(!1)}},r.a.createElement(c.j,{primary:"Exercise Option",secondary:r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Ne,{label:"Balance:",amt:w.toNumber(),symbol:i.symbol,forceDisplay:!0}),r.a.createElement(Ne,{label:" +",amt:y.toNumber(),symbol:i.underlying.symbol}))}),r.a.createElement(c.c,{heading:"Amount to Exercise"},r.a.createElement(c.x,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(c.A,{type:"number",wide:!0,adornment:i.symbol,adornmentPosition:"end",value:j.toNumber(),onChange:function(e){return J(e.target.value)}})),secondary:r.a.createElement("div",{style:{paddingTop:5}},r.a.createElement(Ne,{label:"+ Underlyring",amt:P.toNumber(),symbol:i.underlying.symbol}))})),r.a.createElement(c.h,{mode:"table",renderSelectionCount:function(e){return"".concat(e," vaults selected")},fields:["Owner","Issued","collateral"],entries:B,entriesPerPage:5,selection:H,onSelectEntries:function(e,t){N(t),$(e)},renderEntry:function(e){var t=e.owner,a=e.collateral,n=e.oTokensIssued;return[r.a.createElement(c.s,{entity:t}),at(tt(n,i.decimals).toNumber(),5),at(tt(a,i.collateral.decimals).toNumber(),5)]}}),r.a.createElement("br",null),r.a.createElement(c.d,{label:"Exercise",disabled:!z,wide:!0,onClick:Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=H.map((function(e){return s[e].owner})),pe(i.addr,i.underlying.addr,et(j,i.decimals).toString(),t);case 2:case"end":return e.stop()}}),e)})))})))};var Pt=function(e){var t=e.option,a=e.useCollateral,s=e.owner,i=e.collateral,o=e.oTokensIssued,u=e.isSafe,p=e.ratio,y=e.collateralIsETH,f=Object(c.E)(),b=Object(n.useState)(!1),v=Object(l.a)(b,2),h=v[0],w=v[1],E=Object(n.useState)(0),x=Object(l.a)(E,2),g=x[0],k=x[1],O=Object(n.useState)(0),T=Object(l.a)(O,2),C=T[0],j=T[1];return Object(n.useEffect)((function(){var e=!1;function n(){return(n=Object(m.a)(d.a.mark((function n(){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(h){n.next=2;break}return n.abrupt("return");case 2:if(a){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,P(t.addr,s);case 6:r=n.sent,e||j(tt(r,t.decimals).toNumber());case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){e=!0}}),[t,h,s,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.d,{onClick:function(){return w(!0)},label:"More"}),r.a.createElement(c.w,{width:900,padding:50,visible:h,onClose:function(){return w(!1)}},r.a.createElement(c.j,{primary:"Access Position"}),r.a.createElement(c.h,{fields:["Owner","Collateral","Issued","ratio","Status"],entries:[{collateral:i,isSafe:u,oTokensIssued:o,ratio:p,owner:s}],entriesPerPage:1,renderEntry:function(e){return[r.a.createElement(c.s,{entity:e.owner,shorten:!0}),at(tt(e.collateral,t.collateral.decimals),5),at(tt(e.oTokensIssued,t.decimals),5),at(e.ratio,4),Re({isSafe:e.isSafe,ratio:p,useCollateral:a})]}}),r.a.createElement("br",null),r.a.createElement(c.c,{heading:"Add Collateral"},r.a.createElement(c.x,{primary:r.a.createElement(c.A,{type:"number",wide:!0,adornment:r.a.createElement(c.n,null),adornmentPosition:"end",value:g,onChange:function(e){k(e.target.value)}}),secondary:r.a.createElement(c.d,{label:"Add Collateral",wide:!0,onClick:function(){y?se(t.addr,s,g):ie(t.collateral.addr,t.addr,s,et(g,t.collateral.decimals).toString())}})})),a?r.a.createElement(c.c,{heading:"Liquidate"},r.a.createElement(Le,{text:"Liquidate with your ".concat(t.symbol)}),r.a.createElement(c.x,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(c.A,{wide:!0,type:"number",value:C,onChange:function(e){j(e.target.value)}})),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(c.d,{wide:!0,disabled:u,label:"Liquidate",onClick:function(){te(t.addr,s,et(C,t.decimals)).catch((function(e){f(e.toString())}))}}))}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(Le,{text:" Or "})),r.a.createElement(Le,{text:r.a.createElement(r.a.Fragment,null,r.a.createElement(c.z,null," beta "),"Liquidate with Kollateral Flashloan")}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(c.d,{icon:r.a.createElement(c.m,null),label:"DAI",disabled:u,onClick:function(){ae(t.addr,t.exchange,s,"0x6b175474e89094c44da98b954eedeac495271d0f").catch((function(e){f(e.toString())}))},wide:!0,selected:!0}),r.a.createElement(c.d,{icon:r.a.createElement(c.m,null),label:"USDC",disabled:u,onClick:function(){ae(t.addr,t.exchange,s,"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48").catch((function(e){f(e.toString())}))},wide:!0}),r.a.createElement(c.d,{icon:r.a.createElement(c.m,null),label:"ETH",disabled:u,onClick:function(){ae(t.addr,t.exchange,s,z).catch((function(e){f(e.toString())}))},wide:!0}))):r.a.createElement(r.a.Fragment,null)))};var Ft=function(e){var t=e.user,a=e.token,s=e.vaults,i=e.collateralIsETH,o=_e.find((function(e){return e.addr===a})),u=o.collateral.addr!==o.strike.addr,p=Object(n.useState)(!0),y=Object(l.a)(p,2),f=y[0],b=y[1],v=Object(n.useState)([]),h=Object(l.a)(v,2),w=h[0],E=h[1],x=Object(n.useState)(0),g=Object(l.a)(x,2),k=g[0],O=g[1];return Object(n.useEffect)((function(){var e=!1,t=function(){var t=Object(m.a)(d.a.mark((function t(){var a,n,r,i,l,c,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==s.length){t.next=2;break}return t.abrupt("return");case 2:return a=o.strike,n=o.minRatio,r=o.strikePrice,i=o.oracle,l=o.collateral,t.next=5,kt(l.addr,a.addr,i,l.decimals);case 5:c=t.sent,p=s.map((function(e){if("0"===e.oTokensIssued)return{owner:e.owner,oTokensIssued:e.oTokensIssued,collateral:e.collateral,ratio:1/0,useCollateral:u,isSafe:!0};var t=Ot(e.collateral,e.oTokensIssued,r,c);return{owner:e.owner,oTokensIssued:e.oTokensIssued,collateral:e.collateral,ratio:t,useCollateral:u,isSafe:t>n}})).sort(u?st:it),e||(E(p),b(!1));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t();var a=setInterval(t,6e4);return function(){e=!0,clearInterval(a)}}),[i,o,t,u,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,{title:"All Vaults"}),r.a.createElement(c.h,{page:k,onPageChange:O,status:f?"loading":"default",fields:["Owner","collateral","Issued","RATIO","Status",""],entries:w,entriesPerPage:5,renderEntry:function(e){var t=e.owner,a=e.collateral,n=e.oTokensIssued,s=e.ratio,l=e.isSafe,u=e.useCollateral;return[r.a.createElement(c.s,{entity:t,shorten:!0}),at(tt(a,o.collateral.decimals).toNumber(),6),at(tt(n,o.decimals).toNumber(),6),at(s,5),Re({isSafe:l,ratio:s,useCollateral:u}),r.a.createElement(Pt,{option:o,owner:t,collateral:a,isSafe:l,useCollateral:u,collateralIsETH:i,oTokensIssued:n,ratio:s})]}}))};var It=function(e){var t=e.token,a=e.collateralIsETH,s=_e.find((function(e){return e.addr===t})),i=Object(n.useState)(new v.a(0)),o=Object(l.a)(i,2),u=o[0],p=o[1],y=Object(n.useState)(new v.a(0)),f=Object(l.a)(y,2),b=f[0],h=f[1];return Object(n.useEffect)((function(){var e=!1;function t(){return(t=Object(m.a)(d.a.mark((function t(){var n,r,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return t.t0=v.a,t.next=4,R(s.addr);case 4:t.t1=t.sent,n=new t.t0(t.t1),t.next=12;break;case 8:return t.next=10,M(s.collateral.addr,s.addr);case 10:r=t.sent,n=tt(r,s.collateral.decimals);case 12:return t.next=14,_(s.addr);case 14:i=t.sent,e||(p(n),h(tt(i,s.decimals)));case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!0}}),[a,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.x,{primary:r.a.createElement(c.x,{primary:r.a.createElement(c.c,{heading:"contract",padding:15},r.a.createElement(c.s,{entity:s.addr,shorten:!1})),secondary:r.a.createElement(c.c,{heading:"Total Collateral",padding:15},u.toFormat(4)," ",s.collateral.symbol)}),secondary:r.a.createElement(c.c,{heading:"total supply",padding:15},b.toFormat(4)," ",s.symbol)}))};var Rt=function(e){var t=e.user,a=Object(u.g)().token;Ge.pageview("/option/".concat(a));var s=_e.find((function(e){return e.addr===a})),i=Object(n.useState)([]),o=Object(l.a)(i,2),p=o[0],y=o[1],f=s.collateral.addr===V;return Object(n.useMemo)(Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(a);case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)}))),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.j,{primary:s.name,secondary:r.a.createElement(_t,{user:t,token:a,vaults:p})}),r.a.createElement(It,{token:a,collateralIsETH:f}),r.a.createElement(Ft,{token:a,user:t,vaults:p,collateralIsETH:f}))},Bt=function(e){var t=e.ratio,a=e.minRatio,n=e.symbol,s=e.vault,i=e.decimals,l=e.newRatio,o=e.collateralDecimals,u=e.useCollateral,c=s.oTokensIssued?tt(s.oTokensIssued,i).toNumber():"0",p=s.collateral?tt(s.collateral,o).toString():"0";return r.a.createElement("div",{style:{padding:"2%",display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(Fe,{asset:"Total Collateral",balance:at(p,6)})),r.a.createElement("div",{style:{width:"50%"}},r.a.createElement(Fe,{asset:"".concat(n," Issued"),balance:c.toString()})),r.a.createElement("div",{style:{width:"20%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{fontSize:14,padding:3}},"Current Ratio"," ",t>0?r.a.createElement(Re,{isSafe:t>=a,ratio:t,useCollateral:u}):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{style:{fontSize:24,padding:3}},r.a.createElement("span",{style:{fontSize:24}},at(t,5).split(".")[0]),".",r.a.createElement("span",{style:{fontSize:18}},at(t,5).split(".")[1]," "),a>0?r.a.createElement("span",{style:{fontSize:16}}," ","/"," ",a," "):""),r.a.createElement(r.a.Fragment,null," ",l===t?"":r.a.createElement(qe,{label:"New Ratio",amt:l.toString()})," "))))};var Dt=function(e){var t=e.isOwner,a=e.vault,s=e.collateral,i=e.collateralAssetBalance,o=e.token,u=e.owner,p=e.strikeValue,d=e.strikePrice,m=e.minRatio,y=e.setNewRatio,f=Object(n.useState)(0),b=Object(l.a)(f,2),h=b[0],w=b[1],E=Object(n.useState)(0),x=Object(l.a)(E,2),g=x[0],k=x[1],O=s.addr===V,T=function(e){if(!e||e<=0)return 0;var t=e.toString(),n=Ot(t,a.oTokensIssued,d,p);y(at(n,5))};return r.a.createElement(c.c,{heading:"Collateral"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},Fe({asset:"Your ".concat(s.symbol," Balance"),balance:at(i.toString(),6)})),r.a.createElement("div",{style:{width:"32%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(c.A,{type:"number",wide:!0,value:h,onChange:function(e){var t=e.target.value;if(""!==t){w(t);var n=et(t,s.decimals),r=new v.a(a.collateral).plus(n).toNumber();T(r)}else w(0)}}),r.a.createElement(De,{onClick:function(){w(i.toNumber());var e=et(i,s.decimals),t=new v.a(a.collateral).plus(e).toNumber();T(t)}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(c.d,{wide:!0,icon:r.a.createElement(c.l,null),label:"Add",onClick:function(){O?se(o,u,h):ie(s.addr,o,u,et(h,s.decimals))}})))),r.a.createElement("div",{style:{width:"6%"}}),r.a.createElement("div",{style:{width:"32%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(c.A,{type:"number",wide:!0,value:g,onChange:function(e){var t=e.target.value;if(""!==t){k(t);var n=et(t,s.decimals),r=new v.a(a.collateral).minus(n).toNumber();T(r)}else k(0)}}),r.a.createElement(De,{onClick:function(){if(!(p.toNumber()<=0)){var e=new v.a(d),t=new v.a(a.oTokensIssued),n=new v.a(m),r=e.times(t).times(n).times(p),i=new v.a(a.collateral).minus(r).toString(),l=tt(i,s.decimals).toNumber();k(l),y(m)}}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(c.d,{disabled:!t,wide:!0,icon:r.a.createElement(c.k,null),label:"Remove",onClick:function(){le(s.addr,o,et(g,s.decimals).toString())}}))))))};var qt=function(e){var t=e.isOwner,a=e.vault,s=e.tokenBalance,i=e.token,o=e.strikeValue,u=e.strikePrice,p=e.minRatio,d=e.decimals,m=e.symbol,y=e.setNewRatio,f=Object(n.useState)(new v.a(0)),b=Object(l.a)(f,2),h=b[0],w=b[1],E=Object(n.useState)(new v.a(0)),x=Object(l.a)(E,2),g=x[0],k=x[1],O=function(e){if(!e.lte(new v.a(0))){var t=Ot(a.collateral,e,u,o);y(t)}};return r.a.createElement(c.c,{heading:"Total Issued"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(Fe,{asset:"Owner ".concat(m," Balance "),balance:s.toString()})),r.a.createElement("div",{style:{width:"32%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(c.A,{type:"number",wide:!0,value:h,onChange:function(e){return function(e){if(e){var t=new v.a(e);w(t),O(new v.a(a.oTokensIssued).plus(et(t,d)))}else w(new v.a(0))}(e.target.value)}}),r.a.createElement(De,{onClick:function(){if(!(u<=0)){var e=new v.a(a.collateral).div(new v.a(p).times(new v.a(u)).times(o)).minus(new v.a(a.oTokensIssued)),t=tt(e,d);w(t),y(p)}}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(c.d,{disabled:!t,wide:!0,icon:r.a.createElement(c.l,null),label:"Issue",onClick:function(){re(i,et(h,d).toString())}})))),r.a.createElement("div",{style:{width:"6%"}}),r.a.createElement("div",{style:{width:"32%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(c.A,{type:"number",wide:!0,value:g,onChange:function(e){return function(e){if(e){var t=new v.a(e);O(new v.a(a.oTokensIssued).minus(et(t,d))),k(t)}else k(new v.a(0))}(e.target.value)}}),r.a.createElement(De,{onClick:function(){var e=tt(a.oTokensIssued,d),t=s.lt(e)?s:e;k(t),O(e.minus(t))}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(c.d,{disabled:!t,wide:!0,icon:r.a.createElement(c.k,null),label:"Burn",onClick:function(){ne(i,et(g,d).toString())}}))))))};var Ht=function(e){var t=e.owner,a=e.token,s=e.isOwner,i=e.tokenDecimals,o=e.userTokenBalance,u=Object(n.useState)(0),p=Object(l.a)(u,2),y=p[0],f=p[1],b=Object(n.useState)(!0),v=Object(l.a)(b,2),h=v[0],w=v[1],E=Object(n.useState)([]),x=Object(l.a)(E,2),g=x[0],k=x[1],O=Object(n.useState)(0),T=Object(l.a)(O,2),C=T[0],j=T[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(a,t);case 2:n=e.sent,f(tt(n,i).toNumber());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a,i]),Object(n.useMemo)(Object(m.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){return(n=Object(m.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft(t);case 2:n=e.sent,r=n.filter((function(e){return e.vault.optionsContract.address===a})).sort((function(e,t){return e.timestamp>t.timestamp?-1:1})),k(r),w(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},function(){return n.apply(this,arguments)}();case 3:case"end":return e.stop()}}),e)}))),[t,a]),r.a.createElement(r.a.Fragment,null,s?r.a.createElement(r.a.Fragment,null):r.a.createElement(c.c,{heading:"Liquidate"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(Fe,{asset:"Max To Liquidate",balance:y})),r.a.createElement("div",{style:{width:"70%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(c.A,{type:"number",wide:!0,value:C,onChange:function(e){j(e.target.value)}}),r.a.createElement(De,{onClick:function(){var e=Math.min(o.toNumber(),y);j(e)}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(c.d,{disabled:y<=0,label:"Liquidate",onClick:function(){var e=et(C,i).toString();te(a,t,e)}}))))))),r.a.createElement(c.c,{heading:"History"},r.a.createElement(c.h,{status:h?"loading":"default",fields:["Tx","Amount","Liquidator","Date"],entries:g,entriesPerPage:4,renderEntry:function(e){var t=e.collateralToPay,a=e.liquidator,n=e.timestamp,s=e.transactionHash;return[r.a.createElement(c.C,{transaction:s}),at(nt(t),5),r.a.createElement(c.s,{entity:a}),rt(1e3*parseInt(n,10))]}})))};var Nt=function(e){var t=e.owner,a=e.token,s=e.collateralDecimals,i=e.tokenDecimals,o=Object(n.useState)(!0),u=Object(l.a)(o,2),p=u[0],y=u[1],f=Object(n.useState)([]),b=Object(l.a)(f,2),v=b[0],h=b[1];return Object(n.useMemo)(Object(m.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(t,a);case 2:n=e.sent,h(n),y(!1);case 5:case"end":return e.stop()}}),e)}))),[t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.c,{heading:"History"},r.a.createElement(c.h,{status:p?"loading":"default",fields:["Tx","Collateral","oToken","Exerciser","Time"],entries:v,entriesPerPage:4,renderEntry:function(e){var t=e.amtCollateralToPay,a=e.oTokensToExercise,n=e.exerciser,l=e.timestamp,o=e.transactionHash;return[r.a.createElement(c.C,{transaction:o}),at(tt(t,s).toNumber(),5),at(tt(a,i).toNumber(),5),r.a.createElement(c.s,{entity:n}),rt(parseInt(1e3*l,10))]}})))};var Lt=function(e){var t=e.owner,a=e.token,s=e.underlyingDecimals,i=e.underlyingAmount,o=Object(n.useState)(!0),u=Object(l.a)(o,2),p=u[0],y=u[1],f=Object(n.useState)([]),b=Object(l.a)(f,2),v=b[0],h=b[1];return Object(n.useMemo)(Object(m.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Et(t,a);case 2:n=e.sent,h(n),y(!1);case 5:case"end":return e.stop()}}),e)}))),[t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.c,{heading:"Underlying"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},Fe({asset:"Redeemable",balance:at(tt(i,s),6)})),r.a.createElement("div",{style:{width:"70%",padding:"2%"}},r.a.createElement(c.d,{label:"Redeem Underlying",onClick:function(){ue(a)}}))),r.a.createElement("br",null),r.a.createElement(c.h,{status:p?"loading":"default",fields:["Tx","Amount","Timestamp"],entries:v,entriesPerPage:4,renderEntry:function(e){var t=e.transactionHash,a=e.amount,n=e.timestamp;return[r.a.createElement(c.C,{shorten:!1,transaction:t}),at(tt(a,s).toNumber(),5),rt(parseInt(1e3*n,10))]}})))};var Ut=function(e){var t=e.user,a=Object(u.g)(),s=a.token,i=a.owner;Ge.pageview("/manage/".concat(s));var o=_e.find((function(e){return e.addr===s})),p=o.decimals,y=o.symbol,f=o.oracle,b=o.strike,h=o.strikePrice,w=o.minRatio,E=o.collateral,x=o.expiry,g=o.underlying,k=Object(n.useState)(!0),O=Object(l.a)(k,2),T=O[0],C=O[1],j=Object(n.useState)(0),S=Object(l.a)(j,2),A=S[0],_=S[1],P=Object(n.useState)({}),F=Object(l.a)(P,2),I=F[0],B=F[1],D=Object(n.useState)(new v.a(0)),q=Object(l.a)(D,2),H=q[0],N=q[1],L=Object(n.useState)(0),U=Object(l.a)(L,2),z=U[0],W=U[1],$=Object(n.useState)(new v.a(0)),J=Object(l.a)($,2),Y=J[0],K=J[1],G=Object(n.useState)(new v.a(0)),Z=Object(l.a)(G,2),Q=Z[0],X=Z[1],ee=Object(n.useState)(new v.a(0)),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!0),se=Object(l.a)(re,2),ie=se[0],le=se[1],ue=Object(n.useState)(z),ce=Object(l.a)(ue,2),pe=ce[0],de=ce[1],me=E.addr===V,ye=E.addr!==b.addr;Object(n.useMemo)((function(){var e=!1;function a(){return n.apply(this,arguments)}function n(){return(n=Object(m.a)(d.a.mark((function a(){var n,r,o,u,c,m,y,w,x,g,k;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,mt(i,s);case 2:if(null!==(n=a.sent)){a.next=6;break}return C(!1),a.abrupt("return");case 6:return le(!1),a.next=9,Promise.all([M(s,i),M(s,t)]);case 9:if(r=a.sent,o=Object(l.a)(r,2),u=o[0],c=o[1],m=new v.a(0),!me){a.next=22;break}return a.t0=v.a,a.next=18,R(t);case 18:a.t1=a.sent,m=new a.t0(a.t1),a.next=26;break;case 22:return a.next=24,M(E.addr,t);case 24:y=a.sent,m=tt(y,E.decimals);case 26:return w=tt(u,p),x=tt(c,p),a.next=30,kt(E.addr,b.addr,f,E.decimals);case 30:g=a.sent,k=Ot(n.collateral,n.oTokensIssued,h,g),e||(N(g),B(n),K(w),X(x),W(k),ne(m),C(!1));case 33:case"end":return a.stop()}}),a)})))).apply(this,arguments)}a();var r=setInterval(a,6e4);return function(){e=!0,clearInterval(r)}}),[E,me,p,f,i,b,h,s,t]);var fe=t===i;return ie?T?r.a.createElement(Le,{text:"Loading..."}):r.a.createElement(Le,{text:"No Vault Found for this user under this contract"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.j,{primary:fe?"Manage My Vault":"Vault Detail",secondary:1e3*x>Date.now()?r.a.createElement(c.B,{end:new Date(1e3*x)}):r.a.createElement(c.d,{onClick:function(){return oe(s)},label:"Redeem"})}),r.a.createElement(Bt,{owner:i,user:t,ratio:z,minRatio:w,vault:I,decimals:p,symbol:y,newRatio:pe,useCollateral:ye,collateralIsETH:me,collateralDecimals:E.decimals}),r.a.createElement(c.y,{items:["Collateral Management","Token Issuance","Liquidation","Exercise","Underlying Redemption"],selected:A,onChange:_}),0===A?r.a.createElement(Dt,{isOwner:fe,vault:I,collateralAssetBalance:ae,collateral:E,token:s,owner:i,strikeValue:H,strikePrice:h,minRatio:w,setNewRatio:de}):r.a.createElement(r.a.Fragment,null),1===A?r.a.createElement(qt,{isOwner:fe,vault:I,tokenBalance:Y,token:s,strikeValue:H,strikePrice:h,minRatio:w,decimals:p,symbol:y,setNewRatio:de}):r.a.createElement(r.a.Fragment,null),2===A?ye?r.a.createElement(Ht,{userTokenBalance:Q,isOwner:fe,owner:i,token:s,tokenDecimals:p}):r.a.createElement(c.c,null," This vault cannot be liquidated "):r.a.createElement(r.a.Fragment,null),3===A?r.a.createElement(Nt,{owner:i,token:s,tokenDecimals:p,collateralDecimals:E.decimals}):r.a.createElement(r.a.Fragment,null),4===A?r.a.createElement(Lt,{owner:i,token:s,underlyingDecimals:g.decimals,underlyingAmount:I.underlying}):r.a.createElement(r.a.Fragment,null," "))},Vt=function(e){var t=e.symbol,a=e.poolETHBalance,n=e.poolTokenBalance,s=e.uniswapExchange;return r.a.createElement("div",{style:{padding:"2%",display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(Fe,{asset:"Total ETH Liquidity",balance:a})),r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(Fe,{asset:"".concat(t," Liquidity"),balance:n})),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{label:"Uniswap Contract",address:s}))))};var zt=function(e){var t=e.symbol,a=e.tokenBalance,s=e.token,i=e.exchange,o=e.decimals,u=Object(n.useState)(new v.a(0)),p=Object(l.a)(u,2),y=p[0],f=p[1],b=Object(n.useState)(new v.a(0)),h=Object(l.a)(b,2),w=h[0],E=h[1],x=Object(n.useState)(new v.a(0)),g=Object(l.a)(x,2),k=g[0],O=g[1],T=Object(n.useState)(new v.a(0)),C=Object(l.a)(T,2),j=C[0],S=C[1],A=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=new v.a(t)).lte(new v.a(0))){e.next=4;break}return O(new v.a(0)),e.abrupt("return");case 4:return n=et(a,o).toString(),e.next=7,D(i,s,n);case 7:r=e.sent,O(new v.a(nt(r)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=new v.a(t)).lte(new v.a(0))){e.next=4;break}return S(new v.a(0)),e.abrupt("return");case 4:return n=et(a,o).toString(),e.next=7,q(i,s,n);case 7:r=e.sent,S(new v.a(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(c.c,{heading:"Exchange"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(Fe,{asset:"".concat(t," Balance"),balance:a})),r.a.createElement("div",{style:{width:"32%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(c.A,{type:"number",wide:!0,value:y,onChange:function(e){e.target.value?(f(e.target.value),A(e.target.value)):(f(new v.a(0)),A(new v.a(0)))}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(c.d,{wide:!0,icon:r.a.createElement(c.l,null),label:"Buy",onClick:function(){ye(s,i,et(y,o).toString(),et(k,18).toString())}}))),r.a.createElement(Ne,{label:"Cost:",amt:k,symbol:""})),r.a.createElement("div",{style:{width:"6%"}}),r.a.createElement("div",{style:{width:"32%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(c.A,{type:"number",wide:!0,value:w,onChange:function(e){e.target.value?(E(e.target.value),M(e.target.value)):(E(new v.a(0)),M(new v.a(0)))}}),r.a.createElement(De,{onClick:function(){E(a),M(a)}}))),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement(c.d,{wide:!0,icon:r.a.createElement(c.k,null),label:"Sell",onClick:function(){fe(s,i,et(w,o).toString())}}))),r.a.createElement(Ne,{label:"Premium",amt:j}))))};var Wt=function(e){var t=e.otoken,a=e.otokenSymbol,s=e.otokenDecimals,i=e.userTokenBalance,o=e.userETHBalance,u=e.uniswapExchange,p=e.poolTokenBalance,d=e.poolETHBalance,m=e.liquidityTokenDecimals,y=e.liquidityTokenSupply,f=Object(n.useState)(new v.a(0)),b=Object(l.a)(f,2),h=b[0],w=b[1],E=Object(n.useState)(new v.a(0)),x=Object(l.a)(E,2),g=x[0],k=x[1],O=y.times(h).div(d),T=O.times(new v.a(98)).div(new v.a(100)),C=d.div(p),j=p.div(d),S=function(e){if(!e)return k(new v.a(0)),void w(new v.a(0));var t=new v.a(e).times(C);w(t),k(new v.a(e))};return r.a.createElement(c.c,{heading:"Add Liquidity"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(Fe,{asset:"ETH Balance",balance:o})),r.a.createElement("div",{style:{width:"70%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"35%",marginRight:"5%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(c.A,{adornmentPosition:"end",adornment:a,type:"number",wide:!0,value:g.toNumber(),onChange:function(e){S(e.target.value)}}),r.a.createElement(De,{onClick:function(){S(i)}}))),r.a.createElement("div",{style:{width:"35%",marginRight:"5%"}},r.a.createElement(c.A,{adornmentPosition:"end",adornment:r.a.createElement(c.n,null),type:"number",wide:!0,value:h.toNumber(),onChange:function(e){!function(e){if(!e)return k(new v.a(0)),void w(new v.a(0));var t=new v.a(e).times(j);w(new v.a(e)),k(t)}(e.target.value)}}),r.a.createElement(Ne,{label:"Mint",amt:O,symbol:"Pool Tokens"})),r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(c.d,{wide:!0,icon:r.a.createElement(c.l,null),label:"Add Liquidity",onClick:function(){var e=et(g,s).toString(),a=et(T,m).toString(),n=et(h,18).toString();be(t,u,e,a,n)}}))))))};var $t=function(e){var t=e.otokenSymbol,a=e.otokenDecimals,s=e.userliquidityTokenBalance,i=e.uniswapExchange,o=e.poolTokenBalance,u=e.poolETHBalance,p=e.liquidityTokenDecimals,d=e.liquidityTokenSupply,m=Object(n.useState)(new v.a(0)),y=Object(l.a)(m,2),f=y[0],b=y[1],h=f.div(d),w=u.times(h),E=o.times(h),x=w.times(new v.a(98)).div(new v.a(100)),g=E.times(new v.a(98)).div(new v.a(100));return r.a.createElement(c.c,{heading:"Remove Liquidity"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(Fe,{asset:"Pool Token Balance",balance:s})),r.a.createElement("div",{style:{width:"70%",paddingTop:"2%"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"35%",marginRight:"5%"}},r.a.createElement(c.A,{adornmentPosition:"end",adornment:r.a.createElement(c.o,null),type:"number",wide:!0,value:f.toNumber(),onChange:function(e){!function(e){if(e){var t=new v.a(e);b(t)}else b(new v.a(0))}(e.target.value)}}),r.a.createElement(De,{onClick:function(){return b(s)}})),r.a.createElement("div",{style:{width:"35%",marginRight:"5%"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{label:"You get",amt:w,symbol:"ETH"}),r.a.createElement(Ne,{label:"+",amt:E,symbol:t}))),r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(c.d,{wide:!0,icon:r.a.createElement(c.k,null),label:"Remove Liquidity",onClick:function(){var e=et(f,p).toString(),t=et(x,18).toString(),n=et(g,a).toString();ve(i,e,t,n)}}))))))};var Jt=function(e){var t=e.user,a=Object(u.g)().token;Ge.pageview("trade/".concat(a));var s=_e.find((function(e){return e.addr===a})),i=s.uniswapExchange,o=s.decimals,p=s.symbol,y=s.exchange,f=Object(n.useState)(new v.a(0)),b=Object(l.a)(f,2),h=b[0],w=b[1],E=Object(n.useState)(new v.a(0)),x=Object(l.a)(E,2),g=x[0],k=x[1],O=Object(n.useState)(new v.a(0)),T=Object(l.a)(O,2),C=T[0],j=T[1],S=Object(n.useState)(new v.a(0)),A=Object(l.a)(S,2),P=A[0],F=A[1],I=Object(n.useState)(new v.a(0)),B=Object(l.a)(I,2),D=B[0],q=B[1],H=Object(n.useState)(new v.a(0)),N=Object(l.a)(H,2),L=N[0],U=N[1];return Object(n.useEffect)((function(){var e=!1;function t(){return n.apply(this,arguments)}function n(){return(n=Object(m.a)(d.a.mark((function t(){var n,r,s,u,c,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([M(a,i),R(i),_(i)]);case 2:n=t.sent,r=Object(l.a)(n,3),s=r[0],u=r[1],c=r[2],p=tt(s,o),e||(U(tt(c,18)),j(new v.a(u)),w(p));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t();var r=setInterval(t,15e3);return function(){e=!0,clearInterval(r)}}),[o,a,i]),Object(n.useEffect)((function(){if(""!==t){var e=!1;r();var n=setInterval(r,15e3);return function(){e=!0,clearInterval(n)}}function r(){return s.apply(this,arguments)}function s(){return(s=Object(m.a)(d.a.mark((function n(){var r,s,u,c,p,m,y;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([M(a,t),R(t),M(i,t)]);case 2:r=n.sent,s=Object(l.a)(r,3),u=s[0],c=s[1],p=s[2],m=tt(u,o),y=tt(p,18),e||(q(y),F(new v.a(c)),k(m));case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}),[o,18,a,i,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.j,{primary:"Exchange"}),r.a.createElement(Vt,{user:t,symbol:p,poolETHBalance:C,poolTokenBalance:h,uniswapExchange:i}),r.a.createElement(zt,{symbol:p,tokenBalance:g,token:a,exchange:y,decimals:o}),r.a.createElement(c.j,{primary:"Provide Liquidity"}),r.a.createElement(Wt,{user:t,otoken:a,otokenDecimals:o,otokenSymbol:p,userTokenBalance:g,userliquidityTokenBalance:D,userETHBalance:P,uniswapExchange:i,poolETHBalance:C,poolTokenBalance:h,liquidityTokenDecimals:18,liquidityTokenSupply:L}),r.a.createElement($t,{otokenDecimals:o,otokenSymbol:p,userliquidityTokenBalance:D,userETHBalance:P,uniswapExchange:i,poolETHBalance:C,poolTokenBalance:h,liquidityTokenDecimals:18,liquidityTokenSupply:L}))};var Yt=function(e){var t={backgroundColor:"light"===e.theme?"#F8F8F8":"#35425e",textAlign:"center",padding:"17px",position:"fixed",left:"0",bottom:"0",height:"50px",width:"100%",fontSize:"12px"};return r.a.createElement("div",{style:t},"Powered By",r.a.createElement(c.t,{external:!0,href:"https://opyn.co/#/"},"Opyn"),", ",r.a.createElement(c.t,{external:!0,href:"https://ui.aragon.org/"},"Aragon UI"),",",", ",r.a.createElement(c.t,{external:!0,href:"https://www.blocknative.com/"},"Blocknative"),". ",r.a.createElement(c.t,{external:!0,href:"https://www.kollateral.co/"},"Kollateral"),". ","Hosted on",r.a.createElement(c.t,{external:!0,href:"https://github.com/antoncoding/opyn-liquidator"},"GitHub"),".")};var Kt=function(){var e=H("theme","light"),t=Object(n.useState)(""),a=Object(l.a)(t,2),s=a[0],i=a[1],p=Object(n.useState)(e),d=Object(l.a)(p,2),m=d[0],y=d[1];return r.a.createElement(o.a,null,r.a.createElement(c.v,{assetsUrl:"".concat("","/aragon-ui/"),theme:m},r.a.createElement(xe,{user:s,setUser:i,theme:m,updateTheme:function(e){y(e),Z(e),N("theme",e)}}),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/option/:token"},r.a.createElement(Rt,{user:s})),r.a.createElement(u.a,{path:"/options/"},r.a.createElement(Ze,null)),r.a.createElement(u.a,{path:"/myvaults"},r.a.createElement(Mt,{user:s})),r.a.createElement(u.a,{path:"/manage/:token/:owner"},r.a.createElement(Ut,{user:s})),r.a.createElement(u.a,{path:"/trade/:token/"},r.a.createElement(Jt,{user:s})),r.a.createElement(u.a,{path:"/trade/"},r.a.createElement(Qe,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement(ke,null))),r.a.createElement(Yt,{theme:m})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Kt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[201,3,4]]]);
//# sourceMappingURL=main.d421cb10.chunk.js.map