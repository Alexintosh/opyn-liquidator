(this["webpackJsonpweb-liquidate"]=this["webpackJsonpweb-liquidate"]||[]).push([[0],{169:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"},{"name":"amt","type":"uint256"}],"name":"addERC20Collateral","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getVaultOwners","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"amount","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"hasVault","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isExerciseWindow","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"getVault","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"oTokensToIssue","type":"uint256"},{"name":"receiver","type":"address"}],"name":"issueOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"sender","type":"address"},{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addAndSellERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToRemove","type":"uint256"}],"name":"removeCollateral","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"liquidationFactor","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createAndSellETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"optionsExchange","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"oTokensToExercise","type":"uint256"},{"name":"vaultsToExerciseFrom","type":"address[]"}],"name":"exercise","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"collateralAmt","type":"uint256"}],"name":"maxOTokensIssuable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlying","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"oTokensToExercise","type":"uint256"}],"name":"underlyingRequiredToExercise","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"openVault","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"COMPOUND_ORACLE","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"liquidationIncentive","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"hasExpired","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"addETHCollateral","outputs":[{"name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"transactionFee","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"strike","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlyingExp","outputs":[{"name":"","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"collateralExp","outputs":[{"name":"","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oTokenExchangeRate","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"redeemVaultBalance","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"}],"name":"setDetails","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"minCollateralizationRatio","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"vaultOwner","type":"address"},{"name":"oTokensToLiquidate","type":"uint256"}],"name":"liquidate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"strikePrice","outputs":[{"name":"value","type":"uint256"},{"name":"exponent","type":"int32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"amtCollateral","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createAndSellERC20CollateralOption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"isUnsafe","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"addAndSellETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"collateral","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"vaultOwner","type":"address"}],"name":"maxOTokensLiquidatable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"expiry","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_address","type":"address"}],"name":"transferFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToBurn","type":"uint256"}],"name":"burnOTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amtToCreate","type":"uint256"},{"name":"receiver","type":"address"}],"name":"createETHCollateralOption","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_liquidationIncentive","type":"uint256"},{"name":"_liquidationFactor","type":"uint256"},{"name":"_transactionFee","type":"uint256"},{"name":"_minCollateralizationRatio","type":"uint256"}],"name":"updateParameters","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_ierc20","type":"address"}],"name":"isETH","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[],"name":"removeUnderlying","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_collateral","type":"address"},{"name":"_collExp","type":"int32"},{"name":"_underlying","type":"address"},{"name":"_underlyingExp","type":"int32"},{"name":"_oTokenExchangeExp","type":"int32"},{"name":"_strikePrice","type":"uint256"},{"name":"_strikeExp","type":"int32"},{"name":"_strike","type":"address"},{"name":"_expiry","type":"uint256"},{"name":"_optionsExchange","type":"address"},{"name":"_oracleAddress","type":"address"},{"name":"_windowSize","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"VaultOpened","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"payer","type":"address"}],"name":"ETHCollateralAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"payer","type":"address"}],"name":"ERC20CollateralAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"issuedTo","type":"address"},{"indexed":false,"name":"oTokensIssued","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"IssuedOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtCollateralToPay","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"liquidator","type":"address"}],"name":"Liquidate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtUnderlyingToPay","type":"uint256"},{"indexed":false,"name":"amtCollateralToPay","type":"uint256"},{"indexed":false,"name":"exerciser","type":"address"},{"indexed":false,"name":"vaultExercisedFrom","type":"address"}],"name":"Exercise","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtCollateralRedeemed","type":"uint256"},{"indexed":false,"name":"amtUnderlyingRedeemed","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RedeemVaultBalance","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"vaultOwner","type":"address"},{"indexed":false,"name":"oTokensBurned","type":"uint256"}],"name":"BurnOTokens","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amtRemoved","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RemoveCollateral","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"liquidationIncentive","type":"uint256"},{"indexed":false,"name":"liquidationFactor","type":"uint256"},{"indexed":false,"name":"transactionFee","type":"uint256"},{"indexed":false,"name":"minCollateralizationRatio","type":"uint256"},{"indexed":false,"name":"owner","type":"address"}],"name":"UpdateParameters","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"to","type":"address"},{"indexed":false,"name":"fees","type":"uint256"}],"name":"TransferFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amountUnderlying","type":"uint256"},{"indexed":false,"name":"vaultOwner","type":"address"}],"name":"RemoveUnderlying","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}]')},179:function(e,t,a){e.exports=a(413)},184:function(e,t,a){},198:function(e,t){},221:function(e,t){},223:function(e,t){},267:function(e,t){},269:function(e,t){},298:function(e,t){},410:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"getPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"PriceOracle","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"asset","type":"address"}],"name":"isCETH","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_oracleAddress","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]')},412:function(e,t,a){},413:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(32),u=a.n(r),i=(a(184),a(17)),o=a(55),l=a(25),p=a(2),c=a.n(p),m=a(9),y=a(38),d=a(39),f=a(41),b=a(40),v=a(42),h=a(4),w=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).connectWeb3=Object(m.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return t=e.sent,a.setState({isConnected:!0,account:t[0]}),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),a.state={isConnected:!1,account:""},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.isConnected?s.a.createElement(h.d,null,s.a.createElement(h.l,{entity:this.state.account,connectedAccount:!0})):s.a.createElement(h.d,{icon:s.a.createElement(h.g,null),label:"Connect",onClick:this.connectWeb3})}}]),t}(n.Component);var x=function(e){var t=e.theme,a=e.updateTheme;return s.a.createElement(h.d,{icon:"dark"===t?s.a.createElement(h.j,null):s.a.createElement(h.k,null),onClick:function(){a("light"===t?"dark":"light")},label:"Theme"})};var O=function(e){var t=e.theme,a=e.updateTheme,r=Object(l.f)(),u=Object(n.useState)(!0),o=Object(i.a)(u,2),p=o[0],c=o[1];return Object(n.useEffect)((function(){var e="/"===r.location.pathname;c(e)}),[r.location.pathname]),s.a.createElement(h.b,{primary:p?s.a.createElement(s.a.Fragment,null):s.a.createElement(h.a,{onClick:function(e){r.push("/")}}),secondary:s.a.createElement(s.a.Fragment,null,s.a.createElement(w,null),s.a.createElement(x,{theme:t,updateTheme:a}))})},E=[{addr:"0xddac4aed7c8f73032b388efe2c778fc194bc81ed",name:"cDai Insurance"},{addr:"0x98cc3bd6af1880fcfda17ac477b2f612980e5e33",name:"cDai Insurance"},{addr:"0x8ed9f862363ffdfd3a07546e618214b6d59f03d4",name:"cUSDC Insurance"},{addr:"0x4ba8c6ce0e855c051e65dfc37883360efaf7c82b",name:"y.curve.fi Insurance"}];var k=function(){var e=Object(l.f)();return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.f,{primary:"All Insurances"}),s.a.createElement(h.e,{fields:["Name","Contract","Detail"],entries:E,entriesPerPage:6,renderEntry:function(t){var a=t.addr,n=t.name;return[s.a.createElement(s.a.Fragment,null,n),s.a.createElement(h.l,{entity:a,shorten:!1}),s.a.createElement(h.d,{onClick:function(){return function(t){e.push("/token/".concat(t))}(a)}}," Manage ")]}}))},g=a(58),M=a.n(g),C=a(174),T=Object(C.a)({dappId:"7e7c9d55-dd5e-4ee1-bc38-edf27b59ce06",networkId:1}),j=a(169),I=function(){var e=Object(m.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(c.a.mark((function e(t,a,n){var s,r,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return s=e.sent,r=new M.a(window.ethereum),u=new r.eth.Contract(j,t),e.next=7,u.methods.liquidate(a,n).send({from:s[0]}).on("transactionHash",(function(e){T.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(c.a.mark((function e(t,a,n){var s,r,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return s=e.sent,r=new M.a(window.ethereum),u=new r.eth.Contract(j,t),e.next=7,u.methods.addETHCollateral(a).send({from:s[0],value:r.utils.toWei(n)}).on("transactionHash",(function(e){T.hash(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();function A(e,t){return parseFloat(e).toFixed(t)}var P=a(169),R=a(410),q=a(411),_=new M.a("https://mainnet.infura.io/v3/44fd23cda65746a699a5d3c0e2fa45d5"),L=function(){var e=Object(m.a)(c.a.mark((function e(t){var a,n,s,r,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.all([W(t),N(t),B(t)]);case 2:return a=e.sent,n=Object(i.a)(a,3),s=n[0],r=n[1],u=n[2],e.abrupt("return",{name:s.name,decimals:s.decimals,totalSupply:s.totalSupply,oracle:u.oracle,underlying:u.underlying,strike:u.strike,strikePrice:u.strikePrice,minRatio:u.minRatio,balance:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(c.a.mark((function e(t,a){var n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new _.eth.Contract(P,a),e.next=3,q.map(t,function(){var e=Object(m.a)(c.a.mark((function e(t){var a,s,r,u,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.getVault(t).call();case 2:return a=e.sent,s=A(_.utils.fromWei(a[0]),6),r=a[1],u=a[2],i=a[3],e.abrupt("return",{collateral:s,oTokensIssued:r,underlying:u,owned:i,owner:t});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).filter((function(e){return e.owned&&parseFloat(e.collateral)>0}));case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(c.a.mark((function e(t,a){var n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new _.eth.Contract(P,a),e.next=3,q.map(t,function(){var e=Object(m.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=0,!t.isUnsafe){e.next=5;break}return e.next=4,n.methods.maxOTokensLiquidatable(t.owner).call();case 4:a=e.sent;case 5:return t.maxLiquidatable=a,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return s=e.sent,e.abrupt("return",s.sort(J));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(c.a.mark((function e(t,a,n){var s,r,u,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new _.eth.Contract(P,t),e.next=3,s.methods.maxOTokensLiquidatable(a).call();case 3:if(r=e.sent,!n){e.next=10;break}return e.next=7,s.methods.balanceOf(n).call();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=0;case 11:return u=e.t0,i=Math.min(parseInt(u,10),parseInt(r,10)).toString(),e.abrupt("return",parseInt(i));case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new _.eth.Contract(P,t),e.next=3,a.methods.decimals().call();case 3:return n=e.sent,e.abrupt("return",parseInt(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(c.a.mark((function e(t){var a,n,s,r,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new _.eth.Contract(P,t),e.next=3,a.methods.name().call();case 3:return n=e.sent,e.next=6,a.methods.totalSupply().call();case 6:return s=e.sent,e.next=9,a.methods.decimals().call();case 9:return r=e.sent,u=parseInt(s)/Math.pow(10,parseInt(r)),e.abrupt("return",{name:n,decimals:r,totalSupply:u});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(c.a.mark((function e(t){var a,n,s,r,u,o,l,p,m,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new _.eth.Contract(P,t),e.next=3,q.all([a.methods.COMPOUND_ORACLE().call(),a.methods.underlying().call(),a.methods.strike().call(),a.methods.minCollateralizationRatio().call(),a.methods.strikePrice().call()]);case 3:return n=e.sent,s=Object(i.a)(n,5),r=s[0],u=s[1],o=s[2],l=s[3],p=s[4],m=p[0]*Math.pow(10,p[1]),y=l[0]*Math.pow(10,l[1]),e.abrupt("return",{underlying:u,strike:o,minRatio:y,strikePrice:m,oracle:r});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.eth.getBalance(t);case 2:return a=e.sent,e.abrupt("return",_.utils.fromWei(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(c.a.mark((function e(t,a){var n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new _.eth.Contract(R,t),e.next=3,n.methods.getPrice(a).call();case 3:return s=e.sent,e.abrupt("return",_.utils.fromWei(s));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function J(e,t){var a=e.ratio,n=t.ratio,s=0;return parseFloat(a)>parseFloat(n)?s=1:parseFloat(a)<parseFloat(n)&&(s=-1),s}var $=function(e){var t=e.tokenAddress,a=e.vaultOwner,r=(e.collateral,e.isSafe),u=(e.oTokensIssued,e.ratio,Object(n.useState)(!1)),o=Object(i.a)(u,2),l=o[0],p=o[1],y=Object(n.useState)(0),d=Object(i.a)(y,2),f=d[0],b=d[1],v=Object(n.useState)(0),w=Object(i.a)(v,2),x=w[0],O=w[1],E=Object(n.useState)(0),k=Object(i.a)(E,2),g=k[0],M=k[1];return Object(n.useEffect)((function(){return Object(m.a)(c.a.mark((function e(){var n,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return n=e.sent,e.next=5,H(t,a,n[0]);case 5:return s=e.sent,e.next=8,V(t);case 8:r=e.sent,b(r),M(s/Math.pow(10,r));case 11:case"end":return e.stop()}}),e)})))})),s.a.createElement(s.a.Fragment,null,s.a.createElement(h.d,{onClick:function(){return p(!0)},label:"Manage"}),s.a.createElement(h.n,{width:Math.min(window.innerWidth-48,750),padding:50,visible:l,onClose:function(){return p(!1)}},s.a.createElement(h.c,{heading:"Owner"},s.a.createElement(h.l,{entity:a,shorten:!1})),s.a.createElement("br",null),s.a.createElement(h.c,{heading:"Add Collateral"},s.a.createElement(h.q,{type:"number",adornment:s.a.createElement(h.h,null),adornmentPosition:"end",value:x,onChange:function(e){O(e.target.value)}}),s.a.createElement(h.d,{label:"Add Collateral",onClick:function(){F(t,a,x)}})),s.a.createElement("br",null),s.a.createElement(h.c,{heading:"Liquidate"},s.a.createElement(h.q,{type:"number",adornment:s.a.createElement(h.i,null),adornmentPosition:"end",value:g,onChange:function(e){M(e.target.value)}}),s.a.createElement(h.d,{disabled:r,label:"Liquidate",onClick:function(){S(t,a,g*Math.pow(10,f))}}))))},G=a(177),K="https://api.thegraph.com/subgraphs/name/aparnakr/opyn";function Q(){return X.apply(this,arguments)}function X(){return(X=Object(m.a)(c.a.mark((function e(){var t,a,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"{\n    vaultOpenedActions(first: 100, ) {\n      owner\n    }\n  }",t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"{\n    vaultOpenedActions(first: 100, ) {\n      owner\n    }\n  }"})},e.next=4,fetch(K,t);case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent.data.vaultOpenedActions,s=n.map((function(e){return e.owner})),e.abrupt("return",Object(G.a)(new Set(s)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!0,strikePrice:"0",vaults:[]},a.componentDidMount=Object(m.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.updateInfo();case 2:setInterval(a.updateInfo,15e3);case 3:case"end":return e.stop()}}),e)}))),a.updateInfo=Object(m.a)(c.a.mark((function e(){var t,n,s,r,u,i,o,l,p,m,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:return t=e.sent,e.next=5,L(a.props.oToken);case 5:return n=e.sent,s=n.strike,r=n.decimals,u=n.minRatio,i=n.strikePrice,o=n.oracle,e.next=13,U(t,a.props.oToken);case 13:return l=e.sent,e.next=16,z(o,s);case 16:return e.t0=e.sent,p=1/e.t0,m=l.map((function(e){var t=parseFloat(i)*e.oTokensIssued,a=A(parseFloat(e.collateral)*p/t,4),n=A(parseInt(e.oTokensIssued)/Math.pow(10,r),4);return e.oTokensIssued=n,e.ratio=a,e.isSafe=a>u,e})),e.next=21,D(m);case 21:y=e.sent,a.setState({vaults:y,isLoading:!1,strikePrice:i});case 23:case"end":return e.stop()}}),e)}))),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(h.e,{heading:s.a.createElement("h3",null," All Vaults "),status:this.state.isLoading?"loading":"default",fields:["Owner","collateral","Issued","RATIO","Status","Manage"],entries:this.state.vaults,entriesPerPage:6,renderEntry:function(t){var a=t.owner,n=t.collateral,r=t.oTokensIssued,u=t.ratio,i=t.isSafe;return[s.a.createElement(h.l,{entity:a,shorten:!0}),n,r,u,i?u<1.7?s.a.createElement(h.p,{background:"#FFEBAD",color:"#FEC100"}," ","Danger"," "):s.a.createElement(h.p,{mode:"new"}," safe "):s.a.createElement(h.p,{color:"#E34343",background:"#FFC6C6"},"Unsafe!"),s.a.createElement($,{tokenAddress:e.props.oToken,vaultOwner:a,collateral:n,isSafe:i,oTokensIssued:r,ratio:u})]}})}}]),t}(n.Component),Z=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(s)))).state={name:"oToken",balance:"0",supply:"0"},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(c.a.mark((function e(){var t,a,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(this.props.oToken);case 2:t=e.sent,a=t.balance,n=t.totalSupply,s=t.name,this.setState({balance:a,supply:n,name:s});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.f,{primary:this.state.name}),s.a.createElement(h.o,{primary:s.a.createElement(h.o,{primary:s.a.createElement(h.c,{heading:"contract",padding:30},s.a.createElement(h.l,{entity:this.props.oToken,shorten:!1})),secondary:s.a.createElement(h.c,{heading:"balance",padding:30},this.state.balance)}),secondary:s.a.createElement(h.c,{heading:"supply",padding:30},this.state.supply," ",this.props.tokenName)}))}}]),t}(n.Component);var ee=function(){var e=Object(l.g)().addr;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Z,{oToken:e}),s.a.createElement(Y,{oToken:e}))};a(412);var te=function(){var e=window.localStorage.getItem("theme")||"light",t=Object(n.useState)(e),a=Object(i.a)(t,2),r=a[0],u=a[1];return s.a.createElement(o.a,null,s.a.createElement(h.m,{theme:r},s.a.createElement(O,{theme:r,updateTheme:function(e){u(e),window.localStorage.setItem("theme",e)}}),s.a.createElement(l.c,null,s.a.createElement(l.a,{path:"/token/:addr",children:s.a.createElement(ee,null)}),s.a.createElement(l.a,{path:"/",children:s.a.createElement(k,null)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(s.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[179,1,2]]]);
//# sourceMappingURL=main.dcfe0d9b.chunk.js.map